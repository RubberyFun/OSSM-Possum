<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>OSSM Possum</title>
    <link rel="icon" href="favicon.svg">
    <link rel="apple-touch-icon" href="possum_logo_192.png" sizes="192x192">
    <link rel="mask-icon" href="favicon.svg" color="#3a3a3a">
    <link rel="manifest" href="manifest.webmanifest" />
    <meta name="theme-color" content="#3a3a3a">
    <script>
      window.coi = {
        shouldRegister: () => !(window.Capacitor && window.Capacitor.isNativePlatform && window.Capacitor.isNativePlatform()),
        shouldDeregister: () => !!(window.Capacitor && window.Capacitor.isNativePlatform && window.Capacitor.isNativePlatform()),
        doReload: () => {
          if (!(window.Capacitor && window.Capacitor.isNativePlatform && window.Capacitor.isNativePlatform())) {
            window.location.reload()
          }
        }
      }
    </script>
    <script src="coi-serviceworker.min.js"></script>
    <script type="module" crossorigin>(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(a){if(a.ep)return;a.ep=!0;const u=n(a);fetch(a.href,u)}})();const Hn=!1;var Ln=Array.isArray,Fi=Array.prototype.indexOf,Gt=Array.prototype.includes,Pn=Array.from,Mi=Object.defineProperty,Yt=Object.getOwnPropertyDescriptor,Ui=Object.getOwnPropertyDescriptors,qr=Object.prototype,Ri=Array.prototype,er=Object.getPrototypeOf,_r=Object.isExtensible;const Ni=()=>{};function $i(t){for(var e=0;e<t.length;e++)t[e]()}function jr(){var t,e,n=new Promise((s,a)=>{t=s,e=a});return{promise:n,resolve:t,reject:e}}const Ae=2,Cn=4,On=8,Vr=1<<24,bt=16,ht=32,Vt=64,tr=128,nt=512,Fe=1024,$e=2048,xt=4096,Je=8192,gt=16384,nr=32768,Jt=65536,gr=1<<17,Wr=1<<18,tn=1<<19,qi=1<<20,_t=1<<25,qt=32768,zn=1<<21,rr=1<<22,Ct=1<<23,Rt=Symbol("$state"),ji=Symbol("legacy props"),Vi=Symbol(""),Ht=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function Wi(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Ki(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Hi(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function zi(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Yi(t){throw new Error("https://svelte.dev/e/effect_orphan")}function Gi(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ji(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function Xi(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Zi(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Qi(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function es(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const ts=1,ns=2,Kr=4,rs=8,is=16,ss=1,as=4,os=8,ls=16,us=1,cs=2,De=Symbol(),fs="http://www.w3.org/1999/xhtml";function ds(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function hs(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function Hr(t){return t===this.v}function vs(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function zr(t){return!vs(t,this.v)}let ps=!1;const _s=[];function ze(t,e=!1,n=!1){return Bn(t,new Map,"",_s,null,n)}function Bn(t,e,n,s,a=null,u=!1){if(typeof t=="object"&&t!==null){var c=e.get(t);if(c!==void 0)return c;if(t instanceof Map)return new Map(t);if(t instanceof Set)return new Set(t);if(Ln(t)){var o=Array(t.length);e.set(t,o),a!==null&&e.set(a,o);for(var h=0;h<t.length;h+=1){var p=t[h];h in t&&(o[h]=Bn(p,e,n,s,null,u))}return o}if(er(t)===qr){o={},e.set(t,o),a!==null&&e.set(a,o);for(var g in t)o[g]=Bn(t[g],e,n,s,null,u);return o}if(t instanceof Date)return structuredClone(t);if(typeof t.toJSON=="function"&&!u)return Bn(t.toJSON(),e,n,s,t)}if(t instanceof EventTarget)return t;try{return structuredClone(t)}catch{return t}}let Xe=null;function Xt(t){Xe=t}function ir(t,e=!1,n){Xe={p:Xe,i:!1,c:null,e:null,s:t,x:null,l:null}}function sr(t){var e=Xe,n=e.e;if(n!==null){e.e=null;for(var s of n)hi(s)}return t!==void 0&&(e.x=t),e.i=!0,Xe=e.p,t??{}}function Yr(){return!0}let Tt=[];function Gr(){var t=Tt;Tt=[],$i(t)}function yt(t){if(Tt.length===0&&!ln){var e=Tt;queueMicrotask(()=>{e===Tt&&Gr()})}Tt.push(t)}function gs(){for(;Tt.length>0;)Gr()}function Jr(t){var e=ee;if(e===null)return X.f|=Ct,t;if((e.f&nr)===0){if((e.f&tr)===0)throw t;e.b.error(t)}else Zt(t,e)}function Zt(t,e){for(;e!==null;){if((e.f&tr)!==0)try{e.b.error(t);return}catch(n){t=n}e=e.parent}throw t}const ys=-7169;function Ee(t,e){t.f=t.f&ys|e}function ar(t){(t.f&nt)!==0||t.deps===null?Ee(t,Fe):Ee(t,xt)}function Xr(t){if(t!==null)for(const e of t)(e.f&Ae)===0||(e.f&qt)===0||(e.f^=qt,Xr(e.deps))}function Zr(t,e,n){(t.f&$e)!==0?e.add(t):(t.f&xt)!==0&&n.add(t),Xr(t.deps),Ee(t,Fe)}const bn=new Set;let Q=null,An=null,lt=null,Ge=[],Tn=null,Yn=!1,ln=!1;class At{committed=!1;current=new Map;previous=new Map;#t=new Set;#a=new Set;#e=0;#i=0;#s=null;#r=new Set;#n=new Set;skipped_effects=new Set;is_fork=!1;#o=!1;is_deferred(){return this.is_fork||this.#i>0}process(e){Ge=[],this.apply();var n=[],s=[];for(const a of e)this.#l(a,n,s);if(this.is_deferred())this.#u(s),this.#u(n);else{for(const a of this.#t)a();this.#t.clear(),this.#e===0&&this.#c(),An=this,Q=null,yr(s),yr(n),An=null,this.#s?.resolve()}lt=null}#l(e,n,s){e.f^=Fe;for(var a=e.first,u=null;a!==null;){var c=a.f,o=(c&(ht|Vt))!==0,h=o&&(c&Fe)!==0,p=h||(c&Je)!==0||this.skipped_effects.has(a);if(!p&&a.fn!==null){o?a.f^=Fe:u!==null&&(c&(Cn|On|Vr))!==0?u.b.defer_effect(a):(c&Cn)!==0?n.push(a):gn(a)&&((c&bt)!==0&&this.#n.add(a),vn(a));var g=a.first;if(g!==null){a=g;continue}}var k=a.parent;for(a=a.next;a===null&&k!==null;)k===u&&(u=null),a=k.next,k=k.parent}}#u(e){for(var n=0;n<e.length;n+=1)Zr(e[n],this.#r,this.#n)}capture(e,n){n!==De&&!this.previous.has(e)&&this.previous.set(e,n),(e.f&Ct)===0&&(this.current.set(e,e.v),lt?.set(e,e.v))}activate(){Q=this,this.apply()}deactivate(){Q===this&&(Q=null,lt=null)}flush(){if(this.activate(),Ge.length>0){if(Qr(),Q!==null&&Q!==this)return}else this.#e===0&&this.process([]);this.deactivate()}discard(){for(const e of this.#a)e(this);this.#a.clear()}#c(){if(bn.size>1){this.previous.clear();var e=lt,n=!0;for(const a of bn){if(a===this){n=!1;continue}const u=[];for(const[o,h]of this.current){if(a.current.has(o))if(n&&h!==a.current.get(o))a.current.set(o,h);else continue;u.push(o)}if(u.length===0)continue;const c=[...a.current.keys()].filter(o=>!this.current.has(o));if(c.length>0){var s=Ge;Ge=[];const o=new Set,h=new Map;for(const p of u)ei(p,c,o,h);if(Ge.length>0){Q=a,a.apply();for(const p of Ge)a.#l(p,[],[]);a.deactivate()}Ge=s}}Q=null,lt=e}this.committed=!0,bn.delete(this)}increment(e){this.#e+=1,e&&(this.#i+=1)}decrement(e){this.#e-=1,e&&(this.#i-=1),!this.#o&&(this.#o=!0,yt(()=>{this.#o=!1,this.is_deferred()?Ge.length>0&&this.flush():this.revive()}))}revive(){for(const e of this.#r)this.#n.delete(e),Ee(e,$e),mt(e);for(const e of this.#n)Ee(e,xt),mt(e);this.flush()}oncommit(e){this.#t.add(e)}ondiscard(e){this.#a.add(e)}settled(){return(this.#s??=jr()).promise}static ensure(){if(Q===null){const e=Q=new At;bn.add(Q),ln||yt(()=>{Q===e&&e.flush()})}return Q}apply(){}}function ws(t){var e=ln;ln=!0;try{for(var n;;){if(gs(),Ge.length===0&&(Q?.flush(),Ge.length===0))return Tn=null,n;Qr()}}finally{ln=e}}function Qr(){Yn=!0;var t=null;try{for(var e=0;Ge.length>0;){var n=At.ensure();if(e++>1e3){var s,a;ms()}n.process(Ge),It.clear()}}finally{Yn=!1,Tn=null}}function ms(){try{Gi()}catch(t){Zt(t,Tn)}}let pt=null;function yr(t){var e=t.length;if(e!==0){for(var n=0;n<e;){var s=t[n++];if((s.f&(gt|Je))===0&&gn(s)&&(pt=new Set,vn(s),s.deps===null&&s.first===null&&s.nodes===null&&(s.teardown===null&&s.ac===null?yi(s):s.fn=null),pt?.size>0)){It.clear();for(const a of pt){if((a.f&(gt|Je))!==0)continue;const u=[a];let c=a.parent;for(;c!==null;)pt.has(c)&&(pt.delete(c),u.push(c)),c=c.parent;for(let o=u.length-1;o>=0;o--){const h=u[o];(h.f&(gt|Je))===0&&vn(h)}}pt.clear()}}pt=null}}function ei(t,e,n,s){if(!n.has(t)&&(n.add(t),t.reactions!==null))for(const a of t.reactions){const u=a.f;(u&Ae)!==0?ei(a,e,n,s):(u&(rr|bt))!==0&&(u&$e)===0&&ti(a,e,s)&&(Ee(a,$e),mt(a))}}function ti(t,e,n){const s=n.get(t);if(s!==void 0)return s;if(t.deps!==null)for(const a of t.deps){if(Gt.call(e,a))return!0;if((a.f&Ae)!==0&&ti(a,e,n))return n.set(a,!0),!0}return n.set(t,!1),!1}function mt(t){for(var e=Tn=t;e.parent!==null;){e=e.parent;var n=e.f;if(Yn&&e===ee&&(n&bt)!==0&&(n&Wr)===0)return;if((n&(Vt|ht))!==0){if((n&Fe)===0)return;e.f^=Fe}}Ge.push(e)}function bs(t){let e=0,n=jt(0),s;return()=>{lr()&&(d(n),cr(()=>(e===0&&(s=yn(()=>t(()=>un(n)))),e+=1,()=>{yt(()=>{e-=1,e===0&&(s?.(),s=void 0,un(n))})})))}}var xs=Jt|tn|tr;function Es(t,e,n){new ks(t,e,n)}class ks{parent;is_pending=!1;#t;#a=null;#e;#i;#s;#r=null;#n=null;#o=null;#l=null;#u=null;#c=0;#d=0;#v=!1;#h=!1;#p=new Set;#_=new Set;#f=null;#b=bs(()=>(this.#f=jt(this.#c),()=>{this.#f=null}));constructor(e,n,s){this.#t=e,this.#e=n,this.#i=s,this.parent=ee.b,this.is_pending=!!this.#e.pending,this.#s=fr(()=>{ee.b=this;{var a=this.#w();try{this.#r=tt(()=>s(a))}catch(u){this.error(u)}this.#d>0?this.#y():this.is_pending=!1}return()=>{this.#u?.remove()}},xs)}#x(){try{this.#r=tt(()=>this.#i(this.#t))}catch(e){this.error(e)}}#E(){const e=this.#e.pending;e&&(this.#n=tt(()=>e(this.#t)),yt(()=>{var n=this.#w();this.#r=this.#g(()=>(At.ensure(),tt(()=>this.#i(n)))),this.#d>0?this.#y():(Nt(this.#n,()=>{this.#n=null}),this.is_pending=!1)}))}#w(){var e=this.#t;return this.is_pending&&(this.#u=wt(),this.#t.before(this.#u),e=this.#u),e}defer_effect(e){Zr(e,this.#p,this.#_)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#e.pending}#g(e){var n=ee,s=X,a=Xe;dt(this.#s),it(this.#s),Xt(this.#s.ctx);try{return e()}catch(u){return Jr(u),null}finally{dt(n),it(s),Xt(a)}}#y(){const e=this.#e.pending;this.#r!==null&&(this.#l=document.createDocumentFragment(),this.#l.append(this.#u),bi(this.#r,this.#l)),this.#n===null&&(this.#n=tt(()=>e(this.#t)))}#m(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#m(e);return}if(this.#d+=e,this.#d===0){this.is_pending=!1;for(const n of this.#p)Ee(n,$e),mt(n);for(const n of this.#_)Ee(n,xt),mt(n);this.#p.clear(),this.#_.clear(),this.#n&&Nt(this.#n,()=>{this.#n=null}),this.#l&&(this.#t.before(this.#l),this.#l=null)}}update_pending_count(e){this.#m(e),this.#c+=e,!(!this.#f||this.#v)&&(this.#v=!0,yt(()=>{this.#v=!1,this.#f&&Qt(this.#f,this.#c)}))}get_effect_pending(){return this.#b(),d(this.#f)}error(e){var n=this.#e.onerror;let s=this.#e.failed;if(this.#h||!n&&!s)throw e;this.#r&&(We(this.#r),this.#r=null),this.#n&&(We(this.#n),this.#n=null),this.#o&&(We(this.#o),this.#o=null);var a=!1,u=!1;const c=()=>{if(a){hs();return}a=!0,u&&es(),At.ensure(),this.#c=0,this.#o!==null&&Nt(this.#o,()=>{this.#o=null}),this.is_pending=this.has_pending_snippet(),this.#r=this.#g(()=>(this.#h=!1,tt(()=>this.#i(this.#t)))),this.#d>0?this.#y():this.is_pending=!1};yt(()=>{try{u=!0,n?.(e,c),u=!1}catch(o){Zt(o,this.#s&&this.#s.parent)}s&&(this.#o=this.#g(()=>{At.ensure(),this.#h=!0;try{return tt(()=>{s(this.#t,()=>e,()=>c)})}catch(o){return Zt(o,this.#s.parent),null}finally{this.#h=!1}}))})}}function Ss(t,e,n,s){const a=Fn;var u=t.filter(m=>!m.settled);if(n.length===0&&u.length===0){s(e.map(a));return}var c=Q,o=ee,h=Bs(),p=u.length===1?u[0].promise:u.length>1?Promise.all(u.map(m=>m.promise)):null;function g(m){h();try{s(m)}catch(y){(o.f&gt)===0&&Zt(y,o)}c?.deactivate(),Gn()}if(n.length===0){p.then(()=>g(e.map(a)));return}function k(){h(),Promise.all(n.map(m=>Ds(m))).then(m=>g([...e.map(a),...m])).catch(m=>Zt(m,o))}p?p.then(k):k()}function Bs(){var t=ee,e=X,n=Xe,s=Q;return function(u=!0){dt(t),it(e),Xt(n),u&&s?.activate()}}function Gn(){dt(null),it(null),Xt(null)}function Fn(t){var e=Ae|$e,n=X!==null&&(X.f&Ae)!==0?X:null;return ee!==null&&(ee.f|=tn),{ctx:Xe,deps:null,effects:null,equals:Hr,f:e,fn:t,reactions:null,rv:0,v:De,wv:0,parent:n??ee,ac:null}}function Ds(t,e,n){let s=ee;s===null&&Ki();var a=s.b,u=void 0,c=jt(De),o=!X,h=new Map;return Ns(()=>{var p=jr();u=p.promise;try{Promise.resolve(t()).then(p.resolve,p.reject).then(()=>{g===Q&&g.committed&&g.deactivate(),Gn()})}catch(y){p.reject(y),Gn()}var g=Q;if(o){var k=a.is_rendered();a.update_pending_count(1),g.increment(k),h.get(g)?.reject(Ht),h.delete(g),h.set(g,p)}const m=(y,A=void 0)=>{if(g.activate(),A)A!==Ht&&(c.f|=Ct,Qt(c,A));else{(c.f&Ct)!==0&&(c.f^=Ct),Qt(c,y);for(const[L,D]of h){if(h.delete(L),L===g)break;D.reject(Ht)}}o&&(a.update_pending_count(-1),g.decrement(k))};p.promise.then(m,y=>m(null,y||"unknown"))}),ur(()=>{for(const p of h.values())p.reject(Ht)}),new Promise(p=>{function g(k){function m(){k===u?p(c):g(u)}k.then(m,m)}g(u)})}function Cs(t){const e=Fn(t);return xi(e),e}function ni(t){const e=Fn(t);return e.equals=zr,e}function ri(t){var e=t.effects;if(e!==null){t.effects=null;for(var n=0;n<e.length;n+=1)We(e[n])}}function As(t){for(var e=t.parent;e!==null;){if((e.f&Ae)===0)return(e.f&gt)===0?e:null;e=e.parent}return null}function or(t){var e,n=ee;dt(As(t));try{t.f&=~qt,ri(t),e=Bi(t)}finally{dt(n)}return e}function ii(t){var e=or(t);if(!t.equals(e)&&(t.wv=ki(),(!Q?.is_fork||t.deps===null)&&(t.v=e,t.deps===null))){Ee(t,Fe);return}Lt||(lt!==null?(lr()||Q?.is_fork)&&lt.set(t,e):ar(t))}let Jn=new Set;const It=new Map;let si=!1;function jt(t,e){var n={f:0,v:t,reactions:null,equals:Hr,rv:0,wv:0};return n}function me(t,e){const n=jt(t);return xi(n),n}function Is(t,e=!1,n=!0){const s=jt(t);return e||(s.equals=zr),s}function oe(t,e,n=!1){X!==null&&(!ut||(X.f&gr)!==0)&&Yr()&&(X.f&(Ae|bt|rr|gr))!==0&&(rt===null||!Gt.call(rt,t))&&Qi();let s=n?Ne(e):e;return Qt(t,s)}function Qt(t,e){if(!t.equals(e)){var n=t.v;Lt?It.set(t,e):It.set(t,n),t.v=e;var s=At.ensure();if(s.capture(t,n),(t.f&Ae)!==0){const a=t;(t.f&$e)!==0&&or(a),ar(a)}t.wv=ki(),ai(t,$e),ee!==null&&(ee.f&Fe)!==0&&(ee.f&(ht|Vt))===0&&(et===null?qs([t]):et.push(t)),!s.is_fork&&Jn.size>0&&!si&&Ls()}return e}function Ls(){si=!1;for(const t of Jn)(t.f&Fe)!==0&&Ee(t,xt),gn(t)&&vn(t);Jn.clear()}function un(t){oe(t,t.v+1)}function ai(t,e){var n=t.reactions;if(n!==null)for(var s=n.length,a=0;a<s;a++){var u=n[a],c=u.f,o=(c&$e)===0;if(o&&Ee(u,e),(c&Ae)!==0){var h=u;lt?.delete(h),(c&qt)===0&&(c&nt&&(u.f|=qt),ai(h,xt))}else o&&((c&bt)!==0&&pt!==null&&pt.add(u),mt(u))}}function Ne(t){if(typeof t!="object"||t===null||Rt in t)return t;const e=er(t);if(e!==qr&&e!==Ri)return t;var n=new Map,s=Ln(t),a=me(0),u=$t,c=o=>{if($t===u)return o();var h=X,p=$t;it(null),Er(u);var g=o();return it(h),Er(p),g};return s&&n.set("length",me(t.length)),new Proxy(t,{defineProperty(o,h,p){(!("value"in p)||p.configurable===!1||p.enumerable===!1||p.writable===!1)&&Xi();var g=n.get(h);return g===void 0?g=c(()=>{var k=me(p.value);return n.set(h,k),k}):oe(g,p.value,!0),!0},deleteProperty(o,h){var p=n.get(h);if(p===void 0){if(h in o){const g=c(()=>me(De));n.set(h,g),un(a)}}else oe(p,De),un(a);return!0},get(o,h,p){if(h===Rt)return t;var g=n.get(h),k=h in o;if(g===void 0&&(!k||Yt(o,h)?.writable)&&(g=c(()=>{var y=Ne(k?o[h]:De),A=me(y);return A}),n.set(h,g)),g!==void 0){var m=d(g);return m===De?void 0:m}return Reflect.get(o,h,p)},getOwnPropertyDescriptor(o,h){var p=Reflect.getOwnPropertyDescriptor(o,h);if(p&&"value"in p){var g=n.get(h);g&&(p.value=d(g))}else if(p===void 0){var k=n.get(h),m=k?.v;if(k!==void 0&&m!==De)return{enumerable:!0,configurable:!0,value:m,writable:!0}}return p},has(o,h){if(h===Rt)return!0;var p=n.get(h),g=p!==void 0&&p.v!==De||Reflect.has(o,h);if(p!==void 0||ee!==null&&(!g||Yt(o,h)?.writable)){p===void 0&&(p=c(()=>{var m=g?Ne(o[h]):De,y=me(m);return y}),n.set(h,p));var k=d(p);if(k===De)return!1}return g},set(o,h,p,g){var k=n.get(h),m=h in o;if(s&&h==="length")for(var y=p;y<k.v;y+=1){var A=n.get(y+"");A!==void 0?oe(A,De):y in o&&(A=c(()=>me(De)),n.set(y+"",A))}if(k===void 0)(!m||Yt(o,h)?.writable)&&(k=c(()=>me(void 0)),oe(k,Ne(p)),n.set(h,k));else{m=k.v!==De;var L=c(()=>Ne(p));oe(k,L)}var D=Reflect.getOwnPropertyDescriptor(o,h);if(D?.set&&D.set.call(g,p),!m){if(s&&typeof h=="string"){var O=n.get("length"),M=Number(h);Number.isInteger(M)&&M>=O.v&&oe(O,M+1)}un(a)}return!0},ownKeys(o){d(a);var h=Reflect.ownKeys(o).filter(k=>{var m=n.get(k);return m===void 0||m.v!==De});for(var[p,g]of n)g.v!==De&&!(p in o)&&h.push(p);return h},setPrototypeOf(){Zi()}})}function wr(t){try{if(t!==null&&typeof t=="object"&&Rt in t)return t[Rt]}catch{}return t}function Ps(t,e){return Object.is(wr(t),wr(e))}var mr,oi,li,ui;function Os(){if(mr===void 0){mr=window,oi=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,n=Text.prototype;li=Yt(e,"firstChild").get,ui=Yt(e,"nextSibling").get,_r(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),_r(n)&&(n.__t=void 0)}}function wt(t=""){return document.createTextNode(t)}function Dt(t){return li.call(t)}function _n(t){return ui.call(t)}function U(t,e){return Dt(t)}function je(t,e=!1){{var n=Dt(t);return n instanceof Comment&&n.data===""?_n(n):n}}function F(t,e=1,n=!1){let s=t;for(;e--;)s=_n(s);return s}function Ts(t){t.textContent=""}function ci(){return!1}let br=!1;function Fs(){br||(br=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{if(!t.defaultPrevented)for(const e of t.target.elements)e.__on_r?.()})},{capture:!0}))}function Mn(t){var e=X,n=ee;it(null),dt(null);try{return t()}finally{it(e),dt(n)}}function fi(t,e,n,s=n){t.addEventListener(e,()=>Mn(n));const a=t.__on_r;a?t.__on_r=()=>{a(),s(!0)}:t.__on_r=()=>s(!0),Fs()}function Ms(t){ee===null&&(X===null&&Yi(),zi()),Lt&&Hi()}function Us(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function Et(t,e,n){var s=ee;s!==null&&(s.f&Je)!==0&&(t|=Je);var a={ctx:Xe,deps:null,nodes:null,f:t|$e|nt,first:null,fn:e,last:null,next:null,parent:s,b:s&&s.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{vn(a),a.f|=nr}catch(o){throw We(a),o}else e!==null&&mt(a);var u=a;if(n&&u.deps===null&&u.teardown===null&&u.nodes===null&&u.first===u.last&&(u.f&tn)===0&&(u=u.first,(t&bt)!==0&&(t&Jt)!==0&&u!==null&&(u.f|=Jt)),u!==null&&(u.parent=s,s!==null&&Us(u,s),X!==null&&(X.f&Ae)!==0&&(t&Vt)===0)){var c=X;(c.effects??=[]).push(u)}return a}function lr(){return X!==null&&!ut}function ur(t){const e=Et(On,null,!1);return Ee(e,Fe),e.teardown=t,e}function di(t){Ms();var e=ee.f,n=!X&&(e&ht)!==0&&(e&nr)===0;if(n){var s=Xe;(s.e??=[]).push(t)}else return hi(t)}function hi(t){return Et(Cn|qi,t,!1)}function Rs(t){At.ensure();const e=Et(Vt|tn,t,!0);return(n={})=>new Promise(s=>{n.outro?Nt(e,()=>{We(e),s(void 0)}):(We(e),s(void 0))})}function vi(t){return Et(Cn,t,!1)}function Ns(t){return Et(rr|tn,t,!0)}function cr(t,e=0){return Et(On|e,t,!0)}function de(t,e=[],n=[],s=[]){Ss(s,e,n,a=>{Et(On,()=>t(...a.map(d)),!0)})}function fr(t,e=0){var n=Et(bt|e,t,!0);return n}function tt(t){return Et(ht|tn,t,!0)}function pi(t){var e=t.teardown;if(e!==null){const n=Lt,s=X;xr(!0),it(null);try{e.call(null)}finally{xr(n),it(s)}}}function _i(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){const a=n.ac;a!==null&&Mn(()=>{a.abort(Ht)});var s=n.next;(n.f&Vt)!==0?n.parent=null:We(n,e),n=s}}function $s(t){for(var e=t.first;e!==null;){var n=e.next;(e.f&ht)===0&&We(e),e=n}}function We(t,e=!0){var n=!1;(e||(t.f&Wr)!==0)&&t.nodes!==null&&t.nodes.end!==null&&(gi(t.nodes.start,t.nodes.end),n=!0),_i(t,e&&!n),In(t,0),Ee(t,gt);var s=t.nodes&&t.nodes.t;if(s!==null)for(const u of s)u.stop();pi(t);var a=t.parent;a!==null&&a.first!==null&&yi(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes=t.ac=null}function gi(t,e){for(;t!==null;){var n=t===e?null:_n(t);t.remove(),t=n}}function yi(t){var e=t.parent,n=t.prev,s=t.next;n!==null&&(n.next=s),s!==null&&(s.prev=n),e!==null&&(e.first===t&&(e.first=s),e.last===t&&(e.last=n))}function Nt(t,e,n=!0){var s=[];wi(t,s,!0);var a=()=>{n&&We(t),e&&e()},u=s.length;if(u>0){var c=()=>--u||a();for(var o of s)o.out(c)}else a()}function wi(t,e,n){if((t.f&Je)===0){t.f^=Je;var s=t.nodes&&t.nodes.t;if(s!==null)for(const o of s)(o.is_global||n)&&e.push(o);for(var a=t.first;a!==null;){var u=a.next,c=(a.f&Jt)!==0||(a.f&ht)!==0&&(t.f&bt)!==0;wi(a,e,c?n:!1),a=u}}}function dr(t){mi(t,!0)}function mi(t,e){if((t.f&Je)!==0){t.f^=Je,(t.f&Fe)===0&&(Ee(t,$e),mt(t));for(var n=t.first;n!==null;){var s=n.next,a=(n.f&Jt)!==0||(n.f&ht)!==0;mi(n,a?e:!1),n=s}var u=t.nodes&&t.nodes.t;if(u!==null)for(const c of u)(c.is_global||e)&&c.in()}}function bi(t,e){if(t.nodes)for(var n=t.nodes.start,s=t.nodes.end;n!==null;){var a=n===s?null:_n(n);e.append(n),n=a}}let Dn=!1,Lt=!1;function xr(t){Lt=t}let X=null,ut=!1;function it(t){X=t}let ee=null;function dt(t){ee=t}let rt=null;function xi(t){X!==null&&(rt===null?rt=[t]:rt.push(t))}let Ve=null,Ye=0,et=null;function qs(t){et=t}let Ei=1,Ft=0,$t=Ft;function Er(t){$t=t}function ki(){return++Ei}function gn(t){var e=t.f;if((e&$e)!==0)return!0;if(e&Ae&&(t.f&=~qt),(e&xt)!==0){for(var n=t.deps,s=n.length,a=0;a<s;a++){var u=n[a];if(gn(u)&&ii(u),u.wv>t.wv)return!0}(e&nt)!==0&&lt===null&&Ee(t,Fe)}return!1}function Si(t,e,n=!0){var s=t.reactions;if(s!==null&&!(rt!==null&&Gt.call(rt,t)))for(var a=0;a<s.length;a++){var u=s[a];(u.f&Ae)!==0?Si(u,e,!1):e===u&&(n?Ee(u,$e):(u.f&Fe)!==0&&Ee(u,xt),mt(u))}}function Bi(t){var e=Ve,n=Ye,s=et,a=X,u=rt,c=Xe,o=ut,h=$t,p=t.f;Ve=null,Ye=0,et=null,X=(p&(ht|Vt))===0?t:null,rt=null,Xt(t.ctx),ut=!1,$t=++Ft,t.ac!==null&&(Mn(()=>{t.ac.abort(Ht)}),t.ac=null);try{t.f|=zn;var g=t.fn,k=g(),m=t.deps;if(Ve!==null){var y;if(In(t,Ye),m!==null&&Ye>0)for(m.length=Ye+Ve.length,y=0;y<Ve.length;y++)m[Ye+y]=Ve[y];else t.deps=m=Ve;if(lr()&&(t.f&nt)!==0)for(y=Ye;y<m.length;y++)(m[y].reactions??=[]).push(t)}else m!==null&&Ye<m.length&&(In(t,Ye),m.length=Ye);if(Yr()&&et!==null&&!ut&&m!==null&&(t.f&(Ae|xt|$e))===0)for(y=0;y<et.length;y++)Si(et[y],t);if(a!==null&&a!==t){if(Ft++,a.deps!==null)for(let A=0;A<n;A+=1)a.deps[A].rv=Ft;if(e!==null)for(const A of e)A.rv=Ft;et!==null&&(s===null?s=et:s.push(...et))}return(t.f&Ct)!==0&&(t.f^=Ct),k}catch(A){return Jr(A)}finally{t.f^=zn,Ve=e,Ye=n,et=s,X=a,rt=u,Xt(c),ut=o,$t=h}}function js(t,e){let n=e.reactions;if(n!==null){var s=Fi.call(n,t);if(s!==-1){var a=n.length-1;a===0?n=e.reactions=null:(n[s]=n[a],n.pop())}}if(n===null&&(e.f&Ae)!==0&&(Ve===null||!Gt.call(Ve,e))){var u=e;(u.f&nt)!==0&&(u.f^=nt,u.f&=~qt),ar(u),ri(u),In(u,0)}}function In(t,e){var n=t.deps;if(n!==null)for(var s=e;s<n.length;s++)js(t,n[s])}function vn(t){var e=t.f;if((e&gt)===0){Ee(t,Fe);var n=ee,s=Dn;ee=t,Dn=!0;try{(e&(bt|Vr))!==0?$s(t):_i(t),pi(t);var a=Bi(t);t.teardown=typeof a=="function"?a:null,t.wv=Ei;var u;Hn&&ps&&(t.f&$e)!==0&&t.deps}finally{Dn=s,ee=n}}}async function Vs(){await Promise.resolve(),ws()}function d(t){var e=t.f,n=(e&Ae)!==0;if(X!==null&&!ut){var s=ee!==null&&(ee.f&gt)!==0;if(!s&&(rt===null||!Gt.call(rt,t))){var a=X.deps;if((X.f&zn)!==0)t.rv<Ft&&(t.rv=Ft,Ve===null&&a!==null&&a[Ye]===t?Ye++:Ve===null?Ve=[t]:Ve.push(t));else{(X.deps??=[]).push(t);var u=t.reactions;u===null?t.reactions=[X]:Gt.call(u,X)||u.push(X)}}}if(Lt&&It.has(t))return It.get(t);if(n){var c=t;if(Lt){var o=c.v;return((c.f&Fe)===0&&c.reactions!==null||Ci(c))&&(o=or(c)),It.set(c,o),o}var h=(c.f&nt)===0&&!ut&&X!==null&&(Dn||(X.f&nt)!==0),p=c.deps===null;gn(c)&&(h&&(c.f|=nt),ii(c)),h&&!p&&Di(c)}if(lt?.has(t))return lt.get(t);if((t.f&Ct)!==0)throw t.v;return t.v}function Di(t){if(t.deps!==null){t.f|=nt;for(const e of t.deps)(e.reactions??=[]).push(t),(e.f&Ae)!==0&&(e.f&nt)===0&&Di(e)}}function Ci(t){if(t.v===De)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(It.has(e)||(e.f&Ae)!==0&&Ci(e))return!0;return!1}function yn(t){var e=ut;try{return ut=!0,t()}finally{ut=e}}const Ws=["touchstart","touchmove"];function Ks(t){return Ws.includes(t)}const Ai=new Set,Xn=new Set;function Hs(t,e,n,s={}){function a(u){if(s.capture||an.call(e,u),!u.cancelBubble)return Mn(()=>n?.call(this,u))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?yt(()=>{e.addEventListener(t,a,s)}):e.addEventListener(t,a,s),a}function zs(t,e,n,s,a){var u={capture:s,passive:a},c=Hs(t,e,n,u);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&ur(()=>{e.removeEventListener(t,c,u)})}function Ii(t){for(var e=0;e<t.length;e++)Ai.add(t[e]);for(var n of Xn)n(t)}let kr=null;function an(t){var e=this,n=e.ownerDocument,s=t.type,a=t.composedPath?.()||[],u=a[0]||t.target;kr=t;var c=0,o=kr===t&&t.__root;if(o){var h=a.indexOf(o);if(h!==-1&&(e===document||e===window)){t.__root=e;return}var p=a.indexOf(e);if(p===-1)return;h<=p&&(c=h)}if(u=a[c]||t.target,u!==e){Mi(t,"currentTarget",{configurable:!0,get(){return u||n}});var g=X,k=ee;it(null),dt(null);try{for(var m,y=[];u!==null;){var A=u.assignedSlot||u.parentNode||u.host||null;try{var L=u["__"+s];L!=null&&(!u.disabled||t.target===u)&&L.call(u,t)}catch(D){m?y.push(D):m=D}if(t.cancelBubble||A===e||A===null)break;u=A}if(m){for(let D of y)queueMicrotask(()=>{throw D});throw m}}finally{t.__root=e,delete t.currentTarget,it(g),dt(k)}}}function Li(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","\x3C!---->"),e.content}function pn(t,e){var n=ee;n.nodes===null&&(n.nodes={start:t,end:e,a:null,t:null})}function ne(t,e){var n=(e&us)!==0,s=(e&cs)!==0,a,u=!t.startsWith("<!>");return()=>{a===void 0&&(a=Li(u?t:"<!>"+t),n||(a=Dt(a)));var c=s||oi?document.importNode(a,!0):a.cloneNode(!0);if(n){var o=Dt(c),h=c.lastChild;pn(o,h)}else pn(c,c);return c}}function Ys(t=""){{var e=wt(t+"");return pn(e,e),e}}function Ot(){var t=document.createDocumentFragment(),e=document.createComment(""),n=wt();return t.append(e,n),pn(e,n),t}function Y(t,e){t!==null&&t.before(e)}function xe(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??=t.nodeValue)&&(t.__t=n,t.nodeValue=n+"")}function Gs(t,e){return Js(t,e)}const Wt=new Map;function Js(t,{target:e,anchor:n,props:s={},events:a,context:u,intro:c=!0}){Os();var o=new Set,h=k=>{for(var m=0;m<k.length;m++){var y=k[m];if(!o.has(y)){o.add(y);var A=Ks(y);e.addEventListener(y,an,{passive:A});var L=Wt.get(y);L===void 0?(document.addEventListener(y,an,{passive:A}),Wt.set(y,1)):Wt.set(y,L+1)}}};h(Pn(Ai)),Xn.add(h);var p=void 0,g=Rs(()=>{var k=n??e.appendChild(wt());return Es(k,{pending:()=>{}},m=>{if(u){ir({});var y=Xe;y.c=u}a&&(s.$$events=a),p=t(m,s)||{},u&&sr()}),()=>{for(var m of o){e.removeEventListener(m,an);var y=Wt.get(m);--y===0?(document.removeEventListener(m,an),Wt.delete(m)):Wt.set(m,y)}Xn.delete(h),k!==n&&k.parentNode?.removeChild(k)}});return Xs.set(p,g),p}let Xs=new WeakMap;class Zs{anchor;#t=new Map;#a=new Map;#e=new Map;#i=new Set;#s=!0;constructor(e,n=!0){this.anchor=e,this.#s=n}#r=()=>{var e=Q;if(this.#t.has(e)){var n=this.#t.get(e),s=this.#a.get(n);if(s)dr(s),this.#i.delete(n);else{var a=this.#e.get(n);a&&(this.#a.set(n,a.effect),this.#e.delete(n),a.fragment.lastChild.remove(),this.anchor.before(a.fragment),s=a.effect)}for(const[u,c]of this.#t){if(this.#t.delete(u),u===e)break;const o=this.#e.get(c);o&&(We(o.effect),this.#e.delete(c))}for(const[u,c]of this.#a){if(u===n||this.#i.has(u))continue;const o=()=>{if(Array.from(this.#t.values()).includes(u)){var p=document.createDocumentFragment();bi(c,p),p.append(wt()),this.#e.set(u,{effect:c,fragment:p})}else We(c);this.#i.delete(u),this.#a.delete(u)};this.#s||!s?(this.#i.add(u),Nt(c,o,!1)):o()}}};#n=e=>{this.#t.delete(e);const n=Array.from(this.#t.values());for(const[s,a]of this.#e)n.includes(s)||(We(a.effect),this.#e.delete(s))};ensure(e,n){var s=Q,a=ci();if(n&&!this.#a.has(e)&&!this.#e.has(e))if(a){var u=document.createDocumentFragment(),c=wt();u.append(c),this.#e.set(e,{effect:tt(()=>n(c)),fragment:u})}else this.#a.set(e,tt(()=>n(this.anchor)));if(this.#t.set(s,e),a){for(const[o,h]of this.#a)o===e?s.skipped_effects.delete(h):s.skipped_effects.add(h);for(const[o,h]of this.#e)o===e?s.skipped_effects.delete(h.effect):s.skipped_effects.add(h.effect);s.oncommit(this.#r),s.ondiscard(this.#n)}else this.#r()}}function Ce(t,e,n=!1){var s=new Zs(t),a=n?Jt:0;function u(c,o){s.ensure(c,o)}fr(()=>{var c=!1;e((o,h=!0)=>{c=!0,u(h,o)}),c||u(!1,null)},a)}function Mt(t,e){return e}function Qs(t,e,n){for(var s=[],a=e.length,u,c=e.length,o=0;o<a;o++){let k=e[o];Nt(k,()=>{if(u){if(u.pending.delete(k),u.done.add(k),u.pending.size===0){var m=t.outrogroups;Zn(Pn(u.done)),m.delete(u),m.size===0&&(t.outrogroups=null)}}else c-=1},!1)}if(c===0){var h=s.length===0&&n!==null;if(h){var p=n,g=p.parentNode;Ts(g),g.append(p),t.items.clear()}Zn(e,!h)}else u={pending:new Set(e),done:new Set},(t.outrogroups??=new Set).add(u)}function Zn(t,e=!0){for(var n=0;n<t.length;n++)We(t[n],e)}var Sr;function Ut(t,e,n,s,a,u=null){var c=t,o=new Map,h=(e&Kr)!==0;if(h){var p=t;c=p.appendChild(wt())}var g=null,k=ni(()=>{var O=n();return Ln(O)?O:O==null?[]:Pn(O)}),m,y=!0;function A(){D.fallback=g,ea(D,m,c,e,s),g!==null&&(m.length===0?(g.f&_t)===0?dr(g):(g.f^=_t,on(g,null,c)):Nt(g,()=>{g=null}))}var L=fr(()=>{m=d(k);for(var O=m.length,M=new Set,q=Q,G=ci(),N=0;N<O;N+=1){var ke=m[N],fe=s(ke,N),W=y?null:o.get(fe);W?(W.v&&Qt(W.v,ke),W.i&&Qt(W.i,N),G&&q.skipped_effects.delete(W.e)):(W=ta(o,y?c:Sr??=wt(),ke,fe,N,a,e,n),y||(W.e.f|=_t),o.set(fe,W)),M.add(fe)}if(O===0&&u&&!g&&(y?g=tt(()=>u(c)):(g=tt(()=>u(Sr??=wt())),g.f|=_t)),!y)if(G){for(const[se,T]of o)M.has(se)||q.skipped_effects.add(T.e);q.oncommit(A),q.ondiscard(()=>{})}else A();d(k)}),D={effect:L,items:o,outrogroups:null,fallback:g};y=!1}function nn(t){for(;t!==null&&(t.f&ht)===0;)t=t.next;return t}function ea(t,e,n,s,a){var u=(s&rs)!==0,c=e.length,o=t.items,h=nn(t.effect.first),p,g=null,k,m=[],y=[],A,L,D,O;if(u)for(O=0;O<c;O+=1)A=e[O],L=a(A,O),D=o.get(L).e,(D.f&_t)===0&&(D.nodes?.a?.measure(),(k??=new Set).add(D));for(O=0;O<c;O+=1){if(A=e[O],L=a(A,O),D=o.get(L).e,t.outrogroups!==null)for(const T of t.outrogroups)T.pending.delete(D),T.done.delete(D);if((D.f&_t)!==0)if(D.f^=_t,D===h)on(D,null,n);else{var M=g?g.next:h;D===t.effect.last&&(t.effect.last=D.prev),D.prev&&(D.prev.next=D.next),D.next&&(D.next.prev=D.prev),St(t,g,D),St(t,D,M),on(D,M,n),g=D,m=[],y=[],h=nn(g.next);continue}if((D.f&Je)!==0&&(dr(D),u&&(D.nodes?.a?.unfix(),(k??=new Set).delete(D))),D!==h){if(p!==void 0&&p.has(D)){if(m.length<y.length){var q=y[0],G;g=q.prev;var N=m[0],ke=m[m.length-1];for(G=0;G<m.length;G+=1)on(m[G],q,n);for(G=0;G<y.length;G+=1)p.delete(y[G]);St(t,N.prev,ke.next),St(t,g,N),St(t,ke,q),h=q,g=ke,O-=1,m=[],y=[]}else p.delete(D),on(D,h,n),St(t,D.prev,D.next),St(t,D,g===null?t.effect.first:g.next),St(t,g,D),g=D;continue}for(m=[],y=[];h!==null&&h!==D;)(p??=new Set).add(h),y.push(h),h=nn(h.next);if(h===null)continue}(D.f&_t)===0&&m.push(D),g=D,h=nn(D.next)}if(t.outrogroups!==null){for(const T of t.outrogroups)T.pending.size===0&&(Zn(Pn(T.done)),t.outrogroups?.delete(T));t.outrogroups.size===0&&(t.outrogroups=null)}if(h!==null||p!==void 0){var fe=[];if(p!==void 0)for(D of p)(D.f&Je)===0&&fe.push(D);for(;h!==null;)(h.f&Je)===0&&h!==t.fallback&&fe.push(h),h=nn(h.next);var W=fe.length;if(W>0){var se=(s&Kr)!==0&&c===0?n:null;if(u){for(O=0;O<W;O+=1)fe[O].nodes?.a?.measure();for(O=0;O<W;O+=1)fe[O].nodes?.a?.fix()}Qs(t,fe,se)}}u&&yt(()=>{if(k!==void 0)for(D of k)D.nodes?.a?.apply()})}function ta(t,e,n,s,a,u,c,o){var h=(c&ts)!==0?(c&is)===0?Is(n,!1,!1):jt(n):null,p=(c&ns)!==0?jt(a):null;return{v:h,i:p,e:tt(()=>(u(e,h??n,p??a,o),()=>{t.delete(s)}))}}function on(t,e,n){if(t.nodes)for(var s=t.nodes.start,a=t.nodes.end,u=e&&(e.f&_t)===0?e.nodes.start:n;s!==null;){var c=_n(s);if(u.before(s),s===a)return;s=c}}function St(t,e,n){e===null?t.effect.first=n:e.next=n,n===null?t.effect.last=e:n.prev=e}function Kt(t,e,n=!1,s=!1,a=!1){var u=t,c="";de(()=>{var o=ee;if(c!==(c=e()??"")&&(o.nodes!==null&&(gi(o.nodes.start,o.nodes.end),o.nodes=null),c!=="")){var h=c+"";n?h=`<svg>${h}</svg>`:s&&(h=`<math>${h}</math>`);var p=Li(h);if((n||s)&&(p=Dt(p)),pn(Dt(p),p.lastChild),n||s)for(;Dt(p);)u.before(Dt(p));else u.before(p)}})}function na(t,e){return t==null?null:String(t)}function xn(t,e,n,s){var a=t.__style;if(a!==e){var u=na(e);u==null?t.removeAttribute("style"):t.style.cssText=u,t.__style=e}return s}function Pi(t,e,n=!1){if(t.multiple){if(e==null)return;if(!Ln(e))return ds();for(var s of t.options)s.selected=e.includes(cn(s));return}for(s of t.options){var a=cn(s);if(Ps(a,e)){s.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function ra(t){var e=new MutationObserver(()=>{Pi(t,t.__value)});e.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),ur(()=>{e.disconnect()})}function ia(t,e,n=e){var s=new WeakSet,a=!0;fi(t,"change",u=>{var c=u?"[selected]":":checked",o;if(t.multiple)o=[].map.call(t.querySelectorAll(c),cn);else{var h=t.querySelector(c)??t.querySelector("option:not([disabled])");o=h&&cn(h)}n(o),Q!==null&&s.add(Q)}),vi(()=>{var u=e();if(t===document.activeElement){var c=An??Q;if(s.has(c))return}if(Pi(t,u,a),a&&u===void 0){var o=t.querySelector(":checked");o!==null&&(u=cn(o),n(u))}t.__value=u,a=!1}),ra(t)}function cn(t){return"__value"in t?t.__value:t.value}const sa=Symbol("is custom element"),aa=Symbol("is html");function fn(t,e){var n=hr(t);n.value===(n.value=e??void 0)||t.value===e&&(e!==0||t.nodeName!=="PROGRESS")||(t.value=e??"")}function Oi(t,e){var n=hr(t);n.checked!==(n.checked=e??void 0)&&(t.checked=e)}function rn(t,e){e?t.hasAttribute("selected")||t.setAttribute("selected",""):t.removeAttribute("selected")}function R(t,e,n,s){var a=hr(t);a[e]!==(a[e]=n)&&(e==="loading"&&(t[Vi]=n),n==null?t.removeAttribute(e):typeof n!="string"&&oa(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function hr(t){return t.__attributes??={[sa]:t.nodeName.includes("-"),[aa]:t.namespaceURI===fs}}var Br=new Map;function oa(t){var e=t.getAttribute("is")||t.nodeName,n=Br.get(e);if(n)return n;Br.set(e,n=[]);for(var s,a=t,u=Element.prototype;u!==a;){s=Ui(a);for(var c in s)s[c].set&&n.push(c);a=er(a)}return n}function Nn(t,e,n=e){var s=new WeakSet;fi(t,"input",async a=>{var u=a?t.defaultValue:t.value;if(u=$n(t)?qn(u):u,n(u),Q!==null&&s.add(Q),await Vs(),u!==(u=e())){var c=t.selectionStart,o=t.selectionEnd,h=t.value.length;if(t.value=u??"",o!==null){var p=t.value.length;c===o&&o===h&&p>h?(t.selectionStart=p,t.selectionEnd=p):(t.selectionStart=c,t.selectionEnd=Math.min(o,p))}}}),yn(e)==null&&t.value&&(n($n(t)?qn(t.value):t.value),Q!==null&&s.add(Q)),cr(()=>{var a=e();if(t===document.activeElement){var u=An??Q;if(s.has(u))return}$n(t)&&a===qn(t.value)||t.type==="date"&&!a&&!t.value||a!==t.value&&(t.value=a??"")})}function $n(t){var e=t.type;return e==="number"||e==="range"}function qn(t){return t===""?null:+t}function Dr(t,e){return t===e||t?.[Rt]===e}function vr(t={},e,n,s){return vi(()=>{var a,u;return cr(()=>{a=u,u=[],yn(()=>{t!==n(...u)&&(e(t,...u),a&&Dr(n(...a),t)&&e(null,...a))})}),()=>{yt(()=>{u&&Dr(n(...u),t)&&e(null,...u)})}}),t}let En=!1;function la(t){var e=En;try{return En=!1,[t(),En]}finally{En=e}}function Qn(t,e,n,s){var a=(n&os)!==0,u=(n&ls)!==0,c=s,o=!0,h=()=>(o&&(o=!1,c=u?yn(s):s),c),p;if(a){var g=Rt in t||ji in t;p=Yt(t,e)?.set??(g&&e in t?M=>t[e]=M:void 0)}var k,m=!1;a?[k,m]=la(()=>t[e]):k=t[e],k===void 0&&s!==void 0&&(k=h(),p&&(Ji(),p(k)));var y;if(y=()=>{var M=t[e];return M===void 0?h():(o=!0,M)},(n&as)===0)return y;if(p){var A=t.$$legacy;return(function(M,q){return arguments.length>0?((!q||A||m)&&p(q?y():M),M):y()})}var L=!1,D=((n&ss)!==0?Fn:ni)(()=>(L=!1,y()));a&&d(D);var O=ee;return(function(M,q){if(arguments.length>0){const G=q?d(D):a?Ne(M):M;return oe(D,G),L=!0,c!==void 0&&(c=G),M}return Lt&&L||(O.f&gt)!==0?D.v:d(D)})}function ua(t){Xe===null&&Wi(),di(()=>{const e=yn(t);if(typeof e=="function")return e})}const ca="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(ca);var Cr;(function(t){t[t.SCAN_MODE_LOW_POWER=0]="SCAN_MODE_LOW_POWER",t[t.SCAN_MODE_BALANCED=1]="SCAN_MODE_BALANCED",t[t.SCAN_MODE_LOW_LATENCY=2]="SCAN_MODE_LOW_LATENCY"})(Cr||(Cr={}));var Ar;(function(t){t[t.CONNECTION_PRIORITY_BALANCED=0]="CONNECTION_PRIORITY_BALANCED",t[t.CONNECTION_PRIORITY_HIGH=1]="CONNECTION_PRIORITY_HIGH",t[t.CONNECTION_PRIORITY_LOW_POWER=2]="CONNECTION_PRIORITY_LOW_POWER"})(Ar||(Ar={}));var en;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(en||(en={}));class jn extends Error{constructor(e,n,s){super(e),this.message=e,this.code=n,this.data=s}}const fa=t=>{var e,n;return t?.androidBridge?"android":!((n=(e=t?.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},da=t=>{const e=t.CapacitorCustomPlatform||null,n=t.Capacitor||{},s=n.Plugins=n.Plugins||{},a=()=>e!==null?e.name:fa(t),u=()=>a()!=="web",c=k=>{const m=p.get(k);return!!(m?.platforms.has(a())||o(k))},o=k=>{var m;return(m=n.PluginHeaders)===null||m===void 0?void 0:m.find(y=>y.name===k)},h=k=>t.console.error(k),p=new Map,g=(k,m={})=>{const y=p.get(k);if(y)return console.warn(`Capacitor plugin "${k}" already registered. Cannot register plugins twice.`),y.proxy;const A=a(),L=o(k);let D;const O=async()=>(!D&&A in m?D=typeof m[A]=="function"?D=await m[A]():D=m[A]:e!==null&&!D&&"web"in m&&(D=typeof m.web=="function"?D=await m.web():D=m.web),D),M=(W,se)=>{var T,b;if(L){const Z=L?.methods.find(K=>se===K.name);if(Z)return Z.rtype==="promise"?K=>n.nativePromise(k,se.toString(),K):(K,Ie)=>n.nativeCallback(k,se.toString(),K,Ie);if(W)return(T=W[se])===null||T===void 0?void 0:T.bind(W)}else{if(W)return(b=W[se])===null||b===void 0?void 0:b.bind(W);throw new jn(`"${k}" plugin is not implemented on ${A}`,en.Unimplemented)}},q=W=>{let se;const T=(...b)=>{const Z=O().then(K=>{const Ie=M(K,W);if(Ie){const ge=Ie(...b);return se=ge?.remove,ge}else throw new jn(`"${k}.${W}()" is not implemented on ${A}`,en.Unimplemented)});return W==="addListener"&&(Z.remove=async()=>se()),Z};return T.toString=()=>`${W.toString()}() { [capacitor code] }`,Object.defineProperty(T,"name",{value:W,writable:!1,configurable:!1}),T},G=q("addListener"),N=q("removeListener"),ke=(W,se)=>{const T=G({eventName:W},se),b=async()=>{const K=await T;N({eventName:W,callbackId:K},se)},Z=new Promise(K=>T.then(()=>K({remove:b})));return Z.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await b()},Z},fe=new Proxy({},{get(W,se){switch(se){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return L?ke:G;case"removeListener":return N;default:return q(se)}}});return s[k]=fe,p.set(k,{name:k,proxy:fe,platforms:new Set([...Object.keys(m),...L?[A]:[]])}),fe};return n.convertFileSrc||(n.convertFileSrc=k=>k),n.getPlatform=a,n.handleError=h,n.isNativePlatform=u,n.isPluginAvailable=c,n.registerPlugin=g,n.Exception=jn,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},ha=t=>t.Capacitor=da(t),Bt=ha(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}),wn=Bt.registerPlugin;class mn{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,n){let s=!1;this.listeners[e]||(this.listeners[e]=[],s=!0),this.listeners[e].push(n);const u=this.windowListeners[e];u&&!u.registered&&this.addWindowListener(u),s&&this.sendRetainedArgumentsForEvent(e);const c=async()=>this.removeListener(e,n);return Promise.resolve({remove:c})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n,s){const a=this.listeners[e];if(!a){if(s){let u=this.retainedEventArguments[e];u||(u=[]),u.push(n),this.retainedEventArguments[e]=u}return}a.forEach(u=>u(n))}hasListeners(e){var n;return!!(!((n=this.listeners[e])===null||n===void 0)&&n.length)}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:s=>{this.notifyListeners(n,s)}}}unimplemented(e="not implemented"){return new Bt.Exception(e,en.Unimplemented)}unavailable(e="not available"){return new Bt.Exception(e,en.Unavailable)}async removeListener(e,n){const s=this.listeners[e];if(!s)return;const a=s.indexOf(n);this.listeners[e].splice(a,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(s=>{this.notifyListeners(e,s)}))}}const Ir=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Lr=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class va extends mn{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(s=>{if(s.length<=0)return;let[a,u]=s.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");a=Lr(a).trim(),u=Lr(u).trim(),n[a]=u}),n}async setCookie(e){try{const n=Ir(e.key),s=Ir(e.value),a=`; expires=${(e.expires||"").replace("expires=","")}`,u=(e.path||"/").replace("path=",""),c=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${s||""}${a}; path=${u}; ${c};`}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}wn("CapacitorCookies",{web:()=>new va});const pa=async t=>new Promise((e,n)=>{const s=new FileReader;s.onload=()=>{const a=s.result;e(a.indexOf(",")>=0?a.split(",")[1]:a)},s.onerror=a=>n(a),s.readAsDataURL(t)}),_a=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(a=>a.toLocaleLowerCase()).reduce((a,u,c)=>(a[u]=t[e[c]],a),{})},ga=(t,e=!0)=>t?Object.entries(t).reduce((s,a)=>{const[u,c]=a;let o,h;return Array.isArray(c)?(h="",c.forEach(p=>{o=e?encodeURIComponent(p):p,h+=`${u}=${o}&`}),h.slice(0,-1)):(o=e?encodeURIComponent(c):c,h=`${u}=${o}`),`${s}&${h}`},"").substr(1):null,ya=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),a=_a(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(a.includes("application/x-www-form-urlencoded")){const u=new URLSearchParams;for(const[c,o]of Object.entries(t.data||{}))u.set(c,o);n.body=u.toString()}else if(a.includes("multipart/form-data")||t.data instanceof FormData){const u=new FormData;if(t.data instanceof FormData)t.data.forEach((o,h)=>{u.append(h,o)});else for(const o of Object.keys(t.data))u.append(o,t.data[o]);n.body=u;const c=new Headers(n.headers);c.delete("content-type"),n.headers=c}else(a.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n};class wa extends mn{async request(e){const n=ya(e,e.webFetchExtra),s=ga(e.params,e.shouldEncodeUrlParams),a=s?`${e.url}?${s}`:e.url,u=await fetch(a,n),c=u.headers.get("content-type")||"";let{responseType:o="text"}=u.ok?e:{};c.includes("application/json")&&(o="json");let h,p;switch(o){case"arraybuffer":case"blob":p=await u.blob(),h=await pa(p);break;case"json":h=await u.json();break;default:h=await u.text()}const g={};return u.headers.forEach((k,m)=>{g[m]=k}),{data:h,headers:g,status:u.status,url:u.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}wn("CapacitorHttp",{web:()=>new wa});var Pr;(function(t){t.Dark="DARK",t.Light="LIGHT",t.Default="DEFAULT"})(Pr||(Pr={}));var Or;(function(t){t.StatusBar="StatusBar",t.NavigationBar="NavigationBar"})(Or||(Or={}));class ma extends mn{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}wn("SystemBars",{web:()=>new ma});function ba(t){return new DataView(Uint8Array.from(t).buffer)}function xa(t){return Array.from(new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function Ea(t){return`0000${t.toString(16).padStart(4,"0")}-0000-1000-8000-00805f9b34fb`}function dn(t){const e=[];let n,s,a=1,u=0;for(n=0;n<t.length;n++)s=t.charCodeAt(n),(s>47&&s<58||s>64&&s<71||s>96&&s<103)&&(u=u<<4^(s>64?s+9:s)&15,(a^=1)&&e.push(u&255));return ba(e)}function hn(t){return xa(t).map(e=>{let n=e.toString(16);return n.length==1&&(n="0"+n),n}).join("")}function ka(t){if(typeof t=="string")return t;if(typeof t=="number")return Ea(t);throw new Error("Invalid UUID")}function Tr(t){const e={};if(t)return t.forEach((n,s)=>{e[s.toString()]=n}),e}function Fr(t){if(t!==void 0){if(typeof t=="string"){const e=dn(t);return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}return t instanceof DataView?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}}function kn(t){if(t!==void 0)return t instanceof DataView?hn(t):hn(new DataView(t.buffer,t.byteOffset,t.byteLength))}function Vn(t){if(t.buffer instanceof SharedArrayBuffer){const n=new Uint8Array(t.buffer,t.byteOffset,t.byteLength).slice().buffer;return new DataView(n)}return t}const Sa="modulepreload",Ba=function(t,e){return new URL(t,e).href},Mr={},Ti=function(e,n,s){let a=Promise.resolve();if(n&&n.length>0){let p=function(g){return Promise.all(g.map(k=>Promise.resolve(k).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};const c=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),h=o?.nonce||o?.getAttribute("nonce");a=p(n.map(g=>{if(g=Ba(g,s),g in Mr)return;Mr[g]=!0;const k=g.endsWith(".css"),m=k?'[rel="stylesheet"]':"";if(s)for(let A=c.length-1;A>=0;A--){const L=c[A];if(L.href===g&&(!k||L.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${g}"]${m}`))return;const y=document.createElement("link");if(y.rel=k?"stylesheet":Sa,k||(y.as="script"),y.crossOrigin="",y.href=g,h&&y.setAttribute("nonce",h),document.head.appendChild(y),k)return new Promise((A,L)=>{y.addEventListener("load",A),y.addEventListener("error",()=>L(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(c){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=c,window.dispatchEvent(o),!o.defaultPrevented)throw c}return a.then(c=>{for(const o of c||[])o.status==="rejected"&&u(o.reason);return e().catch(u)})},V=wn("BluetoothLe",{web:()=>Ti(()=>Promise.resolve().then(()=>_o),void 0,import.meta.url).then(t=>new t.BluetoothLeWeb)}),Da=()=>{let t=Promise.resolve();return e=>new Promise((n,s)=>{t=t.then(()=>e()).then(n).catch(s)})};function Wn(t){return t?Da():e=>e()}function we(t){if(typeof t!="string")throw new Error(`Invalid UUID type ${typeof t}. Expected string.`);if(t=t.toLowerCase(),!(t.search(/^[0-9a-f]{8}\b-[0-9a-f]{4}\b-[0-9a-f]{4}\b-[0-9a-f]{4}\b-[0-9a-f]{12}$/)>=0))throw new Error(`Invalid UUID format ${t}. Expected 128 bit string (e.g. "0000180d-0000-1000-8000-00805f9b34fb").`);return t}class Ca{constructor(){this.scanListener=null,this.eventListeners=new Map,this.queue=Wn(!0)}enableQueue(){this.queue=Wn(!0)}disableQueue(){this.queue=Wn(!1)}async initialize(e){await this.queue(async()=>{await V.initialize(e)})}async isEnabled(){return await this.queue(async()=>(await V.isEnabled()).value)}async requestEnable(){await this.queue(async()=>{await V.requestEnable()})}async enable(){await this.queue(async()=>{await V.enable()})}async disable(){await this.queue(async()=>{await V.disable()})}async startEnabledNotifications(e){await this.queue(async()=>{var n;const s="onEnabledChanged";await((n=this.eventListeners.get(s))===null||n===void 0?void 0:n.remove());const a=await V.addListener(s,u=>{e(u.value)});this.eventListeners.set(s,a),await V.startEnabledNotifications()})}async stopEnabledNotifications(){await this.queue(async()=>{var e;const n="onEnabledChanged";await((e=this.eventListeners.get(n))===null||e===void 0?void 0:e.remove()),this.eventListeners.delete(n),await V.stopEnabledNotifications()})}async isLocationEnabled(){return await this.queue(async()=>(await V.isLocationEnabled()).value)}async openLocationSettings(){await this.queue(async()=>{await V.openLocationSettings()})}async openBluetoothSettings(){await this.queue(async()=>{await V.openBluetoothSettings()})}async openAppSettings(){await this.queue(async()=>{await V.openAppSettings()})}async setDisplayStrings(e){await this.queue(async()=>{await V.setDisplayStrings(e)})}async requestDevice(e){return e=e?this.validateRequestBleDeviceOptions(e):void 0,await this.queue(async()=>await V.requestDevice(e))}async requestLEScan(e,n){e=this.validateRequestBleDeviceOptions(e),await this.queue(async()=>{var s;await((s=this.scanListener)===null||s===void 0?void 0:s.remove()),this.scanListener=await V.addListener("onScanResult",a=>{const u=Object.assign(Object.assign({},a),{manufacturerData:this.convertObject(a.manufacturerData),serviceData:this.convertObject(a.serviceData),rawAdvertisement:a.rawAdvertisement?this.convertValue(a.rawAdvertisement):void 0});n(u)}),await V.requestLEScan(e)})}async stopLEScan(){await this.queue(async()=>{var e;await((e=this.scanListener)===null||e===void 0?void 0:e.remove()),this.scanListener=null,await V.stopLEScan()})}async getDevices(e){if(!Array.isArray(e))throw new Error("deviceIds must be an array");return this.queue(async()=>(await V.getDevices({deviceIds:e})).devices)}async getConnectedDevices(e){if(!Array.isArray(e))throw new Error("services must be an array");return e=e.map(we),this.queue(async()=>(await V.getConnectedDevices({services:e})).devices)}async getBondedDevices(){return this.queue(async()=>(await V.getBondedDevices()).devices)}async connect(e,n,s){await this.queue(async()=>{var a;if(n){const u=`disconnected|${e}`;await((a=this.eventListeners.get(u))===null||a===void 0?void 0:a.remove());const c=await V.addListener(u,()=>{n(e)});this.eventListeners.set(u,c)}await V.connect(Object.assign({deviceId:e},s))})}async createBond(e,n){await this.queue(async()=>{await V.createBond(Object.assign({deviceId:e},n))})}async isBonded(e){return await this.queue(async()=>(await V.isBonded({deviceId:e})).value)}async disconnect(e){await this.queue(async()=>{await V.disconnect({deviceId:e})})}async getServices(e){return await this.queue(async()=>(await V.getServices({deviceId:e})).services)}async discoverServices(e){await this.queue(async()=>{await V.discoverServices({deviceId:e})})}async getMtu(e){return await this.queue(async()=>(await V.getMtu({deviceId:e})).value)}async requestConnectionPriority(e,n){await this.queue(async()=>{await V.requestConnectionPriority({deviceId:e,connectionPriority:n})})}async readRssi(e){return await this.queue(async()=>{const s=await V.readRssi({deviceId:e});return parseFloat(s.value)})}async read(e,n,s,a){return n=we(n),s=we(s),await this.queue(async()=>{const c=await V.read(Object.assign({deviceId:e,service:n,characteristic:s},a));return this.convertValue(c.value)})}async write(e,n,s,a,u){return n=we(n),s=we(s),this.queue(async()=>{if(!a?.buffer)throw new Error("Invalid data.");let c=a;Bt.getPlatform()!=="web"&&(c=hn(a)),await V.write(Object.assign({deviceId:e,service:n,characteristic:s,value:c},u))})}async writeWithoutResponse(e,n,s,a,u){n=we(n),s=we(s),await this.queue(async()=>{if(!a?.buffer)throw new Error("Invalid data.");let c=a;Bt.getPlatform()!=="web"&&(c=hn(a)),await V.writeWithoutResponse(Object.assign({deviceId:e,service:n,characteristic:s,value:c},u))})}async readDescriptor(e,n,s,a,u){return n=we(n),s=we(s),a=we(a),await this.queue(async()=>{const o=await V.readDescriptor(Object.assign({deviceId:e,service:n,characteristic:s,descriptor:a},u));return this.convertValue(o.value)})}async writeDescriptor(e,n,s,a,u,c){return n=we(n),s=we(s),a=we(a),this.queue(async()=>{if(!u?.buffer)throw new Error("Invalid data.");let o=u;Bt.getPlatform()!=="web"&&(o=hn(u)),await V.writeDescriptor(Object.assign({deviceId:e,service:n,characteristic:s,descriptor:a,value:o},c))})}async startNotifications(e,n,s,a,u){n=we(n),s=we(s),await this.queue(async()=>{var c;const o=`notification|${e}|${n}|${s}`;await((c=this.eventListeners.get(o))===null||c===void 0?void 0:c.remove());const h=await V.addListener(o,p=>{a(this.convertValue(p?.value))});this.eventListeners.set(o,h),await V.startNotifications(Object.assign({deviceId:e,service:n,characteristic:s},u))})}async stopNotifications(e,n,s){n=we(n),s=we(s),await this.queue(async()=>{var a;const u=`notification|${e}|${n}|${s}`;await((a=this.eventListeners.get(u))===null||a===void 0?void 0:a.remove()),this.eventListeners.delete(u),await V.stopNotifications({deviceId:e,service:n,characteristic:s})})}validateRequestBleDeviceOptions(e){return e.services&&(e.services=e.services.map(we)),e.optionalServices&&(e.optionalServices=e.optionalServices.map(we)),e.serviceData&&Bt.getPlatform()!=="web"&&(e.serviceData=e.serviceData.map(n=>Object.assign(Object.assign({},n),{serviceUuid:we(n.serviceUuid),dataPrefix:kn(n.dataPrefix),mask:kn(n.mask)}))),e.manufacturerData&&(Bt.getPlatform()!=="web"?e.manufacturerData=e.manufacturerData.map(n=>Object.assign(Object.assign({},n),{dataPrefix:kn(n.dataPrefix),mask:kn(n.mask)})):e.manufacturerData=e.manufacturerData.map(n=>Object.assign(Object.assign({},n),{dataPrefix:Fr(n.dataPrefix),mask:Fr(n.mask)}))),e}convertValue(e){return typeof e=="string"?dn(e):e===void 0?new DataView(new ArrayBuffer(0)):e}convertObject(e){if(e===void 0)return;const n={};for(const s of Object.keys(e))n[s]=this.convertValue(e[s]);return n}}const ot=new Ca,Ur=wn("Preferences",{web:()=>Ti(()=>Promise.resolve().then(()=>yo),void 0,import.meta.url).then(t=>new t.PreferencesWeb)}),zt={strokerMode:{value:!1,type:"boolean",label:"Stroker Mode",description:"When enabled this keeps the OSSM centered within its range to work with a piston for a stroker. Not for use with penetrative toys. See https://github.com/rubberyfun/OSSM-Job for more info."},enableIncrementButtons:{value:!1,type:"boolean",label:"Enable +/- Buttons for sliders",description:"When enabled this allows the use of increment buttons for fine control adjustments."},keySpeedDown:{value:"-|_",label:"Key Speed Down",type:"keybinding",description:"The keybinding for lowering speed"},keySpeedUp:{value:"=|+",label:"Key Speed Up",type:"keybinding",description:"The keybinding for increasing speed"},keyStrokeDown:{value:"[|{",label:"Key Stroke Down",type:"keybinding",description:"The keybinding for lowering stroke"},keyStrokeUp:{value:"]|}",label:"Key Stroke Up",type:"keybinding",description:"The keybinding for increasing stroke"},keyDepthDown:{value:";|:",label:"Key Depth Down",type:"keybinding",description:"The keybinding for lowering stroke depth"},keyDepthUp:{value:`'|"`,label:"Key Depth Up",type:"keybinding",description:"The keybinding for increasing stroke depth"},keySensationDown:{value:",|<",label:"Key Sensation Down",type:"keybinding",description:"The keybinding for lowering sensation"},keySensationUp:{value:".|>",label:"Key Sensation Up",type:"keybinding",description:"The keybinding for increasing sensation"},keyPatternDown:{value:"PageDown|Insert",label:"Key Pattern Down",type:"keybinding",description:"The keybinding for previous pattern"},keyPatternUp:{value:"PageUp|Delete",label:"Key Pattern Up",type:"keybinding",description:"The keybinding for next pattern"},keyPause:{value:" |p|P",label:"Key Pause",type:"keybinding",description:"The keybinding for pausing and unpausing motion"}};var Aa=ne('<div style="width: 100%;"><label> </label> <input type="range" style="width: 100%;"/></div>'),Ia=ne('<div style="margin-bottom: 1em;"><label> <span class="settingDescription svelte-1usl06u"><!></span> </label> <input type="text" style="width: 100%;"/></div>'),La=ne('<div style="margin-bottom: 1em;"><label> <span class="settingDescription svelte-1usl06u"><!></span> </label> <input type="checkbox"/></div>'),Pa=ne('<div style="margin-bottom: 1em;"><label> <span class="settingDescription svelte-1usl06u"><!></span> </label> <select><option>Yes</option><option>No</option></select></div>'),Oa=ne('<span class="keybinding-chip svelte-1usl06u"> <button type="button" class="keybinding-remove svelte-1usl06u"></button></span>'),Ta=ne('<div style="margin-bottom: 1em;"><label> <span class="settingDescription svelte-1usl06u"><!></span></label> <div class="keybinding-values svelte-1usl06u"></div> <div class="keybinding-input svelte-1usl06u"><input type="text" width="100px" placeholder="Add key" class="svelte-1usl06u"/> <button type="button">Add</button></div></div>'),Fa=ne('<div style="margin-bottom: 1em;"><label> <span class="settingDescription svelte-1usl06u"><!></span> </label> <input type="range" style="width: 100%;"/></div>'),Ma=ne('<span class="keybinding-chip svelte-1usl06u"> <button type="button" class="keybinding-remove svelte-1usl06u"></button></span>'),Ua=ne('<div style="margin-bottom: 1em;"><label> <span class="settingDescription svelte-1usl06u"><!></span></label> <div class="keybinding-values svelte-1usl06u"></div> <div class="keybinding-input svelte-1usl06u"><input type="text" width="100px" placeholder="Add key" class="svelte-1usl06u"/> <button type="button">Add</button></div></div>'),Ra=ne('<dialog class="settingsDialog svelte-1usl06u" style=""><button style="color: red; float:right; padding: 0 .1em 0 .1em; font-size: 3em; background: #555; cursor: pointer; line-height: .75em; display: flex; align-items: center; justify-content: center;" aria-label="Close settings">&times;</button> <h2>Settings</h2> <hr/> <!> <details class="settings-accordion svelte-1usl06u"><summary class="svelte-1usl06u">Key Bindings</summary> <!></details> <button type="button" class="settings-reset svelte-1usl06u">Reset settings</button></dialog>');function Na(t,e){ir(e,!0);const n=(T,b=Ni)=>{var Z=Aa(),K=U(Z),Ie=U(K),ge=F(K,2);ge.__change=()=>p(b(),c()[b()].value),de(Le=>{R(K,"for",b()),R(K,"title",c()[b()].description),xe(Ie,`${c()[b()].label??""} :
      ${Le??""}`),R(ge,"id",b()),R(ge,"title",c()[b()].description),R(ge,"min",c()[b()].min),R(ge,"max",c()[b()].max)},[()=>M(b())]),Nn(ge,()=>c()[b()].value,Le=>c(c()[b()].value=Le,!0)),Y(T,Z)};let s=me(!1),a=me(void 0),u=Ne(structuredClone(zt)),c=Qn(e,"settings",31,()=>Ne(u));const o=Ne({});function h(){oe(s,!0),d(a)&&!d(a).open&&d(a).showModal?.()}function p(T,b){c(c()[T].value=b,!0),e.onSettingsChanged?.()}function g(T){return T.split("|").map(b=>b.trim()).filter(b=>b.length>0)}function k(){return Object.keys(c()).filter(T=>T.startsWith("key"))}function m(){return Object.keys(c()).filter(T=>!T.startsWith("key"))}function y(T,b){const Z=b.map(K=>K.replace(/\|/g,"").trim()).filter(K=>K.length>0);p(T,Z.join("|"))}function A(T,b){const Z=g(String(c()[T].value??""));y(T,Z.filter(K=>K!==b))}function L(T){const Z=(o[T]??"").replace(/\|/g,"").trim();if(!Z)return;const K=g(String(c()[T].value??""));if(K.includes(Z)){o[T]="";return}y(T,[...K,Z]),o[T]=""}function D(){c(structuredClone(zt)),e.onSettingsChanged?.(),e.onSettingsReset?.()}function O(T){return T.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/'/g,"&#39;").replace(/(https?:\/\/[^\s<]+)/g,Z=>`<a href="${Z}" target="_blank" rel="noopener noreferrer">${Z}</a>`)}function M(T){const b=c()[T];return b.type==="%"?Math.round(b.value/b.max*100).toString()+" %":b.type==="yes/no"||b.type==="boolean"?"":b.type==="string"?b.value:b.type==="keybinding"?b.value.split("|").join(", "):`${b.value} ${b.type}`}var q={openSettings:h},G=Ra(),N=U(G);N.__click=()=>d(a).close();var ke=F(N,6);Ut(ke,17,m,Mt,(T,b)=>{var Z=Ot(),K=je(Z);{var Ie=Le=>{var Ze=Ia(),w=U(Ze),S=U(w),I=F(S),C=U(I);Kt(C,()=>O(c()[d(b)].description??""));var B=F(I),P=F(w,2);P.__change=()=>p(d(b),c()[d(b)].value),de(H=>{R(w,"for",d(b)),R(w,"title",c()[d(b)].description),xe(S,`${c()[d(b)].label??""} `),xe(B,` ${H??""}`),R(P,"id",d(b)),R(P,"title",c()[d(b)].description)},[()=>M(d(b))]),Nn(P,()=>c()[d(b)].value,H=>c(c()[d(b)].value=H,!0)),Y(Le,Ze)},ge=Le=>{var Ze=Ot(),w=je(Ze);{var S=C=>{var B=La(),P=U(B),H=U(P),J=F(H),re=U(J);Kt(re,()=>O(c()[d(b)].description??""));var le=F(J),ie=F(P,2);ie.__change=he=>p(d(b),he.currentTarget.checked),de((he,be)=>{R(P,"for",d(b)),R(P,"title",c()[d(b)].description),xe(H,`${c()[d(b)].label??""} `),xe(le,` ${he??""}`),R(ie,"id",d(b)),R(ie,"title",c()[d(b)].description),Oi(ie,be)},[()=>M(d(b)),()=>!!c()[d(b)].value]),Y(C,B)},I=C=>{var B=Ot(),P=je(B);{var H=re=>{var le=Pa(),ie=U(le),he=U(ie),be=F(he),Me=U(be);Kt(Me,()=>O(c()[d(b)].description??""));var qe=F(be),ve=F(ie,2);ve.__change=()=>p(d(b),c()[d(b)].value);var Pe=U(ve);Pe.value=Pe.__value="1";var Se=F(Pe);Se.value=Se.__value="0",de(E=>{R(ie,"for",d(b)),R(ie,"title",c()[d(b)].description),xe(he,`${c()[d(b)].label??""} `),xe(qe,` ${E??""}`),R(ve,"id",d(b)),R(ve,"title",c()[d(b)].description)},[()=>M(d(b))]),ia(ve,()=>c()[d(b)].value,E=>c(c()[d(b)].value=E,!0)),Y(re,le)},J=re=>{var le=Ot(),ie=je(le);{var he=Me=>{var qe=Ta(),ve=U(qe),Pe=U(ve),Se=F(Pe),E=U(Se);Kt(E,()=>O(c()[d(b)].description??""));var st=F(ve,2);Ut(st,21,()=>g(String(c()[d(b)].value??"")),Mt,(Be,pe)=>{var Oe=Oa(),ct=U(Oe),He=F(ct);He.__click=()=>A(d(b),d(pe)),de(()=>{xe(ct,`${d(pe)??""} `),R(He,"aria-label",`Remove ${d(pe)}`)}),Y(Be,Oe)});var at=F(st,2),Ke=U(at);Ke.__input=Be=>{const pe=Be.currentTarget;o[d(b)]=pe.value.replace(/\|/g,"")},Ke.__keydown=Be=>{Be.key==="Enter"&&(Be.preventDefault(),L(d(b)))};var vt=F(Ke,2);vt.__click=()=>L(d(b)),de(()=>{R(ve,"for",d(b)),R(ve,"title",c()[d(b)].description),xe(Pe,`${c()[d(b)].label??""} `),R(Ke,"id",d(b)),R(Ke,"title",c()[d(b)].description),fn(Ke,o[d(b)]??"")}),Y(Me,qe)},be=Me=>{var qe=Ot(),ve=je(qe);{var Pe=E=>{n(E,()=>d(b))},Se=E=>{var st=Fa(),at=U(st),Ke=U(at),vt=F(Ke),Be=U(vt);Kt(Be,()=>O(c()[d(b)].description??""));var pe=F(vt),Oe=F(at,2);Oe.__change=()=>p(d(b),c()[d(b)].value),de(ct=>{R(at,"for",d(b)),R(at,"title",c()[d(b)].description),xe(Ke,`${c()[d(b)].label??""} `),xe(pe,` ${ct??""}`),R(Oe,"id",d(b)),R(Oe,"title",c()[d(b)].description),R(Oe,"min",c()[d(b)].min),R(Oe,"max",c()[d(b)].max)},[()=>M(d(b))]),Nn(Oe,()=>c()[d(b)].value,ct=>c(c()[d(b)].value=ct,!0)),Y(E,st)};Ce(ve,E=>{c()[d(b)].type==="%"?E(Pe):E(Se,!1)},!0)}Y(Me,qe)};Ce(ie,Me=>{c()[d(b)].type==="keybinding"?Me(he):Me(be,!1)},!0)}Y(re,le)};Ce(P,re=>{c()[d(b)].type==="yes/no"?re(H):re(J,!1)},!0)}Y(C,B)};Ce(w,C=>{c()[d(b)].type==="boolean"?C(S):C(I,!1)},!0)}Y(Le,Ze)};Ce(K,Le=>{c()[d(b)].type==="string"?Le(Ie):Le(ge,!1)})}Y(T,Z)});var fe=F(ke,2),W=F(U(fe),2);Ut(W,17,k,Mt,(T,b)=>{var Z=Ua(),K=U(Z),Ie=U(K),ge=F(Ie),Le=U(ge);Kt(Le,()=>O(c()[d(b)].description??""));var Ze=F(K,2);Ut(Ze,21,()=>g(String(c()[d(b)].value??"")),Mt,(C,B)=>{var P=Ma(),H=U(P),J=F(H);J.__click=()=>A(d(b),d(B)),de(()=>{xe(H,`${d(B)??""} `),R(J,"aria-label",`Remove ${d(B)}`)}),Y(C,P)});var w=F(Ze,2),S=U(w);S.__input=C=>{const B=C.currentTarget;o[d(b)]=B.value.replace(/\|/g,"")},S.__keydown=C=>{C.key==="Enter"&&(C.preventDefault(),L(d(b)))};var I=F(S,2);I.__click=()=>L(d(b)),de(()=>{R(K,"for",d(b)),R(K,"title",c()[d(b)].description),xe(Ie,`${c()[d(b)].label??""} `),R(S,"id",d(b)),R(S,"title",c()[d(b)].description),fn(S,o[d(b)]??"")}),Y(T,Z)});var se=F(fe,2);return se.__click=()=>D(),vr(G,T=>oe(a,T),()=>d(a)),de(()=>G.open=d(s)),zs("close",G,()=>oe(s,!1)),Y(t,G),sr(q)}Ii(["change","click","input","keydown"]);const $a="1.5.6",qa={version:$a};var ja=ne('<button class="device-pause svelte-kxsqrl" title="Pause"><div style="line-height: 1.25;"></div> <div style="font-size: xx-small;">Pause</div></button>'),Va=ne('<button class="device-resume svelte-kxsqrl" title="Pause"> <div style="font-size: xx-small;">Resume</div></button>'),Wa=ne('Pattern: <span style="font-weight: normal;"> </span> <div class="minMaxText svelte-kxsqrl" style="font-weight: normal;"> </div>',1),Ka=ne(' <span class="minMaxText svelte-kxsqrl"> </span>',1),Ha=ne('<div><select><option>Manual control only</option><option>Connect to Pleasure</option><option>Connect to Arousal</option><option>Connect to Pressure</option><option>Connect to Denials</option></select></div> <div class="invertedText svelte-kxsqrl">Invert: <input type="checkbox"/></div>',1),za=ne('<button class="slider-step down svelte-kxsqrl" type="button">-</button>'),Ya=ne('<button class="slider-step up svelte-kxsqrl" type="button">+</button>'),Ga=ne('<span class="pattern-number svelte-kxsqrl"> </span>'),Ja=ne('<div class="pattern-numbers svelte-kxsqrl"></div>'),Xa=ne('<div class="slider svelte-kxsqrl"><div class="range-slider svelte-kxsqrl"></div></div> <div class="range-input svelte-kxsqrl"><input type="range" class="min-range svelte-kxsqrl" step="1"/> <input type="range" class="max-range svelte-kxsqrl" step="1"/></div>',1),Za=ne('<div class="slider-label svelte-kxsqrl"><!></div> <!> <div class="device-sliders svelte-kxsqrl"><div style="display: flex;flex-direction: row;justify-content: space-between"></div> <div class="slider-with-buttons svelte-kxsqrl"><!> <input class="main-slider svelte-kxsqrl" type="range"/> <!></div> <!></div>',1),Qa=ne('<div style="display: flex;flex-direction: row;justify-content: space-between;margin-bottom: 10px; "><div><!></div> <div><button class="device-settings svelte-kxsqrl" title="Settings" aria-label="Open settings"><svg width="20" height="20" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><path fill="#555" d="M19.14 12.94c.04-.31.06-.63.06-.94s-.02-.63-.06-.94l2.03-1.58a.5.5 0 0 0 .12-.64l-1.92-3.32a.5.5 0 0 0-.6-.22l-2.39.96a7.05 7.05 0 0 0-1.63-.94l-.36-2.54a.5.5 0 0 0-.5-.42h-3.84a.5.5 0 0 0-.5.42l-.36 2.54c-.58.22-1.12.52-1.63.94l-2.39-.96a.5.5 0 0 0-.6.22L2.66 8.84a.5.5 0 0 0 .12.64l2.03 1.58c-.04.31-.06.63-.06.94s.02.63.06.94L2.78 14.52a.5.5 0 0 0-.12.64l1.92 3.32c.13.23.4.33.64.22l2.39-.96c.5.41 1.05.73 1.63.94l.36 2.54c.04.24.25.42.5.42h3.84c.25 0 .46-.18.5-.42l.36-2.54c.58-.22 1.12-.52 1.63-.94l2.39.96c.24.1.51 0 .64-.22l1.92-3.32a.5.5 0 0 0-.12-.64l-2.03-1.58ZM12 15.5A3.5 3.5 0 1 1 12 8a3.5 3.5 0 0 1 0 7.5Z"></path></svg> <div style="font-size: xx-small;">Settings</div></button></div> <div><button class="device-disconnect svelte-kxsqrl" title="Disconnect"> <div style="font-size: xx-small; font-weight: normal;">Disconnect</div></button></div></div> <!>',1),eo=ne('<p>Coded with love and hedonism by <a href="http://rubberyfun.com/">Claus Macher</a>.  Main repo <a href="https://github.com/rubberyfun/OSSM-Possum">is posted here</a>.  Have fun!</p>'),to=ne('<div style="font-size: small;"><p>This supports <a target="_blank" href="https://www.researchanddesire.com/pages/ossm">OSSM devices</a> with a stock firmware from 2026 or newer.</p> <p>If your OSSM firmware is older or custom you can easily upgrade it using <a href="https://dashboard.researchanddesire.com/app/tools/web-flasher">their web flashing tool</a>.</p> <!> <p></p></div>'),no=ne("<div><button>Connect to an<!> OSSM device</button></div>"),ro=ne('<div style="color: #c00; font-weight: bold; margin-top: 10px; padding: 10px; background-color: #fee; border: 1px solid #faa; border-radius: 4px;"> <button style="margin-left: 10px; font-size: small;">Dismiss</button></div>'),io=ne('<div class="bluetooth-ossm-control svelte-kxsqrl"><!> <!> <!></div> <!>',1);function so(t,e){ir(e,!0);class n{#t=me("");get name(){return d(this.#t)}set name(S){oe(this.#t,S,!0)}service="";rx_state="";rx_patterns="";tx="";tx_knob="";ossm_state="";rw_pattern_descriptions="";unpause_speed=1;#a=me("");get deviceId(){return d(this.#a)}set deviceId(S){oe(this.#a,S,!0)}#e=me("Disconnected");get conn_status(){return d(this.#e)}set conn_status(S){oe(this.#e,S,!0)}#i=me(Ne([]));get patterns(){return d(this.#i)}set patterns(S){oe(this.#i,S,!0)}#s=me(Ne({}));get controls(){return d(this.#s)}set controls(S){oe(this.#s,S,!0)}#r=me(!1);get isWriting(){return d(this.#r)}set isWriting(S){oe(this.#r,S,!0)}#n=me(Ne(structuredClone(zt)));get settings(){return d(this.#n)}set settings(S){oe(this.#n,S,!0)}getPatternByIdx(S,I){return S.find(C=>C.idx===I)}getPatternIndexByIdx(S,I){return S.findIndex(C=>C.idx===I)}constructor(){this.service="522b443a-4f53-534d-0001-420badbabe69",this.tx="522b443a-4f53-534d-1000-420badbabe69",this.tx_knob="522b443a-4f53-534d-1010-420badbabe69",this.rx_state="522b443a-4f53-534d-2000-420badbabe69",this.rx_patterns="522b443a-4f53-534d-3000-420badbabe69",this.rw_pattern_descriptions="522b443a-4f53-534d-3010-420badbabe69",this.unpause_speed=1,this.ossm_state="",this.controls={speed:{value:0,default:0,min:0,max:100,mode:"pleasure",limitMin:0,limitMax:100,inverted:!1,description:"Adjust how fast it goes back and forth"},stroke:{value:50,default:50,min:0,max:100,mode:"manual",limitMin:0,limitMax:100,inverted:!1,description:"Adjust the length of each stroke"},depth:{value:10,default:10,min:0,max:100,mode:"manual",limitMin:0,limitMax:100,inverted:!1,description:"Adjust how deep the strokes go"},pattern:{value:0,default:0,min:0,max:6,mode:"manual",limitMin:0,limitMax:6,inverted:!1,description:"Choose from preset stroke patterns"},sensation:{value:50,default:50,min:0,max:100,mode:"manual",limitMin:0,limitMax:100,inverted:!1,description:"Adjust features of the current pattern.  50 = no adjustment"}}}resetControls(){this.controls.speed.value=this.controls.speed.default,this.controls.stroke.value=this.controls.stroke.default,this.controls.depth.value=this.controls.depth.default,this.controls.pattern.value=this.controls.pattern.default,this.controls.sensation.value=this.controls.sensation.default}async setControl(S,I,C=!1){if(console.log(`Setting OSSM control ${S} to value ${I}`),this.conn_status!=="Connected"||!this.deviceId){N(this),console.error("Not connected to Bluetooth device",s());return}if(!this.isWriting)try{const B=new TextEncoder;this.isWriting=!0;let P="";if(S!=="pattern")P="set:"+S+":"+I;else{const J=ze(this.patterns)[I];J?(console.log(`Setting pattern to '${J.name}' with idx ${J.idx}`),P=`set:${S}:${J.idx}`):(console.warn(`Pattern with idx ${I} not found, sending raw value`),P=`set:${S}:${I}`)}const H=new DataView(B.encode(P).buffer);this.deviceId&&await ot.write(this.deviceId,this.service,this.tx,H),S==="speed"&&I===0&&(console.log(`Paused device, storing unpause speed ${this.unpause_speed}`,this.controls.speed.value),this.unpause_speed=this.controls.speed.value),this.controls[S].value=I,console.log(`Wrote control ${S} with value ${I}`)}catch(B){console.error("Failed writing control value:",B)}finally{if(this.isWriting=!1,this.settings.strokerMode.value&&!C){if(S==="depth"){const B=Math.round((I-50)*2);this.setControl("stroke",B,!0)}else if(S==="stroke"){const B=Math.round(I/2+50);this.setControl("depth",B,!0)}}S==="pattern"&&(this.setControl("sensation",50,!0),this.patterns[I].description===""&&setTimeout(()=>{G(this,this.patterns[I])},1e3))}}}let s=Qn(e,"devices",31,()=>Ne([])),a=Qn(e,"EOMembedded",3,!1);const u=Cs(()=>()=>s());let c=me(Ne(structuredClone(zt))),o;const h=()=>{o?.openSettings?.()};di(()=>{const w=s()[0];w?.settings?oe(c,w.settings,!0):oe(c,structuredClone(zt),!0)});let p=me(null);const g="ossmpossum.devices";function k(){return s().map(w=>({name:w.name,deviceId:w.deviceId,conn_status:w.conn_status,unpause_speed:w.unpause_speed,patterns:ze(w.patterns),controls:ze(w.controls),settings:ze(w.settings)}))}async function m(){try{const w=k();await Ur.set({key:g,value:JSON.stringify(w)})}catch(w){console.warn("Failed to save devices to preferences:",w,L("Current devices state:"))}}async function y(){try{const{value:w}=await Ur.get({key:g});if(!w)return;const S=JSON.parse(w);if(!Array.isArray(S))return;s(S.map(I=>{const C=new n;C.name=I.name??"",C.deviceId=I.deviceId??"",C.conn_status="Disconnected",C.unpause_speed=I.unpause_speed??C.unpause_speed,C.patterns=I.patterns??C.patterns,C.controls=I.controls??C.controls,C.settings=I.settings??C.settings;const B=C.controls?.pattern;return B&&C.patterns?.length&&(B.max=C.patterns.length-1,B.limitMax=C.patterns.length-1),C}))}catch(w){console.warn("Failed to load devices from preferences:",w,L("Current devices state:"))}}function A(){s(s().map(w=>{const S={};for(const[I,C]of Object.entries(w.controls))S[I]={...C,limitMin:C.min,limitMax:C.max};return w.controls=S,w})),m()}function L(w){try{const S=s().map(I=>{const C=ze(I.controls),B=ze(I.patterns),P=ze(I.settings);return{name:I.name,deviceId:I.deviceId,conn_status:I.conn_status,ossm_state:I.ossm_state,service:I.service,tx:I.tx,tx_knob:I.tx_knob,rx_state:I.rx_state,rx_patterns:I.rx_patterns,rw_pattern_descriptions:I.rw_pattern_descriptions,unpause_speed:I.unpause_speed,isWriting:I.isWriting,controls:C,patterns:B,settings:P}});console.log(w,S)}catch(S){console.warn("Failed to snapshot devices state:",S,L("Current devices state:"))}}function D(w){const S=s().findIndex(I=>I.deviceId===w.deviceId);S>=0?s([...s().slice(0,S),w,...s().slice(S+1)]):s([...s(),w]),m()}function O(w){return Object.entries(w).filter(([S,I])=>S.startsWith("key")&&typeof I.value=="string").map(([S,I])=>{const B=S.replace(/^key/,"").match(/[A-Z][a-z0-9]*/g)??[];if(B.length<2)return null;const P=B[B.length-1].toLowerCase();if(P!=="up"&&P!=="down")return null;const H=B.slice(0,-1).join("").toLowerCase(),re=I.value.split("|").map(le=>le===""||le.length===1&&le===" "?" ":le.trim()).filter(le=>le===" "||le.length>0);return{controlName:H,delta:P==="up"?1:-1,keys:re}}).filter(S=>!!S)}function M(w,S,I){const C=w.controls[S];if(!C)return;const B=C.limitMin??C.min,P=C.limitMax??C.max,H=Math.max(B,Math.min(P,Math.round(C.value+I)));H!==C.value&&w.setControl(S,H)}function q(w){return!w||!(w instanceof HTMLElement)?!1:w.closest(".settingsDialog")?!0:w.tagName.toLowerCase()==="textarea"||w.isContentEditable}ua(()=>{y();const w=S=>{if(console.log("Keydown event:",S),q(S.target)){console.log("Keydown event ignored due to editable target:",S.target);return}const I=S.key,C=S.code;for(const B of s()){const P=B.settings??zt,H=O(P);if(!H.length){console.log(`No key bindings configured for device '${B.name}'`);continue}for(const J of H){if(!J.keys.some(be=>be===I||be===C))continue;S.preventDefault();const re=B.controls[J.controlName];if(!re){console.warn(`Control '${J.controlName}' not found on device '${B.name}'`);break}const le=re.limitMin??re.min,ie=re.limitMax??re.max,he=Math.max(le,Math.min(ie,Math.round(re.value+J.delta)));console.log(`Key binding triggered for control '${J.controlName}' on device '${B.name}': current value ${re.value}, next value ${he}`),he!==re.value&&B.setControl(J.controlName,he);break}}};return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)});async function G(w,S){if(!(!w.deviceId||!S||S.description))try{console.log(`Fetching description for pattern '${S.name}' with idx ${S.idx}`);const I=new TextEncoder;await ot.write(w.deviceId,w.service,w.rw_pattern_descriptions,new DataView(I.encode(S.idx.toString()).buffer));const C=await ot.read(w.deviceId,w.service,w.rw_pattern_descriptions),B=new TextDecoder;S.description=B.decode(C),w.patterns=w.patterns.map(P=>P.idx===S.idx?{...P,description:S.description}:P),console.log(`Fetched description for pattern '${S.name}': ${S.description}`,w.patterns)}catch(I){console.error("Failed to read pattern description:",I,L("Current devices state:"))}}function N(w){w.conn_status="Disconnected",w.resetControls()}async function ke(w){try{const S=await ot.read(w.deviceId,w.service,w.rx_state),C=new TextDecoder().decode(S),B=JSON.parse(C);B.speed!==void 0&&(w.controls.speed.value=B.speed),B.stroke!==void 0&&(w.controls.stroke.value=B.stroke),B.depth!==void 0&&(w.controls.depth.value=B.depth),B.pattern!==void 0&&(w.controls.pattern.value=B.pattern),B.sensation!==void 0&&(w.controls.sensation.value=B.sensation),B.state!==void 0&&(w.ossm_state=B.state),L("State updated:")}catch(S){console.error("Failed to read state:",S,L("Current devices state:"))}}async function fe(){let w=new n;oe(p,null);try{await ot.initialize();const S=await ot.requestDevice({namePrefix:"OSSM",allowDuplicates:!1,optionalServices:[w.service]}),I=s().find(P=>P.deviceId===S.deviceId&&P.conn_status==="Connected");if(I){alert(`Device '${I.name} (${I.deviceId?I.deviceId.slice(-6,-2):""})' is already connected! (The list cannot be filtered)`);return}const C=s().find(P=>P.deviceId===S.deviceId&&P.conn_status!=="Connected");C&&(w.settings=C.settings,w.controls=C.controls,w.patterns=C.patterns,w.unpause_speed=C.unpause_speed,w.conn_status=C.conn_status),w.conn_status="Connecting...",w.deviceId=S.deviceId,w.name=(S.name||"OSSM")+" ("+S.deviceId.slice(-6,-2)+")",L(`Connected to new device: ${w.name}`),await ot.connect(S.deviceId,P=>{console.log(`Device ${P} disconnected`),N(w)});try{const P=await ot.read(S.deviceId,w.service,w.rx_patterns),J=new TextDecoder().decode(P),re=JSON.parse(J);let le=0;re.forEach(ie=>{console.log("Pattern:",ie);const he=ie.idx??le++,be=w.patterns.findIndex(qe=>qe.idx===he),Me={name:ie.name,idx:he,description:ie.description??w.patterns[be]?.description??""};be>=0?w.patterns[be]=Me:w.patterns.push(Me)}),w.controls.pattern.max=w.patterns.length-1,w.controls.pattern.limitMax=w.patterns.length-1}catch(P){console.error("Failed to read patterns:",P,L("Current devices state:"))}w.patterns.length>0&&!w.patterns[w.controls.pattern.value].description&&await G(w,ze(w.patterns)[w.controls.pattern.value]),await ke(w),L("sending startup sequence");const B=new TextEncoder;try{if(!w.ossm_state.includes("strokeEngine")&&!w.ossm_state.includes("error")){console.log("Device not in strokeEngine/error mode, sending go command");const J=new DataView(B.encode("go:strokeEngine").buffer);await ot.write(S.deviceId,w.service,w.tx,J)}else console.log("Device already in strokeEngine/error mode, skipping go command");const P=B.encode("false"),H=new DataView(P.buffer);await ot.write(S.deviceId,w.service,w.tx_knob,H),console.log("Sent startup sequence")}catch(P){console.error("Failed to send startup sequence:",P,L("Current devices state:"))}w.conn_status="Connected",D(w),L("Finished connecting and initializing device:")}catch(S){console.error("Bluetooth connection failed:",S,s()),w.conn_status="Connection failed",oe(p,S instanceof Error?S.message:String(S),!0)}}var W=io(),se=je(W),T=U(se);{var b=w=>{var S=Ot(),I=je(S);Ut(I,17,()=>d(u)(),Mt,(C,B,P)=>{var H=Qa(),J=je(H),re=U(J),le=U(re);{var ie=Se=>{var E=ja();E.__click=()=>{d(B).setControl("speed",0)},Y(Se,E)},he=Se=>{var E=Va();E.__click=()=>{d(B).setControl("speed",ze(d(B).unpause_speed))},Y(Se,E)};Ce(le,Se=>{ze(d(B).controls).speed.value>0?Se(ie):Se(he,!1)})}var be=F(re,2),Me=U(be);Me.__click=()=>h?.();var qe=F(be,2),ve=U(qe);ve.__click=async()=>{d(B).deviceId&&await ot.disconnect(d(B).deviceId)};var Pe=F(J,2);Ut(Pe,17,()=>Object.entries(ze(d(B).controls)),Mt,(Se,E,st)=>{var at=Ot(),Ke=je(at);{var vt=Be=>{var pe=Za(),Oe=je(pe),ct=U(Oe);{var He=j=>{var z=Wa(),ye=F(je(z)),Ue=U(ye),Te=F(ye,2),_e=U(Te);de((Re,Qe)=>{xe(Ue,Re),xe(_e,`${Qe??""}`)},[()=>ze(d(B).patterns)[d(E)[1].value]?.name??d(E)[1].value,()=>ze(d(B).patterns)[d(E)[1].value]?.description??""]),Y(j,z)},Un=j=>{var z=Ka(),ye=je(z),Ue=F(ye),Te=U(Ue);de(_e=>{xe(ye,`${_e??""}: ${d(E)[1].value??""} `),xe(Te,`(Min: ${d(E)[1].limitMin??""}, Max: ${d(E)[1].limitMax??""})`)},[()=>d(E)[0].charAt(0).toUpperCase()+d(E)[0].slice(1)]),Y(j,z)};Ce(ct,j=>{d(E)[0]==="pattern"?j(He):j(Un,!1)})}var l=F(Oe,2);{var r=j=>{var z=Ha(),ye=je(z),Ue=U(ye);Ue.__change=async Rn=>{const pr=Rn.target.value;console.log(`Setting mode for ${d(B).name} ${d(E)[0]} to ${pr}`),d(E)[1].mode=pr};var Te=U(Ue);Te.value=Te.__value="manual";var _e=F(Te);_e.value=_e.__value="pleasure";var Re=F(_e);Re.value=Re.__value="arousal";var Qe=F(Re);Qe.value=Qe.__value="pressure";var ft=F(Qe);ft.value=ft.__value="denied";var kt=F(ye,2),Pt=F(U(kt));Pt.__change=async Rn=>{d(E)[1].inverted=Rn.target.checked},de(()=>{R(Ue,"id",P+"-"+d(E)[0]+"-mode"),rn(Te,d(E)[1].mode==="manual"),rn(_e,d(E)[1].mode==="pleasure"),rn(Re,d(E)[1].mode==="arousal"),rn(Qe,d(E)[1].mode==="pressure"),rn(ft,d(E)[1].mode==="denied"),R(Pt,"id",P+"-"+d(E)[0]+"-invert"),Oi(Pt,d(E)[1].inverted)}),Y(j,z)};Ce(l,j=>{a()&&j(r)})}var i=F(l,2),f=F(U(i),2),v=U(f);{var _=j=>{var z=za();z.__click=()=>M(d(B),d(E)[0],-1),de(()=>R(z,"aria-label",`Decrease ${d(E)[0]}`)),Y(j,z)};Ce(v,j=>{d(B).settings?.enableIncrementButtons?.value&&j(_)})}var x=F(v,2);x.__pointerdown=j=>{const z=j.target,ye=z.getBoundingClientRect(),Te=(j.clientX-ye.left)/ye.width,_e=parseFloat(z.min),Re=parseFloat(z.max),Qe=Te*(Re-_e)+_e,ft=d(E)[1].value,kt=(Re-_e)*.1;if(d(E)[0]!=="pattern"&&Math.abs(Qe-ft)>kt)return j.preventDefault(),j.stopPropagation(),!1},x.__pointerup=j=>{const z=j.target;delete z.dataset.dragging},x.__touchend=j=>{const z=j.target;delete z.dataset.dragging},x.__input=j=>{const z=j.target,ye=parseInt(z.value);if(d(E)[0]!=="pattern"&&!z.dataset.dragging&&Math.abs(ye-d(E)[1].value)>(d(E)[1].limitMax-d(E)[1].limitMin)*.1){z.value=d(E)[1].value.toString();return}z.dataset.dragging="true",d(B).setControl(d(E)[0],ye)};var $=F(x,2);{var ue=j=>{var z=Ya();z.__click=()=>M(d(B),d(E)[0],1),de(()=>R(z,"aria-label",`Increase ${d(E)[0]}`)),Y(j,z)};Ce($,j=>{d(B).settings?.enableIncrementButtons?.value&&j(ue)})}var ae=F(f,2);{var ce=j=>{var z=Ja();Ut(z,21,()=>Array.from({length:d(E)[1].max-d(E)[1].min+1},(ye,Ue)=>Ue+d(E)[1].min),Mt,(ye,Ue)=>{var Te=Ga(),_e=U(Te);de(()=>{xn(Te,`left: ${(d(Ue)-d(E)[1].min)/(d(E)[1].max-d(E)[1].min)*100}%;`),xe(_e,d(Ue)+1)}),Y(ye,Te)}),de(()=>xn(z,`width: calc(100% - ${d(B).settings?.enableIncrementButtons?.value?130:40}px); margin-left: ${d(B).settings?.enableIncrementButtons?.value?65:20}px;`)),Y(j,z)},te=j=>{var z=Xa(),ye=je(z),Ue=U(ye),Te=F(ye,2),_e=U(Te);_e.__input=Qe=>{const ft=d(E)[1].limitMin??d(E)[1].min;d(E)[1].limitMin=parseInt(Qe.target?.value??"0"),d(B).controls={...d(B).controls,[d(E)[0]]:{...d(E)[1]}},m();const kt=document.querySelector(`#control-${P}-${d(E)[0]}-range-slider`);kt.style.left=`${d(E)[1].limitMin/d(E)[1].max*100}%`;const Pt=(d(E)[1].value-ft)/((d(E)[1].limitMax??d(E)[1].max)-ft)*((d(E)[1].limitMax??d(E)[1].max)-(d(E)[1].limitMin??d(E)[1].min))+(d(E)[1].limitMin??d(E)[1].min);d(B).setControl(d(E)[0],Math.round(Pt))};var Re=F(_e,2);Re.__input=Qe=>{const ft=d(E)[1].limitMax??d(E)[1].max;d(E)[1].limitMax=parseInt(Qe.target?.value??d(E)[1].max.toString()),d(B).controls={...d(B).controls,[d(E)[0]]:{...d(E)[1]}},m();const kt=document.querySelector(`#control-${P}-${d(E)[0]}-range-slider`);kt&&(kt.style.right=`${(d(E)[1].max-(d(E)[1].limitMax??d(E)[1].max))/d(E)[1].max*100}%`);const Pt=(d(E)[1].value-(d(E)[1].limitMin??d(E)[1].min))/(ft-(d(E)[1].limitMin??d(E)[1].min))*((d(E)[1].limitMax??d(E)[1].max)-(d(E)[1].limitMin??d(E)[1].min))+(d(E)[1].limitMin??d(E)[1].min);d(B).setControl(d(E)[0],Math.round(Pt)),L(`devices[${P}].controls['${d(E)[0]}'].limitMax set to ${d(E)[1].limitMax}!`)},de(()=>{R(Ue,"id",`control-${P}-${d(E)[0]}-range-slider`),R(_e,"id",`control-${P}-${d(E)[0]}-min`),R(_e,"min",d(E)[1].min),R(_e,"max",d(E)[1].max),fn(_e,d(E)[1].limitMin),R(Re,"id",`control-${P}-${d(E)[0]}-max`),R(Re,"min",d(E)[1].min),R(Re,"max",d(E)[1].max),fn(Re,d(E)[1].limitMax)}),Y(j,z)};Ce(ae,j=>{d(E)[0]==="pattern"?j(ce):j(te,!1)})}de(j=>{R(i,"title",d(E)[1].description??""),R(x,"id",`control-${P}-${d(E)[0]}-slider`),R(x,"min",d(E)[1].limitMin??d(E)[1].min),R(x,"max",d(E)[1].limitMax??d(E)[1].max),fn(x,d(E)[1].value),xn(x,`background: hsl(${j??""}, 30%, 50%);`)},[()=>st*(360/Object.keys(d(B).controls).length)]),Y(Be,pe)};Ce(Ke,Be=>{!(d(E)[0]==="depth"&&d(B).settings.strokerMode.value)&&!(d(E)[0]==="sensation"&&d(B).patterns[d(B).controls.pattern.value]?.name==="Simple Stroke")&&Be(vt)})}Y(Se,at)}),Y(C,H)}),Y(w,S)},Z=w=>{var S=to(),I=F(U(S),4);{var C=B=>{var P=eo();Y(B,P)};Ce(I,B=>{a()||B(C)})}Y(w,S)};Ce(T,w=>{d(u)().filter(S=>S.conn_status==="Connected").length?w(b):w(Z,!1)})}var K=F(T,2);{var Ie=w=>{var S=no(),I=U(S);I.__click=()=>fe();var C=F(U(I));{var B=H=>{var J=Ys("other");Y(H,J)},P=H=>{};Ce(C,H=>{s().filter(J=>J.conn_status==="Connected").length?H(B):H(P,!1)})}Y(w,S)};Ce(K,w=>{(a()||s().filter(S=>S.conn_status==="Connected").length==0)&&w(Ie)})}var ge=F(K,2);{var Le=w=>{var S=ro(),I=U(S),C=F(I);C.__click=()=>{oe(p,null)},de(()=>xe(I,` Connection error: ${d(p)??""} `)),Y(w,S)};Ce(ge,w=>{d(p)&&w(Le)})}var Ze=F(se,2);vr(Na(Ze,{onSettingsChanged:()=>{m()},onSettingsReset:()=>A(),get settings(){return d(c)},set settings(w){oe(c,w,!0)}}),w=>o=w,()=>o),de(()=>xn(se,`--version: '${qa.version}';`)),Y(t,W),sr()}Ii(["click","change","pointerdown","pointerup","touchend","input"]);var ao=ne('<div class="mainContainer" role="none"><div style="position: relative; padding: 0; width: 100%; max-width: 100%; box-sizing: border-box; display: flex; justify-content: center; align-items: center; flex-direction: column; overflow-x: hidden;"><div style="display: flex; justify-content: space-between; width: 100%; max-width: 100%; box-sizing: border-box; padding: 4px; flex-wrap: wrap; gap: 0.5rem;"><!></div></div></div>');function oo(t){let e,n=me(Ne([]));var s=ao(),a=U(s),u=U(a),c=U(u);vr(so(c,{get devices(){return d(n)},set devices(o){oe(n,o,!0)}}),o=>e=o,()=>e),Y(t,s)}var Kn={},sn={},Rr;function lo(){if(Rr)return sn;Rr=1,sn.byteLength=o,sn.toByteArray=p,sn.fromByteArray=m;for(var t=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)t[a]=s[a],e[s.charCodeAt(a)]=a;e[45]=62,e[95]=63;function c(y){var A=y.length;if(A%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var L=y.indexOf("=");L===-1&&(L=A);var D=L===A?0:4-L%4;return[L,D]}function o(y){var A=c(y),L=A[0],D=A[1];return(L+D)*3/4-D}function h(y,A,L){return(A+L)*3/4-L}function p(y){var A,L=c(y),D=L[0],O=L[1],M=new n(h(y,D,O)),q=0,G=O>0?D-4:D,N;for(N=0;N<G;N+=4)A=e[y.charCodeAt(N)]<<18|e[y.charCodeAt(N+1)]<<12|e[y.charCodeAt(N+2)]<<6|e[y.charCodeAt(N+3)],M[q++]=A>>16&255,M[q++]=A>>8&255,M[q++]=A&255;return O===2&&(A=e[y.charCodeAt(N)]<<2|e[y.charCodeAt(N+1)]>>4,M[q++]=A&255),O===1&&(A=e[y.charCodeAt(N)]<<10|e[y.charCodeAt(N+1)]<<4|e[y.charCodeAt(N+2)]>>2,M[q++]=A>>8&255,M[q++]=A&255),M}function g(y){return t[y>>18&63]+t[y>>12&63]+t[y>>6&63]+t[y&63]}function k(y,A,L){for(var D,O=[],M=A;M<L;M+=3)D=(y[M]<<16&16711680)+(y[M+1]<<8&65280)+(y[M+2]&255),O.push(g(D));return O.join("")}function m(y){for(var A,L=y.length,D=L%3,O=[],M=16383,q=0,G=L-D;q<G;q+=M)O.push(k(y,q,q+M>G?G:q+M));return D===1?(A=y[L-1],O.push(t[A>>2]+t[A<<4&63]+"==")):D===2&&(A=(y[L-2]<<8)+y[L-1],O.push(t[A>>10]+t[A>>4&63]+t[A<<2&63]+"=")),O.join("")}return sn}var Sn={};var Nr;function uo(){return Nr||(Nr=1,Sn.read=function(t,e,n,s,a){var u,c,o=a*8-s-1,h=(1<<o)-1,p=h>>1,g=-7,k=n?a-1:0,m=n?-1:1,y=t[e+k];for(k+=m,u=y&(1<<-g)-1,y>>=-g,g+=o;g>0;u=u*256+t[e+k],k+=m,g-=8);for(c=u&(1<<-g)-1,u>>=-g,g+=s;g>0;c=c*256+t[e+k],k+=m,g-=8);if(u===0)u=1-p;else{if(u===h)return c?NaN:(y?-1:1)*(1/0);c=c+Math.pow(2,s),u=u-p}return(y?-1:1)*c*Math.pow(2,u-s)},Sn.write=function(t,e,n,s,a,u){var c,o,h,p=u*8-a-1,g=(1<<p)-1,k=g>>1,m=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=s?0:u-1,A=s?1:-1,L=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,c=g):(c=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-c))<1&&(c--,h*=2),c+k>=1?e+=m/h:e+=m*Math.pow(2,1-k),e*h>=2&&(c++,h/=2),c+k>=g?(o=0,c=g):c+k>=1?(o=(e*h-1)*Math.pow(2,a),c=c+k):(o=e*Math.pow(2,k-1)*Math.pow(2,a),c=0));a>=8;t[n+y]=o&255,y+=A,o/=256,a-=8);for(c=c<<a|o,p+=a;p>0;t[n+y]=c&255,y+=A,c/=256,p-=8);t[n+y-A]|=L*128}),Sn}var $r;function co(){return $r||($r=1,(function(t){const e=lo(),n=uo(),s=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=o,t.SlowBuffer=M,t.INSPECT_MAX_BYTES=50;const a=2147483647;t.kMaxLength=a,o.TYPED_ARRAY_SUPPORT=u(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function u(){try{const l=new Uint8Array(1),r={foo:function(){return 42}};return Object.setPrototypeOf(r,Uint8Array.prototype),Object.setPrototypeOf(l,r),l.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function c(l){if(l>a)throw new RangeError('The value "'+l+'" is invalid for option "size"');const r=new Uint8Array(l);return Object.setPrototypeOf(r,o.prototype),r}function o(l,r,i){if(typeof l=="number"){if(typeof r=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return k(l)}return h(l,r,i)}o.poolSize=8192;function h(l,r,i){if(typeof l=="string")return m(l,r);if(ArrayBuffer.isView(l))return A(l);if(l==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof l);if(pe(l,ArrayBuffer)||l&&pe(l.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(pe(l,SharedArrayBuffer)||l&&pe(l.buffer,SharedArrayBuffer)))return L(l,r,i);if(typeof l=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const f=l.valueOf&&l.valueOf();if(f!=null&&f!==l)return o.from(f,r,i);const v=D(l);if(v)return v;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof l[Symbol.toPrimitive]=="function")return o.from(l[Symbol.toPrimitive]("string"),r,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof l)}o.from=function(l,r,i){return h(l,r,i)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function p(l){if(typeof l!="number")throw new TypeError('"size" argument must be of type number');if(l<0)throw new RangeError('The value "'+l+'" is invalid for option "size"')}function g(l,r,i){return p(l),l<=0?c(l):r!==void 0?typeof i=="string"?c(l).fill(r,i):c(l).fill(r):c(l)}o.alloc=function(l,r,i){return g(l,r,i)};function k(l){return p(l),c(l<0?0:O(l)|0)}o.allocUnsafe=function(l){return k(l)},o.allocUnsafeSlow=function(l){return k(l)};function m(l,r){if((typeof r!="string"||r==="")&&(r="utf8"),!o.isEncoding(r))throw new TypeError("Unknown encoding: "+r);const i=q(l,r)|0;let f=c(i);const v=f.write(l,r);return v!==i&&(f=f.slice(0,v)),f}function y(l){const r=l.length<0?0:O(l.length)|0,i=c(r);for(let f=0;f<r;f+=1)i[f]=l[f]&255;return i}function A(l){if(pe(l,Uint8Array)){const r=new Uint8Array(l);return L(r.buffer,r.byteOffset,r.byteLength)}return y(l)}function L(l,r,i){if(r<0||l.byteLength<r)throw new RangeError('"offset" is outside of buffer bounds');if(l.byteLength<r+(i||0))throw new RangeError('"length" is outside of buffer bounds');let f;return r===void 0&&i===void 0?f=new Uint8Array(l):i===void 0?f=new Uint8Array(l,r):f=new Uint8Array(l,r,i),Object.setPrototypeOf(f,o.prototype),f}function D(l){if(o.isBuffer(l)){const r=O(l.length)|0,i=c(r);return i.length===0||l.copy(i,0,0,r),i}if(l.length!==void 0)return typeof l.length!="number"||Oe(l.length)?c(0):y(l);if(l.type==="Buffer"&&Array.isArray(l.data))return y(l.data)}function O(l){if(l>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return l|0}function M(l){return+l!=l&&(l=0),o.alloc(+l)}o.isBuffer=function(r){return r!=null&&r._isBuffer===!0&&r!==o.prototype},o.compare=function(r,i){if(pe(r,Uint8Array)&&(r=o.from(r,r.offset,r.byteLength)),pe(i,Uint8Array)&&(i=o.from(i,i.offset,i.byteLength)),!o.isBuffer(r)||!o.isBuffer(i))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(r===i)return 0;let f=r.length,v=i.length;for(let _=0,x=Math.min(f,v);_<x;++_)if(r[_]!==i[_]){f=r[_],v=i[_];break}return f<v?-1:v<f?1:0},o.isEncoding=function(r){switch(String(r).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(r,i){if(!Array.isArray(r))throw new TypeError('"list" argument must be an Array of Buffers');if(r.length===0)return o.alloc(0);let f;if(i===void 0)for(i=0,f=0;f<r.length;++f)i+=r[f].length;const v=o.allocUnsafe(i);let _=0;for(f=0;f<r.length;++f){let x=r[f];if(pe(x,Uint8Array))_+x.length>v.length?(o.isBuffer(x)||(x=o.from(x)),x.copy(v,_)):Uint8Array.prototype.set.call(v,x,_);else if(o.isBuffer(x))x.copy(v,_);else throw new TypeError('"list" argument must be an Array of Buffers');_+=x.length}return v};function q(l,r){if(o.isBuffer(l))return l.length;if(ArrayBuffer.isView(l)||pe(l,ArrayBuffer))return l.byteLength;if(typeof l!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof l);const i=l.length,f=arguments.length>2&&arguments[2]===!0;if(!f&&i===0)return 0;let v=!1;for(;;)switch(r){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return st(l).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return i*2;case"hex":return i>>>1;case"base64":return vt(l).length;default:if(v)return f?-1:st(l).length;r=(""+r).toLowerCase(),v=!0}}o.byteLength=q;function G(l,r,i){let f=!1;if((r===void 0||r<0)&&(r=0),r>this.length||((i===void 0||i>this.length)&&(i=this.length),i<=0)||(i>>>=0,r>>>=0,i<=r))return"";for(l||(l="utf8");;)switch(l){case"hex":return S(this,r,i);case"utf8":case"utf-8":return Ie(this,r,i);case"ascii":return Ze(this,r,i);case"latin1":case"binary":return w(this,r,i);case"base64":return K(this,r,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,r,i);default:if(f)throw new TypeError("Unknown encoding: "+l);l=(l+"").toLowerCase(),f=!0}}o.prototype._isBuffer=!0;function N(l,r,i){const f=l[r];l[r]=l[i],l[i]=f}o.prototype.swap16=function(){const r=this.length;if(r%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let i=0;i<r;i+=2)N(this,i,i+1);return this},o.prototype.swap32=function(){const r=this.length;if(r%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let i=0;i<r;i+=4)N(this,i,i+3),N(this,i+1,i+2);return this},o.prototype.swap64=function(){const r=this.length;if(r%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let i=0;i<r;i+=8)N(this,i,i+7),N(this,i+1,i+6),N(this,i+2,i+5),N(this,i+3,i+4);return this},o.prototype.toString=function(){const r=this.length;return r===0?"":arguments.length===0?Ie(this,0,r):G.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(r){if(!o.isBuffer(r))throw new TypeError("Argument must be a Buffer");return this===r?!0:o.compare(this,r)===0},o.prototype.inspect=function(){let r="";const i=t.INSPECT_MAX_BYTES;return r=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(r+=" ... "),"<Buffer "+r+">"},s&&(o.prototype[s]=o.prototype.inspect),o.prototype.compare=function(r,i,f,v,_){if(pe(r,Uint8Array)&&(r=o.from(r,r.offset,r.byteLength)),!o.isBuffer(r))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof r);if(i===void 0&&(i=0),f===void 0&&(f=r?r.length:0),v===void 0&&(v=0),_===void 0&&(_=this.length),i<0||f>r.length||v<0||_>this.length)throw new RangeError("out of range index");if(v>=_&&i>=f)return 0;if(v>=_)return-1;if(i>=f)return 1;if(i>>>=0,f>>>=0,v>>>=0,_>>>=0,this===r)return 0;let x=_-v,$=f-i;const ue=Math.min(x,$),ae=this.slice(v,_),ce=r.slice(i,f);for(let te=0;te<ue;++te)if(ae[te]!==ce[te]){x=ae[te],$=ce[te];break}return x<$?-1:$<x?1:0};function ke(l,r,i,f,v){if(l.length===0)return-1;if(typeof i=="string"?(f=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,Oe(i)&&(i=v?0:l.length-1),i<0&&(i=l.length+i),i>=l.length){if(v)return-1;i=l.length-1}else if(i<0)if(v)i=0;else return-1;if(typeof r=="string"&&(r=o.from(r,f)),o.isBuffer(r))return r.length===0?-1:fe(l,r,i,f,v);if(typeof r=="number")return r=r&255,typeof Uint8Array.prototype.indexOf=="function"?v?Uint8Array.prototype.indexOf.call(l,r,i):Uint8Array.prototype.lastIndexOf.call(l,r,i):fe(l,[r],i,f,v);throw new TypeError("val must be string, number or Buffer")}function fe(l,r,i,f,v){let _=1,x=l.length,$=r.length;if(f!==void 0&&(f=String(f).toLowerCase(),f==="ucs2"||f==="ucs-2"||f==="utf16le"||f==="utf-16le")){if(l.length<2||r.length<2)return-1;_=2,x/=2,$/=2,i/=2}function ue(ce,te){return _===1?ce[te]:ce.readUInt16BE(te*_)}let ae;if(v){let ce=-1;for(ae=i;ae<x;ae++)if(ue(l,ae)===ue(r,ce===-1?0:ae-ce)){if(ce===-1&&(ce=ae),ae-ce+1===$)return ce*_}else ce!==-1&&(ae-=ae-ce),ce=-1}else for(i+$>x&&(i=x-$),ae=i;ae>=0;ae--){let ce=!0;for(let te=0;te<$;te++)if(ue(l,ae+te)!==ue(r,te)){ce=!1;break}if(ce)return ae}return-1}o.prototype.includes=function(r,i,f){return this.indexOf(r,i,f)!==-1},o.prototype.indexOf=function(r,i,f){return ke(this,r,i,f,!0)},o.prototype.lastIndexOf=function(r,i,f){return ke(this,r,i,f,!1)};function W(l,r,i,f){i=Number(i)||0;const v=l.length-i;f?(f=Number(f),f>v&&(f=v)):f=v;const _=r.length;f>_/2&&(f=_/2);let x;for(x=0;x<f;++x){const $=parseInt(r.substr(x*2,2),16);if(Oe($))return x;l[i+x]=$}return x}function se(l,r,i,f){return Be(st(r,l.length-i),l,i,f)}function T(l,r,i,f){return Be(at(r),l,i,f)}function b(l,r,i,f){return Be(vt(r),l,i,f)}function Z(l,r,i,f){return Be(Ke(r,l.length-i),l,i,f)}o.prototype.write=function(r,i,f,v){if(i===void 0)v="utf8",f=this.length,i=0;else if(f===void 0&&typeof i=="string")v=i,f=this.length,i=0;else if(isFinite(i))i=i>>>0,isFinite(f)?(f=f>>>0,v===void 0&&(v="utf8")):(v=f,f=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const _=this.length-i;if((f===void 0||f>_)&&(f=_),r.length>0&&(f<0||i<0)||i>this.length)throw new RangeError("Attempt to write outside buffer bounds");v||(v="utf8");let x=!1;for(;;)switch(v){case"hex":return W(this,r,i,f);case"utf8":case"utf-8":return se(this,r,i,f);case"ascii":case"latin1":case"binary":return T(this,r,i,f);case"base64":return b(this,r,i,f);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z(this,r,i,f);default:if(x)throw new TypeError("Unknown encoding: "+v);v=(""+v).toLowerCase(),x=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function K(l,r,i){return r===0&&i===l.length?e.fromByteArray(l):e.fromByteArray(l.slice(r,i))}function Ie(l,r,i){i=Math.min(l.length,i);const f=[];let v=r;for(;v<i;){const _=l[v];let x=null,$=_>239?4:_>223?3:_>191?2:1;if(v+$<=i){let ue,ae,ce,te;switch($){case 1:_<128&&(x=_);break;case 2:ue=l[v+1],(ue&192)===128&&(te=(_&31)<<6|ue&63,te>127&&(x=te));break;case 3:ue=l[v+1],ae=l[v+2],(ue&192)===128&&(ae&192)===128&&(te=(_&15)<<12|(ue&63)<<6|ae&63,te>2047&&(te<55296||te>57343)&&(x=te));break;case 4:ue=l[v+1],ae=l[v+2],ce=l[v+3],(ue&192)===128&&(ae&192)===128&&(ce&192)===128&&(te=(_&15)<<18|(ue&63)<<12|(ae&63)<<6|ce&63,te>65535&&te<1114112&&(x=te))}}x===null?(x=65533,$=1):x>65535&&(x-=65536,f.push(x>>>10&1023|55296),x=56320|x&1023),f.push(x),v+=$}return Le(f)}const ge=4096;function Le(l){const r=l.length;if(r<=ge)return String.fromCharCode.apply(String,l);let i="",f=0;for(;f<r;)i+=String.fromCharCode.apply(String,l.slice(f,f+=ge));return i}function Ze(l,r,i){let f="";i=Math.min(l.length,i);for(let v=r;v<i;++v)f+=String.fromCharCode(l[v]&127);return f}function w(l,r,i){let f="";i=Math.min(l.length,i);for(let v=r;v<i;++v)f+=String.fromCharCode(l[v]);return f}function S(l,r,i){const f=l.length;(!r||r<0)&&(r=0),(!i||i<0||i>f)&&(i=f);let v="";for(let _=r;_<i;++_)v+=ct[l[_]];return v}function I(l,r,i){const f=l.slice(r,i);let v="";for(let _=0;_<f.length-1;_+=2)v+=String.fromCharCode(f[_]+f[_+1]*256);return v}o.prototype.slice=function(r,i){const f=this.length;r=~~r,i=i===void 0?f:~~i,r<0?(r+=f,r<0&&(r=0)):r>f&&(r=f),i<0?(i+=f,i<0&&(i=0)):i>f&&(i=f),i<r&&(i=r);const v=this.subarray(r,i);return Object.setPrototypeOf(v,o.prototype),v};function C(l,r,i){if(l%1!==0||l<0)throw new RangeError("offset is not uint");if(l+r>i)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(r,i,f){r=r>>>0,i=i>>>0,f||C(r,i,this.length);let v=this[r],_=1,x=0;for(;++x<i&&(_*=256);)v+=this[r+x]*_;return v},o.prototype.readUintBE=o.prototype.readUIntBE=function(r,i,f){r=r>>>0,i=i>>>0,f||C(r,i,this.length);let v=this[r+--i],_=1;for(;i>0&&(_*=256);)v+=this[r+--i]*_;return v},o.prototype.readUint8=o.prototype.readUInt8=function(r,i){return r=r>>>0,i||C(r,1,this.length),this[r]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(r,i){return r=r>>>0,i||C(r,2,this.length),this[r]|this[r+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(r,i){return r=r>>>0,i||C(r,2,this.length),this[r]<<8|this[r+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(r,i){return r=r>>>0,i||C(r,4,this.length),(this[r]|this[r+1]<<8|this[r+2]<<16)+this[r+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(r,i){return r=r>>>0,i||C(r,4,this.length),this[r]*16777216+(this[r+1]<<16|this[r+2]<<8|this[r+3])},o.prototype.readBigUInt64LE=He(function(r){r=r>>>0,ve(r,"offset");const i=this[r],f=this[r+7];(i===void 0||f===void 0)&&Pe(r,this.length-8);const v=i+this[++r]*2**8+this[++r]*2**16+this[++r]*2**24,_=this[++r]+this[++r]*2**8+this[++r]*2**16+f*2**24;return BigInt(v)+(BigInt(_)<<BigInt(32))}),o.prototype.readBigUInt64BE=He(function(r){r=r>>>0,ve(r,"offset");const i=this[r],f=this[r+7];(i===void 0||f===void 0)&&Pe(r,this.length-8);const v=i*2**24+this[++r]*2**16+this[++r]*2**8+this[++r],_=this[++r]*2**24+this[++r]*2**16+this[++r]*2**8+f;return(BigInt(v)<<BigInt(32))+BigInt(_)}),o.prototype.readIntLE=function(r,i,f){r=r>>>0,i=i>>>0,f||C(r,i,this.length);let v=this[r],_=1,x=0;for(;++x<i&&(_*=256);)v+=this[r+x]*_;return _*=128,v>=_&&(v-=Math.pow(2,8*i)),v},o.prototype.readIntBE=function(r,i,f){r=r>>>0,i=i>>>0,f||C(r,i,this.length);let v=i,_=1,x=this[r+--v];for(;v>0&&(_*=256);)x+=this[r+--v]*_;return _*=128,x>=_&&(x-=Math.pow(2,8*i)),x},o.prototype.readInt8=function(r,i){return r=r>>>0,i||C(r,1,this.length),this[r]&128?(255-this[r]+1)*-1:this[r]},o.prototype.readInt16LE=function(r,i){r=r>>>0,i||C(r,2,this.length);const f=this[r]|this[r+1]<<8;return f&32768?f|4294901760:f},o.prototype.readInt16BE=function(r,i){r=r>>>0,i||C(r,2,this.length);const f=this[r+1]|this[r]<<8;return f&32768?f|4294901760:f},o.prototype.readInt32LE=function(r,i){return r=r>>>0,i||C(r,4,this.length),this[r]|this[r+1]<<8|this[r+2]<<16|this[r+3]<<24},o.prototype.readInt32BE=function(r,i){return r=r>>>0,i||C(r,4,this.length),this[r]<<24|this[r+1]<<16|this[r+2]<<8|this[r+3]},o.prototype.readBigInt64LE=He(function(r){r=r>>>0,ve(r,"offset");const i=this[r],f=this[r+7];(i===void 0||f===void 0)&&Pe(r,this.length-8);const v=this[r+4]+this[r+5]*2**8+this[r+6]*2**16+(f<<24);return(BigInt(v)<<BigInt(32))+BigInt(i+this[++r]*2**8+this[++r]*2**16+this[++r]*2**24)}),o.prototype.readBigInt64BE=He(function(r){r=r>>>0,ve(r,"offset");const i=this[r],f=this[r+7];(i===void 0||f===void 0)&&Pe(r,this.length-8);const v=(i<<24)+this[++r]*2**16+this[++r]*2**8+this[++r];return(BigInt(v)<<BigInt(32))+BigInt(this[++r]*2**24+this[++r]*2**16+this[++r]*2**8+f)}),o.prototype.readFloatLE=function(r,i){return r=r>>>0,i||C(r,4,this.length),n.read(this,r,!0,23,4)},o.prototype.readFloatBE=function(r,i){return r=r>>>0,i||C(r,4,this.length),n.read(this,r,!1,23,4)},o.prototype.readDoubleLE=function(r,i){return r=r>>>0,i||C(r,8,this.length),n.read(this,r,!0,52,8)},o.prototype.readDoubleBE=function(r,i){return r=r>>>0,i||C(r,8,this.length),n.read(this,r,!1,52,8)};function B(l,r,i,f,v,_){if(!o.isBuffer(l))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>v||r<_)throw new RangeError('"value" argument is out of bounds');if(i+f>l.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(r,i,f,v){if(r=+r,i=i>>>0,f=f>>>0,!v){const $=Math.pow(2,8*f)-1;B(this,r,i,f,$,0)}let _=1,x=0;for(this[i]=r&255;++x<f&&(_*=256);)this[i+x]=r/_&255;return i+f},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(r,i,f,v){if(r=+r,i=i>>>0,f=f>>>0,!v){const $=Math.pow(2,8*f)-1;B(this,r,i,f,$,0)}let _=f-1,x=1;for(this[i+_]=r&255;--_>=0&&(x*=256);)this[i+_]=r/x&255;return i+f},o.prototype.writeUint8=o.prototype.writeUInt8=function(r,i,f){return r=+r,i=i>>>0,f||B(this,r,i,1,255,0),this[i]=r&255,i+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(r,i,f){return r=+r,i=i>>>0,f||B(this,r,i,2,65535,0),this[i]=r&255,this[i+1]=r>>>8,i+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(r,i,f){return r=+r,i=i>>>0,f||B(this,r,i,2,65535,0),this[i]=r>>>8,this[i+1]=r&255,i+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(r,i,f){return r=+r,i=i>>>0,f||B(this,r,i,4,4294967295,0),this[i+3]=r>>>24,this[i+2]=r>>>16,this[i+1]=r>>>8,this[i]=r&255,i+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(r,i,f){return r=+r,i=i>>>0,f||B(this,r,i,4,4294967295,0),this[i]=r>>>24,this[i+1]=r>>>16,this[i+2]=r>>>8,this[i+3]=r&255,i+4};function P(l,r,i,f,v){qe(r,f,v,l,i,7);let _=Number(r&BigInt(4294967295));l[i++]=_,_=_>>8,l[i++]=_,_=_>>8,l[i++]=_,_=_>>8,l[i++]=_;let x=Number(r>>BigInt(32)&BigInt(4294967295));return l[i++]=x,x=x>>8,l[i++]=x,x=x>>8,l[i++]=x,x=x>>8,l[i++]=x,i}function H(l,r,i,f,v){qe(r,f,v,l,i,7);let _=Number(r&BigInt(4294967295));l[i+7]=_,_=_>>8,l[i+6]=_,_=_>>8,l[i+5]=_,_=_>>8,l[i+4]=_;let x=Number(r>>BigInt(32)&BigInt(4294967295));return l[i+3]=x,x=x>>8,l[i+2]=x,x=x>>8,l[i+1]=x,x=x>>8,l[i]=x,i+8}o.prototype.writeBigUInt64LE=He(function(r,i=0){return P(this,r,i,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=He(function(r,i=0){return H(this,r,i,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(r,i,f,v){if(r=+r,i=i>>>0,!v){const ue=Math.pow(2,8*f-1);B(this,r,i,f,ue-1,-ue)}let _=0,x=1,$=0;for(this[i]=r&255;++_<f&&(x*=256);)r<0&&$===0&&this[i+_-1]!==0&&($=1),this[i+_]=(r/x>>0)-$&255;return i+f},o.prototype.writeIntBE=function(r,i,f,v){if(r=+r,i=i>>>0,!v){const ue=Math.pow(2,8*f-1);B(this,r,i,f,ue-1,-ue)}let _=f-1,x=1,$=0;for(this[i+_]=r&255;--_>=0&&(x*=256);)r<0&&$===0&&this[i+_+1]!==0&&($=1),this[i+_]=(r/x>>0)-$&255;return i+f},o.prototype.writeInt8=function(r,i,f){return r=+r,i=i>>>0,f||B(this,r,i,1,127,-128),r<0&&(r=255+r+1),this[i]=r&255,i+1},o.prototype.writeInt16LE=function(r,i,f){return r=+r,i=i>>>0,f||B(this,r,i,2,32767,-32768),this[i]=r&255,this[i+1]=r>>>8,i+2},o.prototype.writeInt16BE=function(r,i,f){return r=+r,i=i>>>0,f||B(this,r,i,2,32767,-32768),this[i]=r>>>8,this[i+1]=r&255,i+2},o.prototype.writeInt32LE=function(r,i,f){return r=+r,i=i>>>0,f||B(this,r,i,4,2147483647,-2147483648),this[i]=r&255,this[i+1]=r>>>8,this[i+2]=r>>>16,this[i+3]=r>>>24,i+4},o.prototype.writeInt32BE=function(r,i,f){return r=+r,i=i>>>0,f||B(this,r,i,4,2147483647,-2147483648),r<0&&(r=4294967295+r+1),this[i]=r>>>24,this[i+1]=r>>>16,this[i+2]=r>>>8,this[i+3]=r&255,i+4},o.prototype.writeBigInt64LE=He(function(r,i=0){return P(this,r,i,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=He(function(r,i=0){return H(this,r,i,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function J(l,r,i,f,v,_){if(i+f>l.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function re(l,r,i,f,v){return r=+r,i=i>>>0,v||J(l,r,i,4),n.write(l,r,i,f,23,4),i+4}o.prototype.writeFloatLE=function(r,i,f){return re(this,r,i,!0,f)},o.prototype.writeFloatBE=function(r,i,f){return re(this,r,i,!1,f)};function le(l,r,i,f,v){return r=+r,i=i>>>0,v||J(l,r,i,8),n.write(l,r,i,f,52,8),i+8}o.prototype.writeDoubleLE=function(r,i,f){return le(this,r,i,!0,f)},o.prototype.writeDoubleBE=function(r,i,f){return le(this,r,i,!1,f)},o.prototype.copy=function(r,i,f,v){if(!o.isBuffer(r))throw new TypeError("argument should be a Buffer");if(f||(f=0),!v&&v!==0&&(v=this.length),i>=r.length&&(i=r.length),i||(i=0),v>0&&v<f&&(v=f),v===f||r.length===0||this.length===0)return 0;if(i<0)throw new RangeError("targetStart out of bounds");if(f<0||f>=this.length)throw new RangeError("Index out of range");if(v<0)throw new RangeError("sourceEnd out of bounds");v>this.length&&(v=this.length),r.length-i<v-f&&(v=r.length-i+f);const _=v-f;return this===r&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(i,f,v):Uint8Array.prototype.set.call(r,this.subarray(f,v),i),_},o.prototype.fill=function(r,i,f,v){if(typeof r=="string"){if(typeof i=="string"?(v=i,i=0,f=this.length):typeof f=="string"&&(v=f,f=this.length),v!==void 0&&typeof v!="string")throw new TypeError("encoding must be a string");if(typeof v=="string"&&!o.isEncoding(v))throw new TypeError("Unknown encoding: "+v);if(r.length===1){const x=r.charCodeAt(0);(v==="utf8"&&x<128||v==="latin1")&&(r=x)}}else typeof r=="number"?r=r&255:typeof r=="boolean"&&(r=Number(r));if(i<0||this.length<i||this.length<f)throw new RangeError("Out of range index");if(f<=i)return this;i=i>>>0,f=f===void 0?this.length:f>>>0,r||(r=0);let _;if(typeof r=="number")for(_=i;_<f;++_)this[_]=r;else{const x=o.isBuffer(r)?r:o.from(r,v),$=x.length;if($===0)throw new TypeError('The value "'+r+'" is invalid for argument "value"');for(_=0;_<f-i;++_)this[_+i]=x[_%$]}return this};const ie={};function he(l,r,i){ie[l]=class extends i{constructor(){super(),Object.defineProperty(this,"message",{value:r.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${l}]`,this.stack,delete this.name}get code(){return l}set code(v){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:v,writable:!0})}toString(){return`${this.name} [${l}]: ${this.message}`}}}he("ERR_BUFFER_OUT_OF_BOUNDS",function(l){return l?`${l} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),he("ERR_INVALID_ARG_TYPE",function(l,r){return`The "${l}" argument must be of type number. Received type ${typeof r}`},TypeError),he("ERR_OUT_OF_RANGE",function(l,r,i){let f=`The value of "${l}" is out of range.`,v=i;return Number.isInteger(i)&&Math.abs(i)>2**32?v=be(String(i)):typeof i=="bigint"&&(v=String(i),(i>BigInt(2)**BigInt(32)||i<-(BigInt(2)**BigInt(32)))&&(v=be(v)),v+="n"),f+=` It must be ${r}. Received ${v}`,f},RangeError);function be(l){let r="",i=l.length;const f=l[0]==="-"?1:0;for(;i>=f+4;i-=3)r=`_${l.slice(i-3,i)}${r}`;return`${l.slice(0,i)}${r}`}function Me(l,r,i){ve(r,"offset"),(l[r]===void 0||l[r+i]===void 0)&&Pe(r,l.length-(i+1))}function qe(l,r,i,f,v,_){if(l>i||l<r){const x=typeof r=="bigint"?"n":"";let $;throw r===0||r===BigInt(0)?$=`>= 0${x} and < 2${x} ** ${(_+1)*8}${x}`:$=`>= -(2${x} ** ${(_+1)*8-1}${x}) and < 2 ** ${(_+1)*8-1}${x}`,new ie.ERR_OUT_OF_RANGE("value",$,l)}Me(f,v,_)}function ve(l,r){if(typeof l!="number")throw new ie.ERR_INVALID_ARG_TYPE(r,"number",l)}function Pe(l,r,i){throw Math.floor(l)!==l?(ve(l,i),new ie.ERR_OUT_OF_RANGE("offset","an integer",l)):r<0?new ie.ERR_BUFFER_OUT_OF_BOUNDS:new ie.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${r}`,l)}const Se=/[^+/0-9A-Za-z-_]/g;function E(l){if(l=l.split("=")[0],l=l.trim().replace(Se,""),l.length<2)return"";for(;l.length%4!==0;)l=l+"=";return l}function st(l,r){r=r||1/0;let i;const f=l.length;let v=null;const _=[];for(let x=0;x<f;++x){if(i=l.charCodeAt(x),i>55295&&i<57344){if(!v){if(i>56319){(r-=3)>-1&&_.push(239,191,189);continue}else if(x+1===f){(r-=3)>-1&&_.push(239,191,189);continue}v=i;continue}if(i<56320){(r-=3)>-1&&_.push(239,191,189),v=i;continue}i=(v-55296<<10|i-56320)+65536}else v&&(r-=3)>-1&&_.push(239,191,189);if(v=null,i<128){if((r-=1)<0)break;_.push(i)}else if(i<2048){if((r-=2)<0)break;_.push(i>>6|192,i&63|128)}else if(i<65536){if((r-=3)<0)break;_.push(i>>12|224,i>>6&63|128,i&63|128)}else if(i<1114112){if((r-=4)<0)break;_.push(i>>18|240,i>>12&63|128,i>>6&63|128,i&63|128)}else throw new Error("Invalid code point")}return _}function at(l){const r=[];for(let i=0;i<l.length;++i)r.push(l.charCodeAt(i)&255);return r}function Ke(l,r){let i,f,v;const _=[];for(let x=0;x<l.length&&!((r-=2)<0);++x)i=l.charCodeAt(x),f=i>>8,v=i%256,_.push(v),_.push(f);return _}function vt(l){return e.toByteArray(E(l))}function Be(l,r,i,f){let v;for(v=0;v<f&&!(v+i>=r.length||v>=l.length);++v)r[v+i]=l[v];return v}function pe(l,r){return l instanceof r||l!=null&&l.constructor!=null&&l.constructor.name!=null&&l.constructor.name===r.name}function Oe(l){return l!==l}const ct=(function(){const l="0123456789abcdef",r=new Array(256);for(let i=0;i<16;++i){const f=i*16;for(let v=0;v<16;++v)r[f+v]=l[i]+l[v]}return r})();function He(l){return typeof BigInt>"u"?Un:l}function Un(){throw new Error("BigInt not supported")}})(Kn)),Kn}var fo=co();globalThis.Buffer=fo.Buffer;const ho=!!globalThis.Capacitor?.isNativePlatform?.();"serviceWorker"in navigator&&!ho&&navigator.serviceWorker.register("sw.js");Gs(oo,{target:document.getElementById("app")});async function vo(t,e,n){let s;return Promise.race([t,new Promise((a,u)=>{s=setTimeout(()=>u(n),e)})]).finally(()=>clearTimeout(s))}class po extends mn{constructor(){super(...arguments),this.deviceMap=new Map,this.discoveredDevices=new Map,this.scan=null,this.DEFAULT_CONNECTION_TIMEOUT=1e4,this.onAdvertisementReceivedCallback=this.onAdvertisementReceived.bind(this),this.onDisconnectedCallback=this.onDisconnected.bind(this),this.onCharacteristicValueChangedCallback=this.onCharacteristicValueChanged.bind(this)}async initialize(){if(typeof navigator>"u"||!navigator.bluetooth)throw this.unavailable("Web Bluetooth API not available in this browser.");if(!await navigator.bluetooth.getAvailability())throw this.unavailable("No Bluetooth radio available.")}async isEnabled(){return{value:!0}}async requestEnable(){throw this.unavailable("requestEnable is not available on web.")}async enable(){throw this.unavailable("enable is not available on web.")}async disable(){throw this.unavailable("disable is not available on web.")}async startEnabledNotifications(){}async stopEnabledNotifications(){}async isLocationEnabled(){throw this.unavailable("isLocationEnabled is not available on web.")}async openLocationSettings(){throw this.unavailable("openLocationSettings is not available on web.")}async openBluetoothSettings(){throw this.unavailable("openBluetoothSettings is not available on web.")}async openAppSettings(){throw this.unavailable("openAppSettings is not available on web.")}async setDisplayStrings(){}async requestDevice(e){const n=this.getFilters(e),s=await navigator.bluetooth.requestDevice({filters:n.length?n:void 0,optionalServices:e?.optionalServices,acceptAllDevices:n.length===0});return this.deviceMap.set(s.id,s),this.getBleDevice(s)}async requestLEScan(e){this.requestBleDeviceOptions=e;const n=this.getFilters(e);await this.stopLEScan(),this.discoveredDevices=new Map,navigator.bluetooth.removeEventListener("advertisementreceived",this.onAdvertisementReceivedCallback),navigator.bluetooth.addEventListener("advertisementreceived",this.onAdvertisementReceivedCallback),this.scan=await navigator.bluetooth.requestLEScan({filters:n.length?n:void 0,acceptAllAdvertisements:n.length===0,keepRepeatedDevices:e?.allowDuplicates})}onAdvertisementReceived(e){var n,s,a;const u=e.device.id;this.deviceMap.set(u,e.device);const c=!this.discoveredDevices.has(u);if(!(!((n=this.requestBleDeviceOptions)===null||n===void 0)&&n.serviceData&&!this.matchesServiceDataFilter(e))&&(c||!((s=this.requestBleDeviceOptions)===null||s===void 0)&&s.allowDuplicates)){this.discoveredDevices.set(u,!0);const o=this.getBleDevice(e.device),h={device:o,localName:o.name,rssi:e.rssi,txPower:e.txPower,manufacturerData:Tr(e.manufacturerData),serviceData:Tr(e.serviceData),uuids:(a=e.uuids)===null||a===void 0?void 0:a.map(ka)};this.notifyListeners("onScanResult",h)}}async stopLEScan(){var e;!((e=this.scan)===null||e===void 0)&&e.active&&this.scan.stop(),this.scan=null}async getDevices(e){return{devices:(await navigator.bluetooth.getDevices()).filter(a=>e.deviceIds.includes(a.id)).map(a=>(this.deviceMap.set(a.id,a),this.getBleDevice(a)))}}async getConnectedDevices(e){return{devices:(await navigator.bluetooth.getDevices()).filter(a=>{var u;return(u=a.gatt)===null||u===void 0?void 0:u.connected}).map(a=>(this.deviceMap.set(a.id,a),this.getBleDevice(a)))}}async getBondedDevices(){return{}}async connect(e){var n,s;const a=this.getDeviceFromMap(e.deviceId);a.removeEventListener("gattserverdisconnected",this.onDisconnectedCallback),a.addEventListener("gattserverdisconnected",this.onDisconnectedCallback);const u=Symbol();if(a.gatt===void 0)throw new Error("No gatt server available.");try{const c=(n=e.timeout)!==null&&n!==void 0?n:this.DEFAULT_CONNECTION_TIMEOUT;await vo(a.gatt.connect(),c,u)}catch(c){throw await((s=a.gatt)===null||s===void 0?void 0:s.disconnect()),c===u?new Error("Connection timeout"):c}}onDisconnected(e){const s=`disconnected|${e.target.id}`;this.notifyListeners(s,null)}async createBond(e){throw this.unavailable("createBond is not available on web.")}async isBonded(e){throw this.unavailable("isBonded is not available on web.")}async disconnect(e){var n;(n=this.getDeviceFromMap(e.deviceId).gatt)===null||n===void 0||n.disconnect()}async getServices(e){var n,s;const a=(s=await((n=this.getDeviceFromMap(e.deviceId).gatt)===null||n===void 0?void 0:n.getPrimaryServices()))!==null&&s!==void 0?s:[],u=[];for(const c of a){const o=await c.getCharacteristics(),h=[];for(const p of o)h.push({uuid:p.uuid,properties:this.getProperties(p),descriptors:await this.getDescriptors(p)});u.push({uuid:c.uuid,characteristics:h})}return{services:u}}async getDescriptors(e){try{return(await e.getDescriptors()).map(s=>({uuid:s.uuid}))}catch{return[]}}getProperties(e){return{broadcast:e.properties.broadcast,read:e.properties.read,writeWithoutResponse:e.properties.writeWithoutResponse,write:e.properties.write,notify:e.properties.notify,indicate:e.properties.indicate,authenticatedSignedWrites:e.properties.authenticatedSignedWrites,reliableWrite:e.properties.reliableWrite,writableAuxiliaries:e.properties.writableAuxiliaries}}async getCharacteristic(e){var n;const s=await((n=this.getDeviceFromMap(e.deviceId).gatt)===null||n===void 0?void 0:n.getPrimaryService(e?.service));return s?.getCharacteristic(e?.characteristic)}async getDescriptor(e){const n=await this.getCharacteristic(e);return n?.getDescriptor(e?.descriptor)}async discoverServices(e){throw this.unavailable("discoverServices is not available on web.")}async getMtu(e){throw this.unavailable("getMtu is not available on web.")}async requestConnectionPriority(e){throw this.unavailable("requestConnectionPriority is not available on web.")}async readRssi(e){throw this.unavailable("readRssi is not available on web.")}async read(e){const n=await this.getCharacteristic(e);return{value:await n?.readValue()}}async write(e){const n=await this.getCharacteristic(e);let s;typeof e.value=="string"?s=dn(e.value):s=e.value,await n?.writeValueWithResponse(Vn(s))}async writeWithoutResponse(e){const n=await this.getCharacteristic(e);let s;typeof e.value=="string"?s=dn(e.value):s=e.value,await n?.writeValueWithoutResponse(Vn(s))}async readDescriptor(e){const n=await this.getDescriptor(e);return{value:await n?.readValue()}}async writeDescriptor(e){const n=await this.getDescriptor(e);let s;typeof e.value=="string"?s=dn(e.value):s=e.value,await n?.writeValue(Vn(s))}async startNotifications(e){const n=await this.getCharacteristic(e);n?.removeEventListener("characteristicvaluechanged",this.onCharacteristicValueChangedCallback),n?.addEventListener("characteristicvaluechanged",this.onCharacteristicValueChangedCallback),await n?.startNotifications()}onCharacteristicValueChanged(e){var n,s;const a=e.target,u=`notification|${(n=a.service)===null||n===void 0?void 0:n.device.id}|${(s=a.service)===null||s===void 0?void 0:s.uuid}|${a.uuid}`;this.notifyListeners(u,{value:a.value})}async stopNotifications(e){const n=await this.getCharacteristic(e);await n?.stopNotifications()}getFilters(e){var n,s;const a=[];for(const u of(n=e?.services)!==null&&n!==void 0?n:[])a.push({services:[u],name:e?.name,namePrefix:e?.namePrefix});(e?.name||e?.namePrefix)&&a.length===0&&a.push({name:e.name,namePrefix:e.namePrefix});for(const u of(s=e?.manufacturerData)!==null&&s!==void 0?s:[])a.push({manufacturerData:[u]});return a}matchesServiceDataFilter(e){var n;const s=(n=this.requestBleDeviceOptions)===null||n===void 0?void 0:n.serviceData;if(!s||s.length===0)return!0;if(!e.serviceData)return!1;for(const a of s){const u=e.serviceData.get(a.serviceUuid);if(!u)continue;if(!a.dataPrefix)return!0;const c=new Uint8Array(u.buffer),o=a.dataPrefix;if(!(c.length<o.byteLength))if(a.mask){const h=a.mask;let p=!0;for(let g=0;g<o.byteLength;g++)if((c[g]&h.getUint8(g))!==(o.getUint8(g)&h.getUint8(g))){p=!1;break}if(p)return!0}else{let h=!0;for(let p=0;p<o.byteLength;p++)if(c[p]!==o.getUint8(p)){h=!1;break}if(h)return!0}}return!1}getDeviceFromMap(e){const n=this.deviceMap.get(e);if(n===void 0)throw new Error('Device not found. Call "requestDevice", "requestLEScan" or "getDevices" first.');return n}getBleDevice(e){var n;return{deviceId:e.id,name:(n=e.name)!==null&&n!==void 0?n:void 0}}}const _o=Object.freeze(Object.defineProperty({__proto__:null,BluetoothLeWeb:po},Symbol.toStringTag,{value:"Module"}));class go extends mn{constructor(){super(...arguments),this.group="CapacitorStorage"}async configure({group:e}){typeof e=="string"&&(this.group=e)}async get(e){return{value:this.impl.getItem(this.applyPrefix(e.key))}}async set(e){this.impl.setItem(this.applyPrefix(e.key),e.value)}async remove(e){this.impl.removeItem(this.applyPrefix(e.key))}async keys(){return{keys:this.rawKeys().map(n=>n.substring(this.prefix.length))}}async clear(){for(const e of this.rawKeys())this.impl.removeItem(e)}async migrate(){var e;const n=[],s=[],a="_cap_",u=Object.keys(this.impl).filter(c=>c.indexOf(a)===0);for(const c of u){const o=c.substring(a.length),h=(e=this.impl.getItem(c))!==null&&e!==void 0?e:"",{value:p}=await this.get({key:o});typeof p=="string"?s.push(o):(await this.set({key:o,value:h}),n.push(o))}return{migrated:n,existing:s}}async removeOld(){const e="_cap_",n=Object.keys(this.impl).filter(s=>s.indexOf(e)===0);for(const s of n)this.impl.removeItem(s)}get impl(){return window.localStorage}get prefix(){return this.group==="NativeStorage"?"":`${this.group}.`}rawKeys(){return Object.keys(this.impl).filter(e=>e.indexOf(this.prefix)===0)}applyPrefix(e){return this.prefix+e}}const yo=Object.freeze(Object.defineProperty({__proto__:null,PreferencesWeb:go},Symbol.toStringTag,{value:"Module"}));</script>
    <style rel="stylesheet" crossorigin>:root{font-family:system-ui,Avenir,Helvetica,Arial,sans-serif;line-height:1.5;font-weight:400;color-scheme:light dark;color:#ffffffde;background-color:#242424;font-synthesis:none;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}a{font-weight:500;color:#646cff;text-decoration:inherit}a:hover{color:#535bf2}html{overflow:hidden;touch-action:none;overscroll-behavior:none}body{margin:0;padding:0;display:flex;justify-content:center;align-items:flex-start;min-height:100vh;max-height:100vh;width:100%;max-width:100vw;overflow-x:hidden;box-sizing:border-box;overflow:hidden;touch-action:none;overscroll-behavior:none}h2{margin:0}button{padding:.5rem 1rem;border:1px solid #ccc;border-radius:4px;background:#fff;cursor:pointer;font-size:1rem;color:#000}button:hover{background:#f0f0f0}#app{width:100%;max-width:100%;overflow-x:hidden}.radioBoxes{margin-top:.25em;display:flex;justify-content:center;gap:1rem;width:100%;max-width:100%;box-sizing:border-box}.radioBox{border:1px solid gray;padding:.25em;margin-top:.5em;display:flex;align-items:center;justify-content:space-around;flex-wrap:wrap;text-wrap:nowrap;width:calc(50% - .5rem - 2px);max-width:calc(50% - .5rem - 2px);box-sizing:border-box}.radioBoxItem{display:flex;align-items:center;text-wrap:nowrap;color:#fff}.radioBoxItem input{margin:.25em .25em .25em .75em;cursor:pointer}.radioBoxItem label{cursor:pointer}.radioChosen{font-weight:700;color:#f44}.statBoxButton{cursor:pointer;border:1px solid gray;padding:.25em;display:inline-block;white-space:nowrap;border-radius:4px}.mainContainer{width:100%;max-width:1200px;margin:0 auto;display:flex;justify-content:center;align-items:flex-start;min-height:100vh;box-sizing:border-box;padding:0;overflow-x:hidden}.gauges{display:flex;justify-content:space-between;align-items:center;width:75vw}.gaugeRow{display:flex;justify-content:space-between;align-items:center;box-sizing:border-box}.statusText{margin-top:.5em;font-weight:700;font-size:1.2em;text-align:center;color:#f44}.settingsDialog{border:1px solid #eee;border-radius:8px;background-color:#333;max-width:1000px;position:absolute;top:15%;width:80%;margin:auto;padding:1em;vertical-align:top}.statBoxes{margin-top:.1em;display:flex;justify-content:space-evenly;width:100%}#auto_edging_duration_minutes{accent-color:red;background:linear-gradient(to right,red 0% 100%)}.settingSliders{margin-top:2em;width:100%;max-width:80vw;display:flex;flex-direction:column;gap:.5em;justify-content:center;box-sizing:border-box}.settingSliders #max_denied{accent-color:red;background:linear-gradient(to right,red 0% 100%)}.topButton{cursor:pointer;margin:.2%;padding-bottom:0;border-radius:5px}.circular-progress{display:flex;flex-direction:column;align-items:center;justify-content:center;max-width:280px}.circular-progress svg{width:20vw;height:20vw;max-width:240px;max-height:240px}.belowCircleButton{border-radius:8px;height:1.75rem;line-height:.75rem;color:#000;cursor:pointer;margin-top:.75rem;width:10em}.gaugesWrapper{display:flex;justify-content:center;align-items:center;width:100%;flex-direction:column;margin:0 auto}@media screen and (max-width:700px){.gaugesWrapper{width:100%}.belowCircleButton{width:2em}.radioBox{display:flex;margin-bottom:.3em;padding:0;max-width:100%;font-size:.8em}.statBoxButton{font-size:.5em}.gauges{flex-direction:column;gap:1.5rem}.gaugeRow{width:90vw;max-width:100%;gap:0;box-sizing:border-box;justify-content:space-evenly}.circular-progress{max-width:40vw;margin:0 1em}.circular-progress svg{width:30vw;height:30vw}.belowCircleButton{width:10em}}@media screen and (max-width:1000px){.radioBoxes{flex-direction:column;align-items:center}.radioBox{width:75vw;max-width:75vw}}@media screen and (max-width:1500px){.gaugeRow{justify-content:space-around}.gauges{justify-content:center}}@media screen and (max-width:460px){.radioBox{font-size:.6em}.circular-progress{max-width:30vw}}@keyframes flashRedPink{0%,to{stroke:red}50%{stroke:#f66}}@keyframes flashRedPinkText{0%,to{fill:red;color:red}50%{fill:#f66;color:#f66}}@keyframes flashOrangeYellow{0%,to{stroke:orange}50%{stroke:#ff0}}@keyframes flashOrangeYellowText{0%,to{fill:orange}50%{fill:#ff0}}@keyframes flashPinkWhite{0%,to{stroke:#ff7fff}50%{stroke:#ffb3ff}}@keyframes flashPinkWhiteText{0%,to{fill:#ff7fff}50%{fill:#ffb3ff}}.cooldown-flash-stroke{animation:flashRedPink .5s infinite}.cooldown-flash-text{animation:flashRedPinkText .5s infinite}.cooldown-flash-stroke-orange{animation:flashOrangeYellow .5s infinite}.cooldown-flash-text-orange{animation:flashOrangeYellowText .5s infinite}.cooldown-flash-stroke-pink{animation:flashPinkWhite .5s infinite}.cooldown-flash-text-pink{animation:flashPinkWhiteText .5s infinite}input[type=range][readonly]{-webkit-appearance:none;appearance:none}input[type=range][readonly]::-webkit-slider-track{width:50px;height:100%;background:linear-gradient(to bottom,orange 0% 100%);border-radius:25px;border:2px solid #ff8800}input[type=range][readonly]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:50px;height:20px;background:#fff;border:3px solid orange;border-radius:10px;cursor:default}input[type=range][readonly]::-moz-range-track{width:50px;height:100%;background:linear-gradient(to bottom,orange 0% 100%);border-radius:25px;border:2px solid #ff8800}input[type=range][readonly]::-moz-range-thumb{width:50px;height:20px;background:#fff;border:3px solid orange;border-radius:10px;cursor:default}.buttplug-connector{display:flex;flex-direction:column;gap:1rem;padding:1rem}.buttplug-connector ul{list-style:none;padding:0;margin:0;border-top:1px solid #eee}.buttplug-connector li{padding:.5rem;border-bottom:1px solid #eee}.buttplug-connector .device-sliders{display:flex;flex-direction:column;gap:.5rem}.buttplug-connector .device-sliders input::-webkit-outer-spin-button,.buttplug-connector .device-sliders input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.buttplug-connector .device-sliders .slider-with-buttons{width:100%}.buttplug-connector .device-sliders .slider{width:100%;height:6px;position:relative;background:#444;border-radius:5px}.buttplug-connector .device-sliders .slider .range-slider{height:100%;left:0%;right:0%;position:absolute;border-radius:5px;background:#99c8ff}.buttplug-connector .device-sliders .range-input{position:relative}.buttplug-connector .device-sliders .range-input input{position:absolute;width:100%;height:5px;background:none;top:-15px;pointer-events:none;cursor:pointer;-webkit-appearance:none;appearance:none}.buttplug-connector .device-sliders input[type=range]::-webkit-slider-thumb{height:18px;width:40px;border-radius:4px;background:#555;pointer-events:auto;-webkit-appearance:none;position:relative}.buttplug-connector .device-sliders input[type=range]::-moz-range-thumb{height:18px;width:40px;border-radius:4px;background:#555;pointer-events:auto;border:none}.buttplug-connector .device-sliders input[type=range].min-range::-webkit-slider-thumb{background:#555 url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="40" height="18"><text x="50%" y="13" font-family="Arial" font-size="10" fill="white" text-anchor="middle">min</text></svg>') center/contain no-repeat}.buttplug-connector .device-sliders input[type=range].min-range::-moz-range-thumb{background:#555 url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="40" height="18"><text x="50%" y="13" font-family="Arial" font-size="10" fill="white" text-anchor="middle">min</text></svg>') center/contain no-repeat}.buttplug-connector .device-sliders input[type=range].max-range::-webkit-slider-thumb{background:#555 url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="40" height="18"><text x="50%" y="13" font-family="Arial" font-size="10" fill="white" text-anchor="middle">max</text></svg>') center/contain no-repeat}.buttplug-connector .device-sliders input[type=range].max-range::-moz-range-thumb{background:#555 url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="40" height="18"><text x="50%" y="13" font-family="Arial" font-size="10" fill="white" text-anchor="middle">max</text></svg>') center/contain no-repeat}.settingsDialog.svelte-1usl06u{border:1px solid #eee;border-radius:8px;background-color:#333;max-width:1000px;max-height:90vh;overflow-y:auto;position:absolute;top:5%;width:80%;margin:auto;padding:1em;vertical-align:top}.keybinding-values.svelte-1usl06u{display:flex;flex-wrap:wrap;gap:.4rem;margin-top:.4rem}.keybinding-chip.svelte-1usl06u{display:inline-flex;align-items:center;gap:.35rem;padding:.2rem .5rem;border:1px solid #666;border-radius:6px;background:#2b2b2b;color:#eee;font-size:.85rem}.keybinding-remove.svelte-1usl06u{border:none;background:transparent;color:#ffb3b3;cursor:pointer;font-size:.9rem;line-height:1;padding:0}.keybinding-input.svelte-1usl06u{display:flex;gap:.5rem;margin-top:.5rem}.keybinding-input.svelte-1usl06u input:where(.svelte-1usl06u){width:100px;max-width:100px}.settingDescription.svelte-1usl06u{font-size:x-small;font-weight:400;display:block}.settings-accordion.svelte-1usl06u{margin-top:1rem;border-top:1px solid #444;padding-top:.75rem}.settings-accordion.svelte-1usl06u summary:where(.svelte-1usl06u){cursor:pointer;font-weight:600;color:#ddd;margin-bottom:.5rem}.settings-reset.svelte-1usl06u{margin:.5rem 0 .75rem;padding:.4rem .75rem;border-radius:6px;border:1px solid #555;background:#4e1e1e;color:red;cursor:pointer}.bluetooth-ossm-control.svelte-kxsqrl{margin:37px auto 5%;width:90%;align-items:center;gap:1rem;padding:1rem;border:1px solid #ccc;position:relative}.bluetooth-ossm-control.svelte-kxsqrl:before{content:var(--version);color:#666;position:absolute;top:-46px;left:20%;transform:translate(-50%);width:30%;height:50px;width:min(30%,300px);background-image:url(./possum_head.svg);background-size:contain;background-repeat:no-repeat;background-position:center;text-indent:75vw}.bluetooth-ossm-control.svelte-kxsqrl:after{content:"";position:absolute;left:55%;bottom:-36px;transform:translate(-50%);width:min(60%,300px);height:59px;background-image:url(./possum_tail.svg);background-size:100% 60px;background-repeat:no-repeat;background-position:center}.bluetooth-ossm-control.svelte-kxsqrl .slider-label:where(.svelte-kxsqrl){font-weight:700;margin-bottom:1px;white-space:nowrap}.bluetooth-ossm-control.svelte-kxsqrl .minMaxText:where(.svelte-kxsqrl){font-size:large;color:#ccc}.bluetooth-ossm-control.svelte-kxsqrl .invertedText:where(.svelte-kxsqrl){white-space:nowrap;font-size:small}.bluetooth-ossm-control.svelte-kxsqrl .device-disconnect:where(.svelte-kxsqrl){color:#a99;background-color:transparent;font-weight:700;float:right;width:4.8rem;text-align:center}.bluetooth-ossm-control.svelte-kxsqrl .device-settings:where(.svelte-kxsqrl){color:#666;background-color:transparent;width:4.8rem;text-align:center;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:2px}.bluetooth-ossm-control.svelte-kxsqrl .device-pause:where(.svelte-kxsqrl){color:#900;background-color:#f8bcbc;width:4.8rem}.bluetooth-ossm-control.svelte-kxsqrl .device-resume:where(.svelte-kxsqrl){color:#07ba48;background-color:#e4f8bc;width:4.8rem}.bluetooth-ossm-control.svelte-kxsqrl .device-sliders:where(.svelte-kxsqrl){display:flex;flex-direction:column;margin-bottom:20px;gap:.5rem;margin-top:-.5rem}.bluetooth-ossm-control.svelte-kxsqrl .device-sliders:where(.svelte-kxsqrl) input:where(.svelte-kxsqrl)::-webkit-outer-spin-button,.bluetooth-ossm-control.svelte-kxsqrl .device-sliders:where(.svelte-kxsqrl) input:where(.svelte-kxsqrl)::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.bluetooth-ossm-control.svelte-kxsqrl .device-sliders:where(.svelte-kxsqrl) input[type=range].main-slider:where(.svelte-kxsqrl){-webkit-appearance:none;appearance:none;background:#3a6dc1;cursor:pointer;height:40px;border-radius:20px;outline:none}.bluetooth-ossm-control.svelte-kxsqrl .device-sliders:where(.svelte-kxsqrl) input[type=range].main-slider:where(.svelte-kxsqrl)::-webkit-slider-track{background:#3a6dc1;height:40px;border-radius:20px;border:none}.bluetooth-ossm-control.svelte-kxsqrl .device-sliders:where(.svelte-kxsqrl) input[type=range].main-slider:where(.svelte-kxsqrl)::-moz-range-track{background:#3a6dc1;height:40px;border-radius:20px}.bluetooth-ossm-control.svelte-kxsqrl .device-sliders:where(.svelte-kxsqrl) input[type=range].main-slider:where(.svelte-kxsqrl)::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;height:40px;width:40px;border-radius:20px;background:#acf;cursor:pointer;margin-top:0}.bluetooth-ossm-control.svelte-kxsqrl .device-sliders:where(.svelte-kxsqrl) input[type=range].main-slider:where(.svelte-kxsqrl)::-moz-range-thumb{height:40px;width:40px;border-radius:20px;background:#acf;cursor:pointer;border:none}.bluetooth-ossm-control.svelte-kxsqrl .device-sliders:where(.svelte-kxsqrl) .slider-with-buttons:where(.svelte-kxsqrl){display:flex;align-items:center;gap:.5rem;width:100%}.bluetooth-ossm-control.svelte-kxsqrl .device-sliders:where(.svelte-kxsqrl) .slider-with-buttons:where(.svelte-kxsqrl) .main-slider:where(.svelte-kxsqrl){flex:1;min-width:0}.bluetooth-ossm-control.svelte-kxsqrl .device-sliders:where(.svelte-kxsqrl) .slider-step:where(.svelte-kxsqrl){width:36px;height:36px;border-radius:6px;border:1px solid #555;background:#2b2b2b;color:#eee;cursor:pointer;font-weight:700}.bluetooth-ossm-control.svelte-kxsqrl .device-sliders:where(.svelte-kxsqrl) .slider-step.up:where(.svelte-kxsqrl){padding:0;margin:auto}.bluetooth-ossm-control.svelte-kxsqrl .device-sliders:where(.svelte-kxsqrl) .slider:where(.svelte-kxsqrl){width:100%;height:6px;position:relative;background:#333;border-radius:5px}.bluetooth-ossm-control.svelte-kxsqrl .device-sliders:where(.svelte-kxsqrl) .slider:where(.svelte-kxsqrl) .range-slider:where(.svelte-kxsqrl){height:100%;left:0%;right:0%;position:absolute;border-radius:20px;background:#666}.bluetooth-ossm-control.svelte-kxsqrl .device-sliders:where(.svelte-kxsqrl) .range-input:where(.svelte-kxsqrl){position:relative}.bluetooth-ossm-control.svelte-kxsqrl .device-sliders:where(.svelte-kxsqrl) .range-input:where(.svelte-kxsqrl) input:where(.svelte-kxsqrl){position:absolute;width:100%;height:5px;background:none;top:-15px;pointer-events:none;cursor:pointer;-webkit-appearance:none;appearance:none}.bluetooth-ossm-control.svelte-kxsqrl .device-sliders:where(.svelte-kxsqrl) input[type=range]:where(.svelte-kxsqrl)::-webkit-slider-thumb{height:40px;width:40px;border-radius:20px;background:#333;pointer-events:auto;-webkit-appearance:none;position:relative}.bluetooth-ossm-control.svelte-kxsqrl .device-sliders:where(.svelte-kxsqrl) input[type=range]:where(.svelte-kxsqrl)::-moz-range-thumb{height:40px;width:40px;border-radius:20px;background:#333;pointer-events:auto;border:none}.bluetooth-ossm-control.svelte-kxsqrl .device-sliders:where(.svelte-kxsqrl) input[type=range].min-range:where(.svelte-kxsqrl)::-webkit-slider-thumb{height:18px;background:#444 url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="40" height="18"><text x="50%" y="13" font-family="Arial" font-size="10" fill="lightgray" text-anchor="middle">min</text></svg>') center/contain no-repeat}.bluetooth-ossm-control.svelte-kxsqrl .device-sliders:where(.svelte-kxsqrl) input[type=range].min-range:where(.svelte-kxsqrl)::-moz-range-thumb{height:18px;background:#444 url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="40" height="18"><text x="50%" y="13" font-family="Arial" font-size="10" fill="lightgray" text-anchor="middle">min</text></svg>') center/contain no-repeat}.bluetooth-ossm-control.svelte-kxsqrl .device-sliders:where(.svelte-kxsqrl) input[type=range].max-range:where(.svelte-kxsqrl)::-webkit-slider-thumb{height:18px;background:#444 url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="40" height="18"><text x="50%" y="13" font-family="Arial" font-size="10" fill="lightgray" text-anchor="middle">max</text></svg>') center/contain no-repeat}.bluetooth-ossm-control.svelte-kxsqrl .device-sliders:where(.svelte-kxsqrl) input[type=range].max-range:where(.svelte-kxsqrl)::-moz-range-thumb{height:18px;background:#444 url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="40" height="18"><text x="50%" y="13" font-family="Arial" font-size="10" fill="lightgray" text-anchor="middle">max</text></svg>') center/contain no-repeat}.bluetooth-ossm-control.svelte-kxsqrl .device-sliders:where(.svelte-kxsqrl) .pattern-numbers:where(.svelte-kxsqrl){position:relative;width:calc(100% - 40px);height:20px;margin-left:20px;margin-top:-38px;margin-bottom:30px;z-index:10;pointer-events:none}.bluetooth-ossm-control.svelte-kxsqrl .device-sliders:where(.svelte-kxsqrl) .pattern-number:where(.svelte-kxsqrl){position:absolute;transform:translate(-50%);font-size:11px;color:#aaa;font-weight:700;pointer-events:none;-webkit-user-select:none;user-select:none}@media screen and (max-width:800px){.bluetooth-ossm-control.svelte-kxsqrl .minMaxText:where(.svelte-kxsqrl){font-size:small}.bluetooth-ossm-control.svelte-kxsqrl .slider-label:where(.svelte-kxsqrl){font-weight:700;font-size:small;margin-bottom:0}}@media screen and (max-width:500px){.bluetooth-ossm-control.svelte-kxsqrl .slider-label:where(.svelte-kxsqrl){font-size:x-small;margin-bottom:0}.bluetooth-ossm-control.svelte-kxsqrl .minMaxText:where(.svelte-kxsqrl){font-size:xx-small}.bluetooth-ossm-control.svelte-kxsqrl .invertedText:where(.svelte-kxsqrl){white-space:nowrap;font-size:xx-small}.bluetooth-ossm-control.svelte-kxsqrl .device-sliders:where(.svelte-kxsqrl){margin-bottom:0;gap:.5rem}}</style>
  </head>
  <body>
    <div id="app"></div>
  </body>
</html>
