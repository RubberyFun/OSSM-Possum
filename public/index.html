<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>OSSM Possum</title>
    <link rel="icon" href="favicon.svg">
    <link rel="apple-touch-icon" href="possum_logo_192.png" sizes="192x192">
    <link rel="mask-icon" href="favicon.svg" color="#3a3a3a">
    <link rel="manifest" href="manifest.webmanifest" />
    <meta name="theme-color" content="#3a3a3a">
    <script type="module" crossorigin>(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(a){if(a.ep)return;a.ep=!0;const u=n(a);fetch(a.href,u)}})();const cr=!1;var gr=Array.isArray,Hn=Array.prototype.indexOf,gt=Array.prototype.includes,tr=Array.from,Yn=Object.defineProperty,wt=Object.getOwnPropertyDescriptor,Gn=Object.getOwnPropertyDescriptors,tn=Object.prototype,zn=Array.prototype,_r=Object.getPrototypeOf,Lr=Object.isExtensible;function Kn(t){for(var e=0;e<t.length;e++)t[e]()}function rn(){var t,e,n=new Promise((s,a)=>{t=s,e=a});return{promise:n,resolve:t,reject:e}}const ee=2,Xt=4,rr=8,nn=1<<24,qe=16,$e=32,ct=64,yr=128,be=512,re=1024,ae=2048,je=4096,ge=8192,Ue=16384,sn=32768,_t=65536,Tr=1<<17,an=1<<18,xt=1<<19,Jn=1<<20,Ge=1<<25,ot=32768,fr=1<<21,mr=1<<22,ze=1<<23,Ot=Symbol("$state"),Xn=Symbol("legacy props"),Qn=Symbol(""),pt=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function Zn(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function ei(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function ti(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function ri(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ni(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function ii(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function si(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const ai=1,oi=2,li=16,ui=1,ci=4,fi=8,di=16,hi=1,pi=2,Z=Symbol(),vi="http://www.w3.org/1999/xhtml";function wi(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function on(t){return t===this.v}function gi(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function ln(t){return!gi(t,this.v)}let _i=!1;const yi=[];function $t(t,e=!1,n=!1){return zt(t,new Map,"",yi,null,n)}function zt(t,e,n,s,a=null,u=!1){if(typeof t=="object"&&t!==null){var f=e.get(t);if(f!==void 0)return f;if(t instanceof Map)return new Map(t);if(t instanceof Set)return new Set(t);if(gr(t)){var o=Array(t.length);e.set(t,o),a!==null&&e.set(a,o);for(var h=0;h<t.length;h+=1){var v=t[h];h in t&&(o[h]=zt(v,e,n,s,null,u))}return o}if(_r(t)===tn){o={},e.set(t,o),a!==null&&e.set(a,o);for(var y in t)o[y]=zt(t[y],e,n,s,null,u);return o}if(t instanceof Date)return structuredClone(t);if(typeof t.toJSON=="function"&&!u)return zt(t.toJSON(),e,n,s,t)}if(t instanceof EventTarget)return t;try{return structuredClone(t)}catch{return t}}let Se=null;function yt(t){Se=t}function un(t,e=!1,n){Se={p:Se,i:!1,c:null,e:null,s:t,x:null,l:null}}function cn(t){var e=Se,n=e.e;if(n!==null){e.e=null;for(var s of n)Ui(s)}return e.i=!0,Se=e.p,{}}function fn(){return!0}let vt=[];function mi(){var t=vt;vt=[],Kn(t)}function nt(t){if(vt.length===0){var e=vt;queueMicrotask(()=>{e===vt&&mi()})}vt.push(t)}function dn(t){var e=N;if(e===null)return O.f|=ze,t;if((e.f&sn)===0){if((e.f&yr)===0)throw t;e.b.error(t)}else mt(t,e)}function mt(t,e){for(;e!==null;){if((e.f&yr)!==0)try{e.b.error(t);return}catch(n){t=n}e=e.parent}throw t}const bi=-7169;function J(t,e){t.f=t.f&bi|e}function br(t){(t.f&be)!==0||t.deps===null?J(t,re):J(t,je)}function hn(t){if(t!==null)for(const e of t)(e.f&ee)===0||(e.f&ot)===0||(e.f^=ot,hn(e.deps))}function pn(t,e,n){(t.f&ae)!==0?e.add(t):(t.f&je)!==0&&n.add(t),hn(t.deps),J(t,re)}const jt=new Set;let V=null,Ie=null,Ae=[],Er=null,dr=!1;class Ke{committed=!1;current=new Map;previous=new Map;#t=new Set;#a=new Set;#e=0;#i=0;#s=null;#r=new Set;#n=new Set;skipped_effects=new Set;is_fork=!1;#o=!1;is_deferred(){return this.is_fork||this.#i>0}process(e){Ae=[],this.apply();var n=[],s=[];for(const a of e)this.#l(a,n,s);if(this.is_deferred())this.#u(s),this.#u(n);else{for(const a of this.#t)a();this.#t.clear(),this.#e===0&&this.#c(),V=null,kr(s),kr(n),this.#s?.resolve()}Ie=null}#l(e,n,s){e.f^=re;for(var a=e.first,u=null;a!==null;){var f=a.f,o=(f&($e|ct))!==0,h=o&&(f&re)!==0,v=h||(f&ge)!==0||this.skipped_effects.has(a);if(!v&&a.fn!==null){o?a.f^=re:u!==null&&(f&(Xt|rr|nn))!==0?u.b.defer_effect(a):(f&Xt)!==0?n.push(a):Nt(a)&&((f&qe)!==0&&this.#n.add(a),Mt(a));var y=a.first;if(y!==null){a=y;continue}}var b=a.parent;for(a=a.next;a===null&&b!==null;)b===u&&(u=null),a=b.next,b=b.parent}}#u(e){for(var n=0;n<e.length;n+=1)pn(e[n],this.#r,this.#n)}capture(e,n){n!==Z&&!this.previous.has(e)&&this.previous.set(e,n),(e.f&ze)===0&&(this.current.set(e,e.v),Ie?.set(e,e.v))}activate(){V=this,this.apply()}deactivate(){V===this&&(V=null,Ie=null)}flush(){if(this.activate(),Ae.length>0){if(Ei(),V!==null&&V!==this)return}else this.#e===0&&this.process([]);this.deactivate()}discard(){for(const e of this.#a)e(this);this.#a.clear()}#c(){if(jt.size>1){this.previous.clear();var e=Ie,n=!0;for(const a of jt){if(a===this){n=!1;continue}const u=[];for(const[o,h]of this.current){if(a.current.has(o))if(n&&h!==a.current.get(o))a.current.set(o,h);else continue;u.push(o)}if(u.length===0)continue;const f=[...a.current.keys()].filter(o=>!this.current.has(o));if(f.length>0){var s=Ae;Ae=[];const o=new Set,h=new Map;for(const v of u)vn(v,f,o,h);if(Ae.length>0){V=a,a.apply();for(const v of Ae)a.#l(v,[],[]);a.deactivate()}Ae=s}}V=null,Ie=e}this.committed=!0,jt.delete(this)}increment(e){this.#e+=1,e&&(this.#i+=1)}decrement(e){this.#e-=1,e&&(this.#i-=1),!this.#o&&(this.#o=!0,nt(()=>{this.#o=!1,this.is_deferred()?Ae.length>0&&this.flush():this.revive()}))}revive(){for(const e of this.#r)this.#n.delete(e),J(e,ae),Ne(e);for(const e of this.#n)J(e,je),Ne(e);this.flush()}oncommit(e){this.#t.add(e)}ondiscard(e){this.#a.add(e)}settled(){return(this.#s??=rn()).promise}static ensure(){if(V===null){const e=V=new Ke;jt.add(V),nt(()=>{V===e&&e.flush()})}return V}apply(){}}function Ei(){dr=!0;var t=null;try{for(var e=0;Ae.length>0;){var n=Ke.ensure();if(e++>1e3){var s,a;xi()}n.process(Ae),Je.clear()}}finally{dr=!1,Er=null}}function xi(){try{ei()}catch(t){mt(t,Er)}}let Me=null;function kr(t){var e=t.length;if(e!==0){for(var n=0;n<e;){var s=t[n++];if((s.f&(Ue|ge))===0&&Nt(s)&&(Me=new Set,Mt(s),s.deps===null&&s.first===null&&s.nodes===null&&(s.teardown===null&&s.ac===null?Dn(s):s.fn=null),Me?.size>0)){Je.clear();for(const a of Me){if((a.f&(Ue|ge))!==0)continue;const u=[a];let f=a.parent;for(;f!==null;)Me.has(f)&&(Me.delete(f),u.push(f)),f=f.parent;for(let o=u.length-1;o>=0;o--){const h=u[o];(h.f&(Ue|ge))===0&&Mt(h)}}Me.clear()}}Me=null}}function vn(t,e,n,s){if(!n.has(t)&&(n.add(t),t.reactions!==null))for(const a of t.reactions){const u=a.f;(u&ee)!==0?vn(a,e,n,s):(u&(mr|qe))!==0&&(u&ae)===0&&wn(a,e,s)&&(J(a,ae),Ne(a))}}function wn(t,e,n){const s=n.get(t);if(s!==void 0)return s;if(t.deps!==null)for(const a of t.deps){if(gt.call(e,a))return!0;if((a.f&ee)!==0&&wn(a,e,n))return n.set(a,!0),!0}return n.set(t,!1),!1}function Ne(t){for(var e=Er=t;e.parent!==null;){e=e.parent;var n=e.f;if(dr&&e===N&&(n&qe)!==0&&(n&an)===0)return;if((n&(ct|$e))!==0){if((n&re)===0)return;e.f^=re}}Ae.push(e)}function Bi(t){let e=0,n=lt(0),s;return()=>{Ar()&&(E(n),Cn(()=>(e===0&&(s=Sr(()=>t(()=>Rt(n)))),e+=1,()=>{nt(()=>{e-=1,e===0&&(s?.(),s=void 0,Rt(n))})})))}}var Ai=_t|xt|yr;function Ii(t,e,n){new Ci(t,e,n)}class Ci{parent;is_pending=!1;#t;#a=null;#e;#i;#s;#r=null;#n=null;#o=null;#l=null;#u=null;#c=0;#d=0;#p=!1;#h=!1;#v=new Set;#w=new Set;#f=null;#b=Bi(()=>(this.#f=lt(this.#c),()=>{this.#f=null}));constructor(e,n,s){this.#t=e,this.#e=n,this.#i=s,this.parent=N.b,this.is_pending=!!this.#e.pending,this.#s=Ir(()=>{N.b=this;{var a=this.#y();try{this.#r=me(()=>s(a))}catch(u){this.error(u)}this.#d>0?this.#_():this.is_pending=!1}return()=>{this.#u?.remove()}},Ai)}#E(){try{this.#r=me(()=>this.#i(this.#t))}catch(e){this.error(e)}}#x(){const e=this.#e.pending;e&&(this.#n=me(()=>e(this.#t)),nt(()=>{var n=this.#y();this.#r=this.#g(()=>(Ke.ensure(),me(()=>this.#i(n)))),this.#d>0?this.#_():(it(this.#n,()=>{this.#n=null}),this.is_pending=!1)}))}#y(){var e=this.#t;return this.is_pending&&(this.#u=Xe(),this.#t.before(this.#u),e=this.#u),e}defer_effect(e){pn(e,this.#v,this.#w)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#e.pending}#g(e){var n=N,s=O,a=Se;ke(this.#s),xe(this.#s),yt(this.#s.ctx);try{return e()}catch(u){return dn(u),null}finally{ke(n),xe(s),yt(a)}}#_(){const e=this.#e.pending;this.#r!==null&&(this.#l=document.createDocumentFragment(),this.#l.append(this.#u),Tn(this.#r,this.#l)),this.#n===null&&(this.#n=me(()=>e(this.#t)))}#m(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#m(e);return}if(this.#d+=e,this.#d===0){this.is_pending=!1;for(const n of this.#v)J(n,ae),Ne(n);for(const n of this.#w)J(n,je),Ne(n);this.#v.clear(),this.#w.clear(),this.#n&&it(this.#n,()=>{this.#n=null}),this.#l&&(this.#t.before(this.#l),this.#l=null)}}update_pending_count(e){this.#m(e),this.#c+=e,!(!this.#f||this.#p)&&(this.#p=!0,nt(()=>{this.#p=!1,this.#f&&bt(this.#f,this.#c)}))}get_effect_pending(){return this.#b(),E(this.#f)}error(e){var n=this.#e.onerror;let s=this.#e.failed;if(this.#h||!n&&!s)throw e;this.#r&&(fe(this.#r),this.#r=null),this.#n&&(fe(this.#n),this.#n=null),this.#o&&(fe(this.#o),this.#o=null);var a=!1,u=!1;const f=()=>{if(a){wi();return}a=!0,u&&si(),Ke.ensure(),this.#c=0,this.#o!==null&&it(this.#o,()=>{this.#o=null}),this.is_pending=this.has_pending_snippet(),this.#r=this.#g(()=>(this.#h=!1,me(()=>this.#i(this.#t)))),this.#d>0?this.#_():this.is_pending=!1};nt(()=>{try{u=!0,n?.(e,f),u=!1}catch(o){mt(o,this.#s&&this.#s.parent)}s&&(this.#o=this.#g(()=>{Ke.ensure(),this.#h=!0;try{return me(()=>{s(this.#t,()=>e,()=>f)})}catch(o){return mt(o,this.#s.parent),null}finally{this.#h=!1}}))})}}function Si(t,e,n,s){const a=xr;var u=t.filter(_=>!_.settled);if(n.length===0&&u.length===0){s(e.map(a));return}var f=V,o=N,h=Pi(),v=u.length===1?u[0].promise:u.length>1?Promise.all(u.map(_=>_.promise)):null;function y(_){h();try{s(_)}catch(p){(o.f&Ue)===0&&mt(p,o)}f?.deactivate(),hr()}if(n.length===0){v.then(()=>y(e.map(a)));return}function b(){h(),Promise.all(n.map(_=>Di(_))).then(_=>y([...e.map(a),..._])).catch(_=>mt(_,o))}v?v.then(b):b()}function Pi(){var t=N,e=O,n=Se,s=V;return function(u=!0){ke(t),xe(e),yt(n),u&&s?.activate()}}function hr(){ke(null),xe(null),yt(null)}function xr(t){var e=ee|ae,n=O!==null&&(O.f&ee)!==0?O:null;return N!==null&&(N.f|=xt),{ctx:Se,deps:null,effects:null,equals:on,f:e,fn:t,reactions:null,rv:0,v:Z,wv:0,parent:n??N,ac:null}}function Di(t,e,n){let s=N;s===null&&Zn();var a=s.b,u=void 0,f=lt(Z),o=!O,h=new Map;return $i(()=>{var v=rn();u=v.promise;try{Promise.resolve(t()).then(v.resolve,v.reject).then(()=>{y===V&&y.committed&&y.deactivate(),hr()})}catch(p){v.reject(p),hr()}var y=V;if(o){var b=a.is_rendered();a.update_pending_count(1),y.increment(b),h.get(y)?.reject(pt),h.delete(y),h.set(y,v)}const _=(p,g=void 0)=>{if(y.activate(),g)g!==pt&&(f.f|=ze,bt(f,g));else{(f.f&ze)!==0&&(f.f^=ze),bt(f,p);for(const[B,A]of h){if(h.delete(B),B===y)break;A.reject(pt)}}o&&(a.update_pending_count(-1),y.decrement(b))};v.promise.then(_,p=>_(null,p||"unknown"))}),Mi(()=>{for(const v of h.values())v.reject(pt)}),new Promise(v=>{function y(b){function _(){b===u?v(f):y(u)}b.then(_,_)}y(u)})}function gn(t){const e=xr(t);return e.equals=ln,e}function _n(t){var e=t.effects;if(e!==null){t.effects=null;for(var n=0;n<e.length;n+=1)fe(e[n])}}function Fi(t){for(var e=t.parent;e!==null;){if((e.f&ee)===0)return(e.f&Ue)===0?e:null;e=e.parent}return null}function Br(t){var e,n=N;ke(Fi(t));try{t.f&=~ot,_n(t),e=Mn(t)}finally{ke(n)}return e}function yn(t){var e=Br(t);if(!t.equals(e)&&(t.wv=On(),(!V?.is_fork||t.deps===null)&&(t.v=e,t.deps===null))){J(t,re);return}ut||(Ie!==null?(Ar()||V?.is_fork)&&Ie.set(t,e):br(t))}let pr=new Set;const Je=new Map;let mn=!1;function lt(t,e){var n={f:0,v:t,reactions:null,equals:on,rv:0,wv:0};return n}function ie(t,e){const n=lt(t);return Vi(n),n}function Li(t,e=!1,n=!0){const s=lt(t);return e||(s.equals=ln),s}function se(t,e,n=!1){O!==null&&(!Ce||(O.f&Tr)!==0)&&fn()&&(O.f&(ee|qe|mr|Tr))!==0&&(Ee===null||!gt.call(Ee,t))&&ii();let s=n?Te(e):e;return bt(t,s)}function bt(t,e){if(!t.equals(e)){var n=t.v;ut?Je.set(t,e):Je.set(t,n),t.v=e;var s=Ke.ensure();if(s.capture(t,n),(t.f&ee)!==0){const a=t;(t.f&ae)!==0&&Br(a),br(a)}t.wv=On(),bn(t,ae),N!==null&&(N.f&re)!==0&&(N.f&($e|ct))===0&&(ye===null?Hi([t]):ye.push(t)),!s.is_fork&&pr.size>0&&!mn&&Ti()}return e}function Ti(){mn=!1;for(const t of pr)(t.f&re)!==0&&J(t,je),Nt(t)&&Mt(t);pr.clear()}function Rt(t){se(t,t.v+1)}function bn(t,e){var n=t.reactions;if(n!==null)for(var s=n.length,a=0;a<s;a++){var u=n[a],f=u.f,o=(f&ae)===0;if(o&&J(u,e),(f&ee)!==0){var h=u;Ie?.delete(h),(f&ot)===0&&(f&be&&(u.f|=ot),bn(h,je))}else o&&((f&qe)!==0&&Me!==null&&Me.add(u),Ne(u))}}function Te(t){if(typeof t!="object"||t===null||Ot in t)return t;const e=_r(t);if(e!==tn&&e!==zn)return t;var n=new Map,s=gr(t),a=ie(0),u=st,f=o=>{if(st===u)return o();var h=O,v=st;xe(null),Mr(u);var y=o();return xe(h),Mr(v),y};return s&&n.set("length",ie(t.length)),new Proxy(t,{defineProperty(o,h,v){(!("value"in v)||v.configurable===!1||v.enumerable===!1||v.writable===!1)&&ri();var y=n.get(h);return y===void 0?y=f(()=>{var b=ie(v.value);return n.set(h,b),b}):se(y,v.value,!0),!0},deleteProperty(o,h){var v=n.get(h);if(v===void 0){if(h in o){const y=f(()=>ie(Z));n.set(h,y),Rt(a)}}else se(v,Z),Rt(a);return!0},get(o,h,v){if(h===Ot)return t;var y=n.get(h),b=h in o;if(y===void 0&&(!b||wt(o,h)?.writable)&&(y=f(()=>{var p=Te(b?o[h]:Z),g=ie(p);return g}),n.set(h,y)),y!==void 0){var _=E(y);return _===Z?void 0:_}return Reflect.get(o,h,v)},getOwnPropertyDescriptor(o,h){var v=Reflect.getOwnPropertyDescriptor(o,h);if(v&&"value"in v){var y=n.get(h);y&&(v.value=E(y))}else if(v===void 0){var b=n.get(h),_=b?.v;if(b!==void 0&&_!==Z)return{enumerable:!0,configurable:!0,value:_,writable:!0}}return v},has(o,h){if(h===Ot)return!0;var v=n.get(h),y=v!==void 0&&v.v!==Z||Reflect.has(o,h);if(v!==void 0||N!==null&&(!y||wt(o,h)?.writable)){v===void 0&&(v=f(()=>{var _=y?Te(o[h]):Z,p=ie(_);return p}),n.set(h,v));var b=E(v);if(b===Z)return!1}return y},set(o,h,v,y){var b=n.get(h),_=h in o;if(s&&h==="length")for(var p=v;p<b.v;p+=1){var g=n.get(p+"");g!==void 0?se(g,Z):p in o&&(g=f(()=>ie(Z)),n.set(p+"",g))}if(b===void 0)(!_||wt(o,h)?.writable)&&(b=f(()=>ie(void 0)),se(b,Te(v)),n.set(h,b));else{_=b.v!==Z;var B=f(()=>Te(v));se(b,B)}var A=Reflect.getOwnPropertyDescriptor(o,h);if(A?.set&&A.set.call(y,v),!_){if(s&&typeof h=="string"){var C=n.get("length"),I=Number(h);Number.isInteger(I)&&I>=C.v&&se(C,I+1)}Rt(a)}return!0},ownKeys(o){E(a);var h=Reflect.ownKeys(o).filter(b=>{var _=n.get(b);return _===void 0||_.v!==Z});for(var[v,y]of n)y.v!==Z&&!(v in o)&&h.push(v);return h},setPrototypeOf(){ni()}})}var Or,En,xn,Bn;function ki(){if(Or===void 0){Or=window,En=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,n=Text.prototype;xn=wt(e,"firstChild").get,Bn=wt(e,"nextSibling").get,Lr(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),Lr(n)&&(n.__t=void 0)}}function Xe(t=""){return document.createTextNode(t)}function Qt(t){return xn.call(t)}function Ut(t){return Bn.call(t)}function z(t,e){return Qt(t)}function Wt(t,e=!1){{var n=Qt(t);return n instanceof Comment&&n.data===""?Ut(n):n}}function Q(t,e=1,n=!1){let s=t;for(;e--;)s=Ut(s);return s}function Oi(t){t.textContent=""}function An(){return!1}function In(t){var e=O,n=N;xe(null),ke(null);try{return t()}finally{xe(e),ke(n)}}function Ri(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function We(t,e,n){var s=N;s!==null&&(s.f&ge)!==0&&(t|=ge);var a={ctx:Se,deps:null,nodes:null,f:t|ae|be,first:null,fn:e,last:null,next:null,parent:s,b:s&&s.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{Mt(a),a.f|=sn}catch(o){throw fe(a),o}else e!==null&&Ne(a);var u=a;if(n&&u.deps===null&&u.teardown===null&&u.nodes===null&&u.first===u.last&&(u.f&xt)===0&&(u=u.first,(t&qe)!==0&&(t&_t)!==0&&u!==null&&(u.f|=_t)),u!==null&&(u.parent=s,s!==null&&Ri(u,s),O!==null&&(O.f&ee)!==0&&(t&ct)===0)){var f=O;(f.effects??=[]).push(u)}return a}function Ar(){return O!==null&&!Ce}function Mi(t){const e=We(rr,null,!1);return J(e,re),e.teardown=t,e}function Ui(t){return We(Xt|Jn,t,!1)}function Ni(t){Ke.ensure();const e=We(ct|xt,t,!0);return(n={})=>new Promise(s=>{n.outro?it(e,()=>{fe(e),s(void 0)}):(fe(e),s(void 0))})}function qi(t){return We(Xt,t,!1)}function $i(t){return We(mr|xt,t,!0)}function Cn(t,e=0){return We(rr|e,t,!0)}function Vt(t,e=[],n=[],s=[]){Si(s,e,n,a=>{We(rr,()=>t(...a.map(E)),!0)})}function Ir(t,e=0){var n=We(qe|e,t,!0);return n}function me(t){return We($e|xt,t,!0)}function Sn(t){var e=t.teardown;if(e!==null){const n=ut,s=O;Rr(!0),xe(null);try{e.call(null)}finally{Rr(n),xe(s)}}}function Pn(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){const a=n.ac;a!==null&&In(()=>{a.abort(pt)});var s=n.next;(n.f&ct)!==0?n.parent=null:fe(n,e),n=s}}function ji(t){for(var e=t.first;e!==null;){var n=e.next;(e.f&$e)===0&&fe(e),e=n}}function fe(t,e=!0){var n=!1;(e||(t.f&an)!==0)&&t.nodes!==null&&t.nodes.end!==null&&(Wi(t.nodes.start,t.nodes.end),n=!0),Pn(t,e&&!n),Zt(t,0),J(t,Ue);var s=t.nodes&&t.nodes.t;if(s!==null)for(const u of s)u.stop();Sn(t);var a=t.parent;a!==null&&a.first!==null&&Dn(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes=t.ac=null}function Wi(t,e){for(;t!==null;){var n=t===e?null:Ut(t);t.remove(),t=n}}function Dn(t){var e=t.parent,n=t.prev,s=t.next;n!==null&&(n.next=s),s!==null&&(s.prev=n),e!==null&&(e.first===t&&(e.first=s),e.last===t&&(e.last=n))}function it(t,e,n=!0){var s=[];Fn(t,s,!0);var a=()=>{n&&fe(t),e&&e()},u=s.length;if(u>0){var f=()=>--u||a();for(var o of s)o.out(f)}else a()}function Fn(t,e,n){if((t.f&ge)===0){t.f^=ge;var s=t.nodes&&t.nodes.t;if(s!==null)for(const o of s)(o.is_global||n)&&e.push(o);for(var a=t.first;a!==null;){var u=a.next,f=(a.f&_t)!==0||(a.f&$e)!==0&&(t.f&qe)!==0;Fn(a,e,f?n:!1),a=u}}}function Cr(t){Ln(t,!0)}function Ln(t,e){if((t.f&ge)!==0){t.f^=ge,(t.f&re)===0&&(J(t,ae),Ne(t));for(var n=t.first;n!==null;){var s=n.next,a=(n.f&_t)!==0||(n.f&$e)!==0;Ln(n,a?e:!1),n=s}var u=t.nodes&&t.nodes.t;if(u!==null)for(const f of u)(f.is_global||e)&&f.in()}}function Tn(t,e){if(t.nodes)for(var n=t.nodes.start,s=t.nodes.end;n!==null;){var a=n===s?null:Ut(n);e.append(n),n=a}}let Kt=!1,ut=!1;function Rr(t){ut=t}let O=null,Ce=!1;function xe(t){O=t}let N=null;function ke(t){N=t}let Ee=null;function Vi(t){O!==null&&(Ee===null?Ee=[t]:Ee.push(t))}let ce=null,we=0,ye=null;function Hi(t){ye=t}let kn=1,rt=0,st=rt;function Mr(t){st=t}function On(){return++kn}function Nt(t){var e=t.f;if((e&ae)!==0)return!0;if(e&ee&&(t.f&=~ot),(e&je)!==0){for(var n=t.deps,s=n.length,a=0;a<s;a++){var u=n[a];if(Nt(u)&&yn(u),u.wv>t.wv)return!0}(e&be)!==0&&Ie===null&&J(t,re)}return!1}function Rn(t,e,n=!0){var s=t.reactions;if(s!==null&&!(Ee!==null&&gt.call(Ee,t)))for(var a=0;a<s.length;a++){var u=s[a];(u.f&ee)!==0?Rn(u,e,!1):e===u&&(n?J(u,ae):(u.f&re)!==0&&J(u,je),Ne(u))}}function Mn(t){var e=ce,n=we,s=ye,a=O,u=Ee,f=Se,o=Ce,h=st,v=t.f;ce=null,we=0,ye=null,O=(v&($e|ct))===0?t:null,Ee=null,yt(t.ctx),Ce=!1,st=++rt,t.ac!==null&&(In(()=>{t.ac.abort(pt)}),t.ac=null);try{t.f|=fr;var y=t.fn,b=y(),_=t.deps;if(ce!==null){var p;if(Zt(t,we),_!==null&&we>0)for(_.length=we+ce.length,p=0;p<ce.length;p++)_[we+p]=ce[p];else t.deps=_=ce;if(Ar()&&(t.f&be)!==0)for(p=we;p<_.length;p++)(_[p].reactions??=[]).push(t)}else _!==null&&we<_.length&&(Zt(t,we),_.length=we);if(fn()&&ye!==null&&!Ce&&_!==null&&(t.f&(ee|je|ae))===0)for(p=0;p<ye.length;p++)Rn(ye[p],t);if(a!==null&&a!==t){if(rt++,a.deps!==null)for(let g=0;g<n;g+=1)a.deps[g].rv=rt;if(e!==null)for(const g of e)g.rv=rt;ye!==null&&(s===null?s=ye:s.push(...ye))}return(t.f&ze)!==0&&(t.f^=ze),b}catch(g){return dn(g)}finally{t.f^=fr,ce=e,we=n,ye=s,O=a,Ee=u,yt(f),Ce=o,st=h}}function Yi(t,e){let n=e.reactions;if(n!==null){var s=Hn.call(n,t);if(s!==-1){var a=n.length-1;a===0?n=e.reactions=null:(n[s]=n[a],n.pop())}}if(n===null&&(e.f&ee)!==0&&(ce===null||!gt.call(ce,e))){var u=e;(u.f&be)!==0&&(u.f^=be,u.f&=~ot),br(u),_n(u),Zt(u,0)}}function Zt(t,e){var n=t.deps;if(n!==null)for(var s=e;s<n.length;s++)Yi(t,n[s])}function Mt(t){var e=t.f;if((e&Ue)===0){J(t,re);var n=N,s=Kt;N=t,Kt=!0;try{(e&(qe|nn))!==0?ji(t):Pn(t),Sn(t);var a=Mn(t);t.teardown=typeof a=="function"?a:null,t.wv=kn;var u;cr&&_i&&(t.f&ae)!==0&&t.deps}finally{Kt=s,N=n}}}function E(t){var e=t.f,n=(e&ee)!==0;if(O!==null&&!Ce){var s=N!==null&&(N.f&Ue)!==0;if(!s&&(Ee===null||!gt.call(Ee,t))){var a=O.deps;if((O.f&fr)!==0)t.rv<rt&&(t.rv=rt,ce===null&&a!==null&&a[we]===t?we++:ce===null?ce=[t]:ce.push(t));else{(O.deps??=[]).push(t);var u=t.reactions;u===null?t.reactions=[O]:gt.call(u,O)||u.push(O)}}}if(ut&&Je.has(t))return Je.get(t);if(n){var f=t;if(ut){var o=f.v;return((f.f&re)===0&&f.reactions!==null||Nn(f))&&(o=Br(f)),Je.set(f,o),o}var h=(f.f&be)===0&&!Ce&&O!==null&&(Kt||(O.f&be)!==0),v=f.deps===null;Nt(f)&&(h&&(f.f|=be),yn(f)),h&&!v&&Un(f)}if(Ie?.has(t))return Ie.get(t);if((t.f&ze)!==0)throw t.v;return t.v}function Un(t){if(t.deps!==null){t.f|=be;for(const e of t.deps)(e.reactions??=[]).push(t),(e.f&ee)!==0&&(e.f&be)===0&&Un(e)}}function Nn(t){if(t.v===Z)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(Je.has(e)||(e.f&ee)!==0&&Nn(e))return!0;return!1}function Sr(t){var e=Ce;try{return Ce=!0,t()}finally{Ce=e}}const Gi=["touchstart","touchmove"];function zi(t){return Gi.includes(t)}const qn=new Set,vr=new Set;function Ki(t){for(var e=0;e<t.length;e++)qn.add(t[e]);for(var n of vr)n(t)}let Ur=null;function Ht(t){var e=this,n=e.ownerDocument,s=t.type,a=t.composedPath?.()||[],u=a[0]||t.target;Ur=t;var f=0,o=Ur===t&&t.__root;if(o){var h=a.indexOf(o);if(h!==-1&&(e===document||e===window)){t.__root=e;return}var v=a.indexOf(e);if(v===-1)return;h<=v&&(f=h)}if(u=a[f]||t.target,u!==e){Yn(t,"currentTarget",{configurable:!0,get(){return u||n}});var y=O,b=N;xe(null),ke(null);try{for(var _,p=[];u!==null;){var g=u.assignedSlot||u.parentNode||u.host||null;try{var B=u["__"+s];B!=null&&(!u.disabled||t.target===u)&&B.call(u,t)}catch(A){_?p.push(A):_=A}if(t.cancelBubble||g===e||g===null)break;u=g}if(_){for(let A of p)queueMicrotask(()=>{throw A});throw _}}finally{t.__root=e,delete t.currentTarget,xe(y),ke(b)}}}function Ji(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","\x3C!---->"),e.content}function er(t,e){var n=N;n.nodes===null&&(n.nodes={start:t,end:e,a:null,t:null})}function Pe(t,e){var n=(e&hi)!==0,s=(e&pi)!==0,a,u=!t.startsWith("<!>");return()=>{a===void 0&&(a=Ji(u?t:"<!>"+t),n||(a=Qt(a)));var f=s||En?document.importNode(a,!0):a.cloneNode(!0);if(n){var o=Qt(f),h=f.lastChild;er(o,h)}else er(f,f);return f}}function Nr(t=""){{var e=Xe(t+"");return er(e,e),e}}function Xi(){var t=document.createDocumentFragment(),e=document.createComment(""),n=Xe();return t.append(e,n),er(e,n),t}function ue(t,e){t!==null&&t.before(e)}function ir(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??=t.nodeValue)&&(t.__t=n,t.nodeValue=n+"")}function Qi(t,e){return Zi(t,e)}const ht=new Map;function Zi(t,{target:e,anchor:n,props:s={},events:a,context:u,intro:f=!0}){ki();var o=new Set,h=b=>{for(var _=0;_<b.length;_++){var p=b[_];if(!o.has(p)){o.add(p);var g=zi(p);e.addEventListener(p,Ht,{passive:g});var B=ht.get(p);B===void 0?(document.addEventListener(p,Ht,{passive:g}),ht.set(p,1)):ht.set(p,B+1)}}};h(tr(qn)),vr.add(h);var v=void 0,y=Ni(()=>{var b=n??e.appendChild(Xe());return Ii(b,{pending:()=>{}},_=>{if(u){un({});var p=Se;p.c=u}a&&(s.$$events=a),v=t(_,s)||{},u&&cn()}),()=>{for(var _ of o){e.removeEventListener(_,Ht);var p=ht.get(_);--p===0?(document.removeEventListener(_,Ht),ht.delete(_)):ht.set(_,p)}vr.delete(h),b!==n&&b.parentNode?.removeChild(b)}});return es.set(v,y),v}let es=new WeakMap;class ts{anchor;#t=new Map;#a=new Map;#e=new Map;#i=new Set;#s=!0;constructor(e,n=!0){this.anchor=e,this.#s=n}#r=()=>{var e=V;if(this.#t.has(e)){var n=this.#t.get(e),s=this.#a.get(n);if(s)Cr(s),this.#i.delete(n);else{var a=this.#e.get(n);a&&(this.#a.set(n,a.effect),this.#e.delete(n),a.fragment.lastChild.remove(),this.anchor.before(a.fragment),s=a.effect)}for(const[u,f]of this.#t){if(this.#t.delete(u),u===e)break;const o=this.#e.get(f);o&&(fe(o.effect),this.#e.delete(f))}for(const[u,f]of this.#a){if(u===n||this.#i.has(u))continue;const o=()=>{if(Array.from(this.#t.values()).includes(u)){var v=document.createDocumentFragment();Tn(f,v),v.append(Xe()),this.#e.set(u,{effect:f,fragment:v})}else fe(f);this.#i.delete(u),this.#a.delete(u)};this.#s||!s?(this.#i.add(u),it(f,o,!1)):o()}}};#n=e=>{this.#t.delete(e);const n=Array.from(this.#t.values());for(const[s,a]of this.#e)n.includes(s)||(fe(a.effect),this.#e.delete(s))};ensure(e,n){var s=V,a=An();if(n&&!this.#a.has(e)&&!this.#e.has(e))if(a){var u=document.createDocumentFragment(),f=Xe();u.append(f),this.#e.set(e,{effect:me(()=>n(f)),fragment:u})}else this.#a.set(e,me(()=>n(this.anchor)));if(this.#t.set(s,e),a){for(const[o,h]of this.#a)o===e?s.skipped_effects.delete(h):s.skipped_effects.add(h);for(const[o,h]of this.#e)o===e?s.skipped_effects.delete(h.effect):s.skipped_effects.add(h.effect);s.oncommit(this.#r),s.ondiscard(this.#n)}else this.#r()}}function tt(t,e,n=!1){var s=new ts(t),a=n?_t:0;function u(f,o){s.ensure(f,o)}Ir(()=>{var f=!1;e((o,h=!0)=>{f=!0,u(h,o)}),f||u(!1,null)},a)}function qr(t,e){return e}function rs(t,e,n){for(var s=[],a=e.length,u,f=e.length,o=0;o<a;o++){let b=e[o];it(b,()=>{if(u){if(u.pending.delete(b),u.done.add(b),u.pending.size===0){var _=t.outrogroups;wr(tr(u.done)),_.delete(u),_.size===0&&(t.outrogroups=null)}}else f-=1},!1)}if(f===0){var h=s.length===0&&n!==null;if(h){var v=n,y=v.parentNode;Oi(y),y.append(v),t.items.clear()}wr(e,!h)}else u={pending:new Set(e),done:new Set},(t.outrogroups??=new Set).add(u)}function wr(t,e=!0){for(var n=0;n<t.length;n++)fe(t[n],e)}var $r;function jr(t,e,n,s,a,u=null){var f=t,o=new Map,h=null,v=gn(()=>{var B=n();return gr(B)?B:B==null?[]:tr(B)}),y,b=!0;function _(){g.fallback=h,ns(g,y,f,e,s),h!==null&&(y.length===0?(h.f&Ge)===0?Cr(h):(h.f^=Ge,kt(h,null,f)):it(h,()=>{h=null}))}var p=Ir(()=>{y=E(v);for(var B=y.length,A=new Set,C=V,I=An(),P=0;P<B;P+=1){var q=y[P],L=s(q,P),K=b?null:o.get(L);K?(K.v&&bt(K.v,q),K.i&&bt(K.i,P),I&&C.skipped_effects.delete(K.e)):(K=is(o,b?f:$r??=Xe(),q,L,P,a,e,n),b||(K.e.f|=Ge),o.set(L,K)),A.add(L)}if(B===0&&u&&!h&&(b?h=me(()=>u(f)):(h=me(()=>u($r??=Xe())),h.f|=Ge)),!b)if(I){for(const[M,k]of o)A.has(M)||C.skipped_effects.add(k.e);C.oncommit(_),C.ondiscard(()=>{})}else _();E(v)}),g={effect:p,items:o,outrogroups:null,fallback:h};b=!1}function Ft(t){for(;t!==null&&(t.f&$e)===0;)t=t.next;return t}function ns(t,e,n,s,a){var u=e.length,f=t.items,o=Ft(t.effect.first),h,v=null,y=[],b=[],_,p,g,B;for(B=0;B<u;B+=1){if(_=e[B],p=a(_,B),g=f.get(p).e,t.outrogroups!==null)for(const k of t.outrogroups)k.pending.delete(g),k.done.delete(g);if((g.f&Ge)!==0)if(g.f^=Ge,g===o)kt(g,null,n);else{var A=v?v.next:o;g===t.effect.last&&(t.effect.last=g.prev),g.prev&&(g.prev.next=g.next),g.next&&(g.next.prev=g.prev),He(t,v,g),He(t,g,A),kt(g,A,n),v=g,y=[],b=[],o=Ft(v.next);continue}if((g.f&ge)!==0&&Cr(g),g!==o){if(h!==void 0&&h.has(g)){if(y.length<b.length){var C=b[0],I;v=C.prev;var P=y[0],q=y[y.length-1];for(I=0;I<y.length;I+=1)kt(y[I],C,n);for(I=0;I<b.length;I+=1)h.delete(b[I]);He(t,P.prev,q.next),He(t,v,P),He(t,q,C),o=C,v=q,B-=1,y=[],b=[]}else h.delete(g),kt(g,o,n),He(t,g.prev,g.next),He(t,g,v===null?t.effect.first:v.next),He(t,v,g),v=g;continue}for(y=[],b=[];o!==null&&o!==g;)(h??=new Set).add(o),b.push(o),o=Ft(o.next);if(o===null)continue}(g.f&Ge)===0&&y.push(g),v=g,o=Ft(g.next)}if(t.outrogroups!==null){for(const k of t.outrogroups)k.pending.size===0&&(wr(tr(k.done)),t.outrogroups?.delete(k));t.outrogroups.size===0&&(t.outrogroups=null)}if(o!==null||h!==void 0){var L=[];if(h!==void 0)for(g of h)(g.f&ge)===0&&L.push(g);for(;o!==null;)(o.f&ge)===0&&o!==t.fallback&&L.push(o),o=Ft(o.next);var K=L.length;if(K>0){var M=null;rs(t,L,M)}}}function is(t,e,n,s,a,u,f,o){var h=(f&ai)!==0?(f&li)===0?Li(n,!1,!1):lt(n):null,v=(f&oi)!==0?lt(a):null;return{v:h,i:v,e:me(()=>(u(e,h??n,v??a,o),()=>{t.delete(s)}))}}function kt(t,e,n){if(t.nodes)for(var s=t.nodes.start,a=t.nodes.end,u=e&&(e.f&Ge)===0?e.nodes.start:n;s!==null;){var f=Ut(s);if(u.before(s),s===a)return;s=f}}function He(t,e,n){e===null?t.effect.first=n:e.next=n,n===null?t.effect.last=e:n.prev=e}function ss(t,e){return t==null?null:String(t)}function as(t,e,n,s){var a=t.__style;if(a!==e){var u=ss(e);u==null?t.removeAttribute("style"):t.style.cssText=u,t.__style=e}return s}const os=Symbol("is custom element"),ls=Symbol("is html");function sr(t,e){var n=Pr(t);n.value===(n.value=e??void 0)||t.value===e&&(e!==0||t.nodeName!=="PROGRESS")||(t.value=e??"")}function us(t,e){var n=Pr(t);n.checked!==(n.checked=e??void 0)&&(t.checked=e)}function Lt(t,e){e?t.hasAttribute("selected")||t.setAttribute("selected",""):t.removeAttribute("selected")}function _e(t,e,n,s){var a=Pr(t);a[e]!==(a[e]=n)&&(e==="loading"&&(t[Qn]=n),n==null?t.removeAttribute(e):typeof n!="string"&&cs(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function Pr(t){return t.__attributes??={[os]:t.nodeName.includes("-"),[ls]:t.namespaceURI===vi}}var Wr=new Map;function cs(t){var e=t.getAttribute("is")||t.nodeName,n=Wr.get(e);if(n)return n;Wr.set(e,n=[]);for(var s,a=t,u=Element.prototype;u!==a;){s=Gn(a);for(var f in s)s[f].set&&n.push(f);a=_r(a)}return n}function Vr(t,e){return t===e||t?.[Ot]===e}function $n(t={},e,n,s){return qi(()=>{var a,u;return Cn(()=>{a=u,u=s?.()||[],Sr(()=>{t!==n(...u)&&(e(t,...u),a&&Vr(n(...a),t)&&e(null,...a))})}),()=>{nt(()=>{u&&Vr(n(...u),t)&&e(null,...u)})}}),t}let Yt=!1;function fs(t){var e=Yt;try{return Yt=!1,[t(),Yt]}finally{Yt=e}}function Hr(t,e,n,s){var a=(n&fi)!==0,u=(n&di)!==0,f=s,o=!0,h=()=>(o&&(o=!1,f=u?Sr(s):s),f),v;if(a){var y=Ot in t||Xn in t;v=wt(t,e)?.set??(y&&e in t?I=>t[e]=I:void 0)}var b,_=!1;a?[b,_]=fs(()=>t[e]):b=t[e],b===void 0&&s!==void 0&&(b=h(),v&&(ti(),v(b)));var p;if(p=()=>{var I=t[e];return I===void 0?h():(o=!0,I)},(n&ci)===0)return p;if(v){var g=t.$$legacy;return(function(I,P){return arguments.length>0?((!P||g||_)&&v(P?p():I),I):p()})}var B=!1,A=((n&ui)!==0?xr:gn)(()=>(B=!1,p()));a&&E(A);var C=N;return(function(I,P){if(arguments.length>0){const q=P?E(A):a?Te(I):I;return se(A,q),B=!0,f!==void 0&&(f=q),I}return ut&&B||(C.f&Ue)!==0?A.v:E(A)})}const ds="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(ds);var Yr;(function(t){t[t.SCAN_MODE_LOW_POWER=0]="SCAN_MODE_LOW_POWER",t[t.SCAN_MODE_BALANCED=1]="SCAN_MODE_BALANCED",t[t.SCAN_MODE_LOW_LATENCY=2]="SCAN_MODE_LOW_LATENCY"})(Yr||(Yr={}));var Gr;(function(t){t[t.CONNECTION_PRIORITY_BALANCED=0]="CONNECTION_PRIORITY_BALANCED",t[t.CONNECTION_PRIORITY_HIGH=1]="CONNECTION_PRIORITY_HIGH",t[t.CONNECTION_PRIORITY_LOW_POWER=2]="CONNECTION_PRIORITY_LOW_POWER"})(Gr||(Gr={}));const hs=t=>{const e=new Map;e.set("web",{name:"web"});const n=t.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:e},s=(u,f)=>{n.platforms.set(u,f)},a=u=>{n.platforms.has(u)&&(n.currentPlatform=n.platforms.get(u))};return n.addPlatform=s,n.setPlatform=a,n},ps=t=>t.CapacitorPlatforms=hs(t),jn=ps(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof globalThis<"u"?globalThis:{});jn.addPlatform;jn.setPlatform;var Et;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(Et||(Et={}));class ar extends Error{constructor(e,n,s){super(e),this.message=e,this.code=n,this.data=s}}const vs=t=>{var e,n;return t?.androidBridge?"android":!((n=(e=t?.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},ws=t=>{var e,n,s,a,u;const f=t.CapacitorCustomPlatform||null,o=t.Capacitor||{},h=o.Plugins=o.Plugins||{},v=t.CapacitorPlatforms,y=()=>f!==null?f.name:vs(t),b=((e=v?.currentPlatform)===null||e===void 0?void 0:e.getPlatform)||y,_=()=>b()!=="web",p=((n=v?.currentPlatform)===null||n===void 0?void 0:n.isNativePlatform)||_,g=M=>{const k=q.get(M);return!!(k?.platforms.has(b())||C(M))},B=((s=v?.currentPlatform)===null||s===void 0?void 0:s.isPluginAvailable)||g,A=M=>{var k;return(k=o.PluginHeaders)===null||k===void 0?void 0:k.find(De=>De.name===M)},C=((a=v?.currentPlatform)===null||a===void 0?void 0:a.getPluginHeader)||A,I=M=>t.console.error(M),P=(M,k,De)=>Promise.reject(`${De} does not have an implementation of "${k}".`),q=new Map,L=(M,k={})=>{const De=q.get(M);if(De)return console.warn(`Capacitor plugin "${M}" already registered. Cannot register plugins twice.`),De.proxy;const Be=b(),X=C(M);let x;const Bt=async()=>(!x&&Be in k?x=typeof k[Be]=="function"?x=await k[Be]():x=k[Be]:f!==null&&!x&&"web"in k&&(x=typeof k.web=="function"?x=await k.web():x=k.web),x),Qe=(H,F)=>{var T,oe;if(X){const de=X?.methods.find(te=>F===te.name);if(de)return de.rtype==="promise"?te=>o.nativePromise(M,F.toString(),te):(te,le)=>o.nativeCallback(M,F.toString(),te,le);if(H)return(T=H[F])===null||T===void 0?void 0:T.bind(H)}else{if(H)return(oe=H[F])===null||oe===void 0?void 0:oe.bind(H);throw new ar(`"${M}" plugin is not implemented on ${Be}`,Et.Unimplemented)}},Oe=H=>{let F;const T=(...oe)=>{const de=Bt().then(te=>{const le=Qe(te,H);if(le){const he=le(...oe);return F=he?.remove,he}else throw new ar(`"${M}.${H}()" is not implemented on ${Be}`,Et.Unimplemented)});return H==="addListener"&&(de.remove=async()=>F()),de};return T.toString=()=>`${H.toString()}() { [capacitor code] }`,Object.defineProperty(T,"name",{value:H,writable:!1,configurable:!1}),T},Ze=Oe("addListener"),ft=Oe("removeListener"),At=(H,F)=>{const T=Ze({eventName:H},F),oe=async()=>{const te=await T;ft({eventName:H,callbackId:te},F)},de=new Promise(te=>T.then(()=>te({remove:oe})));return de.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await oe()},de},et=new Proxy({},{get(H,F){switch(F){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return X?At:Ze;case"removeListener":return ft;default:return Oe(F)}}});return h[M]=et,q.set(M,{name:M,proxy:et,platforms:new Set([...Object.keys(k),...X?[Be]:[]])}),et},K=((u=v?.currentPlatform)===null||u===void 0?void 0:u.registerPlugin)||L;return o.convertFileSrc||(o.convertFileSrc=M=>M),o.getPlatform=b,o.handleError=I,o.isNativePlatform=p,o.isPluginAvailable=B,o.pluginMethodNoop=P,o.registerPlugin=K,o.Exception=ar,o.DEBUG=!!o.DEBUG,o.isLoggingEnabled=!!o.isLoggingEnabled,o.platform=o.getPlatform(),o.isNative=o.isNativePlatform(),o},gs=t=>t.Capacitor=ws(t),at=gs(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}),Dr=at.registerPlugin;at.Plugins;class Fr{constructor(e){this.listeners={},this.retainedEventArguments={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,n){let s=!1;this.listeners[e]||(this.listeners[e]=[],s=!0),this.listeners[e].push(n);const u=this.windowListeners[e];u&&!u.registered&&this.addWindowListener(u),s&&this.sendRetainedArgumentsForEvent(e);const f=async()=>this.removeListener(e,n);return Promise.resolve({remove:f})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n,s){const a=this.listeners[e];if(!a){if(s){let u=this.retainedEventArguments[e];u||(u=[]),u.push(n),this.retainedEventArguments[e]=u}return}a.forEach(u=>u(n))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:s=>{this.notifyListeners(n,s)}}}unimplemented(e="not implemented"){return new at.Exception(e,Et.Unimplemented)}unavailable(e="not available"){return new at.Exception(e,Et.Unavailable)}async removeListener(e,n){const s=this.listeners[e];if(!s)return;const a=s.indexOf(n);this.listeners[e].splice(a,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(s=>{this.notifyListeners(e,s)}))}}const zr=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Kr=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class _s extends Fr{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(s=>{if(s.length<=0)return;let[a,u]=s.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");a=Kr(a).trim(),u=Kr(u).trim(),n[a]=u}),n}async setCookie(e){try{const n=zr(e.key),s=zr(e.value),a=`; expires=${(e.expires||"").replace("expires=","")}`,u=(e.path||"/").replace("path=",""),f=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${s||""}${a}; path=${u}; ${f};`}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}Dr("CapacitorCookies",{web:()=>new _s});const ys=async t=>new Promise((e,n)=>{const s=new FileReader;s.onload=()=>{const a=s.result;e(a.indexOf(",")>=0?a.split(",")[1]:a)},s.onerror=a=>n(a),s.readAsDataURL(t)}),ms=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(a=>a.toLocaleLowerCase()).reduce((a,u,f)=>(a[u]=t[e[f]],a),{})},bs=(t,e=!0)=>t?Object.entries(t).reduce((s,a)=>{const[u,f]=a;let o,h;return Array.isArray(f)?(h="",f.forEach(v=>{o=e?encodeURIComponent(v):v,h+=`${u}=${o}&`}),h.slice(0,-1)):(o=e?encodeURIComponent(f):f,h=`${u}=${o}`),`${s}&${h}`},"").substr(1):null,Es=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),a=ms(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(a.includes("application/x-www-form-urlencoded")){const u=new URLSearchParams;for(const[f,o]of Object.entries(t.data||{}))u.set(f,o);n.body=u.toString()}else if(a.includes("multipart/form-data")||t.data instanceof FormData){const u=new FormData;if(t.data instanceof FormData)t.data.forEach((o,h)=>{u.append(h,o)});else for(const o of Object.keys(t.data))u.append(o,t.data[o]);n.body=u;const f=new Headers(n.headers);f.delete("content-type"),n.headers=f}else(a.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n};class xs extends Fr{async request(e){const n=Es(e,e.webFetchExtra),s=bs(e.params,e.shouldEncodeUrlParams),a=s?`${e.url}?${s}`:e.url,u=await fetch(a,n),f=u.headers.get("content-type")||"";let{responseType:o="text"}=u.ok?e:{};f.includes("application/json")&&(o="json");let h,v;switch(o){case"arraybuffer":case"blob":v=await u.blob(),h=await ys(v);break;case"json":h=await u.json();break;default:h=await u.text()}const y={};return u.headers.forEach((b,_)=>{y[_]=b}),{data:h,headers:y,status:u.status,url:u.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}Dr("CapacitorHttp",{web:()=>new xs});function Bs(t){return new DataView(Uint8Array.from(t).buffer)}function As(t){return Array.from(new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function Is(t){return`0000${t.toString(16).padStart(4,"0")}-0000-1000-8000-00805f9b34fb`}function Jt(t){const e=[];let n,s,a=1,u=0;for(n=0;n<t.length;n++)s=t.charCodeAt(n),(s>47&&s<58||s>64&&s<71||s>96&&s<103)&&(u=u<<4^(s>64?s+9:s)&15,(a^=1)&&e.push(u&255));return Bs(e)}function or(t){return As(t).map(e=>{let n=e.toString(16);return n.length==1&&(n="0"+n),n}).join(" ")}function Cs(t){if(typeof t=="string")return t;if(typeof t=="number")return Is(t);throw new Error("Invalid UUID")}function Jr(t){const e={};if(t)return t.forEach((n,s)=>{e[s.toString()]=n}),e}const Ss="modulepreload",Ps=function(t,e){return new URL(t,e).href},Xr={},Ds=function(e,n,s){let a=Promise.resolve();if(n&&n.length>0){let v=function(y){return Promise.all(y.map(b=>Promise.resolve(b).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};const f=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),h=o?.nonce||o?.getAttribute("nonce");a=v(n.map(y=>{if(y=Ps(y,s),y in Xr)return;Xr[y]=!0;const b=y.endsWith(".css"),_=b?'[rel="stylesheet"]':"";if(s)for(let g=f.length-1;g>=0;g--){const B=f[g];if(B.href===y&&(!b||B.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${y}"]${_}`))return;const p=document.createElement("link");if(p.rel=b?"stylesheet":Ss,b||(p.as="script"),p.crossOrigin="",p.href=y,h&&p.setAttribute("nonce",h),document.head.appendChild(p),b)return new Promise((g,B)=>{p.addEventListener("load",g),p.addEventListener("error",()=>B(new Error(`Unable to preload CSS for ${y}`)))})}))}function u(f){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=f,window.dispatchEvent(o),!o.defaultPrevented)throw f}return a.then(f=>{for(const o of f||[])o.status==="rejected"&&u(o.reason);return e().catch(u)})},S=Dr("BluetoothLe",{web:()=>Ds(()=>Promise.resolve().then(()=>Qs),void 0,import.meta.url).then(t=>new t.BluetoothLeWeb)}),Fs=()=>{let t=Promise.resolve();return e=>new Promise((n,s)=>{t=t.then(()=>e()).then(n).catch(s)})};function lr(t){return t?Fs():e=>e()}function G(t){if(typeof t!="string")throw new Error(`Invalid UUID type ${typeof t}. Expected string.`);if(t=t.toLowerCase(),!(t.search(/^[0-9a-f]{8}\b-[0-9a-f]{4}\b-[0-9a-f]{4}\b-[0-9a-f]{4}\b-[0-9a-f]{12}$/)>=0))throw new Error(`Invalid UUID format ${t}. Expected 128 bit string (e.g. "0000180d-0000-1000-8000-00805f9b34fb").`);return t}class Ls{constructor(){this.scanListener=null,this.eventListeners=new Map,this.queue=lr(!0)}enableQueue(){this.queue=lr(!0)}disableQueue(){this.queue=lr(!1)}async initialize(e){await this.queue(async()=>{await S.initialize(e)})}async isEnabled(){return await this.queue(async()=>(await S.isEnabled()).value)}async requestEnable(){await this.queue(async()=>{await S.requestEnable()})}async enable(){await this.queue(async()=>{await S.enable()})}async disable(){await this.queue(async()=>{await S.disable()})}async startEnabledNotifications(e){await this.queue(async()=>{var n;const s="onEnabledChanged";await((n=this.eventListeners.get(s))===null||n===void 0?void 0:n.remove());const a=await S.addListener(s,u=>{e(u.value)});this.eventListeners.set(s,a),await S.startEnabledNotifications()})}async stopEnabledNotifications(){await this.queue(async()=>{var e;const n="onEnabledChanged";await((e=this.eventListeners.get(n))===null||e===void 0?void 0:e.remove()),this.eventListeners.delete(n),await S.stopEnabledNotifications()})}async isLocationEnabled(){return await this.queue(async()=>(await S.isLocationEnabled()).value)}async openLocationSettings(){await this.queue(async()=>{await S.openLocationSettings()})}async openBluetoothSettings(){await this.queue(async()=>{await S.openBluetoothSettings()})}async openAppSettings(){await this.queue(async()=>{await S.openAppSettings()})}async setDisplayStrings(e){await this.queue(async()=>{await S.setDisplayStrings(e)})}async requestDevice(e){return e=e?this.validateRequestBleDeviceOptions(e):void 0,await this.queue(async()=>await S.requestDevice(e))}async requestLEScan(e,n){e=this.validateRequestBleDeviceOptions(e),await this.queue(async()=>{var s;await((s=this.scanListener)===null||s===void 0?void 0:s.remove()),this.scanListener=await S.addListener("onScanResult",a=>{const u=Object.assign(Object.assign({},a),{manufacturerData:this.convertObject(a.manufacturerData),serviceData:this.convertObject(a.serviceData),rawAdvertisement:a.rawAdvertisement?this.convertValue(a.rawAdvertisement):void 0});n(u)}),await S.requestLEScan(e)})}async stopLEScan(){await this.queue(async()=>{var e;await((e=this.scanListener)===null||e===void 0?void 0:e.remove()),this.scanListener=null,await S.stopLEScan()})}async getDevices(e){if(!Array.isArray(e))throw new Error("deviceIds must be an array");return this.queue(async()=>(await S.getDevices({deviceIds:e})).devices)}async getConnectedDevices(e){if(!Array.isArray(e))throw new Error("services must be an array");return e=e.map(G),this.queue(async()=>(await S.getConnectedDevices({services:e})).devices)}async getBondedDevices(){return this.queue(async()=>(await S.getBondedDevices()).devices)}async connect(e,n,s){await this.queue(async()=>{var a;if(n){const u=`disconnected|${e}`;await((a=this.eventListeners.get(u))===null||a===void 0?void 0:a.remove());const f=await S.addListener(u,()=>{n(e)});this.eventListeners.set(u,f)}await S.connect(Object.assign({deviceId:e},s))})}async createBond(e,n){await this.queue(async()=>{await S.createBond(Object.assign({deviceId:e},n))})}async isBonded(e){return await this.queue(async()=>(await S.isBonded({deviceId:e})).value)}async disconnect(e){await this.queue(async()=>{await S.disconnect({deviceId:e})})}async getServices(e){return await this.queue(async()=>(await S.getServices({deviceId:e})).services)}async discoverServices(e){await this.queue(async()=>{await S.discoverServices({deviceId:e})})}async getMtu(e){return await this.queue(async()=>(await S.getMtu({deviceId:e})).value)}async requestConnectionPriority(e,n){await this.queue(async()=>{await S.requestConnectionPriority({deviceId:e,connectionPriority:n})})}async readRssi(e){return await this.queue(async()=>{const s=await S.readRssi({deviceId:e});return parseFloat(s.value)})}async read(e,n,s,a){return n=G(n),s=G(s),await this.queue(async()=>{const f=await S.read(Object.assign({deviceId:e,service:n,characteristic:s},a));return this.convertValue(f.value)})}async write(e,n,s,a,u){return n=G(n),s=G(s),this.queue(async()=>{if(!a?.buffer)throw new Error("Invalid data.");let f=a;at.getPlatform()!=="web"&&(f=or(a)),await S.write(Object.assign({deviceId:e,service:n,characteristic:s,value:f},u))})}async writeWithoutResponse(e,n,s,a,u){n=G(n),s=G(s),await this.queue(async()=>{if(!a?.buffer)throw new Error("Invalid data.");let f=a;at.getPlatform()!=="web"&&(f=or(a)),await S.writeWithoutResponse(Object.assign({deviceId:e,service:n,characteristic:s,value:f},u))})}async readDescriptor(e,n,s,a,u){return n=G(n),s=G(s),a=G(a),await this.queue(async()=>{const o=await S.readDescriptor(Object.assign({deviceId:e,service:n,characteristic:s,descriptor:a},u));return this.convertValue(o.value)})}async writeDescriptor(e,n,s,a,u,f){return n=G(n),s=G(s),a=G(a),this.queue(async()=>{if(!u?.buffer)throw new Error("Invalid data.");let o=u;at.getPlatform()!=="web"&&(o=or(u)),await S.writeDescriptor(Object.assign({deviceId:e,service:n,characteristic:s,descriptor:a,value:o},f))})}async startNotifications(e,n,s,a){n=G(n),s=G(s),await this.queue(async()=>{var u;const f=`notification|${e}|${n}|${s}`;await((u=this.eventListeners.get(f))===null||u===void 0?void 0:u.remove());const o=await S.addListener(f,h=>{a(this.convertValue(h?.value))});this.eventListeners.set(f,o),await S.startNotifications({deviceId:e,service:n,characteristic:s})})}async stopNotifications(e,n,s){n=G(n),s=G(s),await this.queue(async()=>{var a;const u=`notification|${e}|${n}|${s}`;await((a=this.eventListeners.get(u))===null||a===void 0?void 0:a.remove()),this.eventListeners.delete(u),await S.stopNotifications({deviceId:e,service:n,characteristic:s})})}validateRequestBleDeviceOptions(e){return e.services&&(e.services=e.services.map(G)),e.optionalServices&&(e.optionalServices=e.optionalServices.map(G)),e}convertValue(e){return typeof e=="string"?Jt(e):e===void 0?new DataView(new ArrayBuffer(0)):e}convertObject(e){if(e===void 0)return;const n={};for(const s of Object.keys(e))n[s]=this.convertValue(e[s]);return n}}const Ye=new Ls;var Ts=Pe('<button class="device-pause svelte-kxsqrl" title="Pause"><div style="line-height: 1.25;">❚❚</div> <div style="font-size: xx-small;">Pause</div></button>'),ks=Pe('<button class="device-resume svelte-kxsqrl" title="Pause">▶ <div style="font-size: xx-small;">Resume</div></button>'),Os=Pe(' <span class="minMaxText svelte-kxsqrl"> </span>',1),Rs=Pe('<div><select><option>Manual control only</option><option>Connect to Pleasure</option><option>Connect to Arousal</option><option>Connect to Pressure</option><option>Connect to Denials</option></select></div> <div class="invertedText svelte-kxsqrl">Invert: <input type="checkbox" class="svelte-kxsqrl"/></div>',1),Ms=Pe('<div class="device-sliders svelte-kxsqrl"><div style="display: flex;flex-direction: row;justify-content: space-between"><div style="font-weight: bold; margin-bottom: 1px; white-space: nowrap;"><!></div> <!></div> <input class="main-slider svelte-kxsqrl" type="range"/> <div class="slider svelte-kxsqrl"><div class="range-slider svelte-kxsqrl"></div></div> <div class="range-input svelte-kxsqrl"><input type="range" class="min-range svelte-kxsqrl" step="1"/> <input type="range" class="max-range svelte-kxsqrl" step="1"/></div></div>'),Us=Pe('<div style="display: flex;flex-direction: row;justify-content: space-between;margin-bottom: 10px; "><div><!></div> <div><button class="device-disconnect svelte-kxsqrl" title="Disconnect">✕ <div style="font-size: xx-small; font-weight: normal;">Disconnect</div></button></div></div> <!>',1),Ns=Pe('<p>Coded with love and hedonism by <a href="https://rubberyfun.com/">Claus Macher</a>.  Have fun!</p>'),qs=Pe('<div style="font-size: small;"><p>This supports <a target="_blank" href="https://www.researchanddesire.com/pages/ossm">OSSM devices</a> with a stock firmware from 2026 or newer.</p> <p>If your OSSM firmware is older you can easily upgrade it using <a href="https://dashboard.researchanddesire.com/app/tools/web-flasher">their web flashing tool</a>.</p> <!> <p></p></div>'),$s=Pe("<div><button>Connect to an<!> OSSM device</button></div>"),js=Pe('<div class="bluetooth-ossm-control svelte-kxsqrl"><!> <!></div>');function Ws(t,e){un(e,!0);class n{#t=ie("");get name(){return E(this.#t)}set name(p){se(this.#t,p,!0)}service="";#a=ie(null);get deviceId(){return E(this.#a)}set deviceId(p){se(this.#a,p,!0)}rx_state="";rx_patterns="";tx="";tx_knob="";#e=ie("Disconnected");get conn_status(){return E(this.#e)}set conn_status(p){se(this.#e,p,!0)}#i=ie(Te([]));get patterns(){return E(this.#i)}set patterns(p){se(this.#i,p,!0)}#s=ie(Te({}));get controls(){return E(this.#s)}set controls(p){se(this.#s,p,!0)}#r=ie(!1);get isWriting(){return E(this.#r)}set isWriting(p){se(this.#r,p,!0)}unpause_speed=1;constructor(){this.service="522b443a-4f53-534d-0001-420badbabe69",this.tx="522b443a-4f53-534d-1000-420badbabe69",this.tx_knob="522b443a-4f53-534d-1010-420badbabe69",this.rx_state="522b443a-4f53-534d-2000-420badbabe69",this.rx_patterns="522b443a-4f53-534d-3000-420badbabe69",this.unpause_speed=1,this.controls={speed:{value:0,min:0,max:100,mode:"pleasure",limitMin:0,limitMax:100,inverted:!1},stroke:{value:50,min:0,max:100,mode:"manual",limitMin:0,limitMax:100,inverted:!1},depth:{value:10,min:0,max:100,mode:"manual",limitMin:0,limitMax:100,inverted:!1},sensation:{value:0,min:0,max:100,mode:"manual",limitMin:0,limitMax:100,inverted:!1},pattern:{value:0,min:0,max:6,mode:"manual",limitMin:0,limitMax:6,inverted:!1}}}async setControl(p,g){if(console.log(`Setting OSSM control ${p} to value ${g}`),!this.deviceId)throw new Error("Not connected to Bluetooth device");if(!this.isWriting)try{const B=new TextEncoder;this.isWriting=!0;const A="set:"+p+":"+g,C=new DataView(B.encode(A).buffer);await Ye.write(this.deviceId,this.service,this.tx,C),p==="speed"&&g===0&&(console.log(`Paused device, storing unpause speed ${this.unpause_speed}`,this.controls.speed.value),this.unpause_speed=this.controls.speed.value),this.controls[p].value=g,console.log(`Wrote control ${p} with value ${g}`)}catch(B){console.error("Failed writing control value:",B)}finally{this.isWriting=!1}}}let s=Hr(e,"devices",31,()=>Te([])),a=Hr(e,"EOMembedded",3,!1);async function u(){let _=new n;try{await Ye.initialize(),_.conn_status="Connecting...";const p=await Ye.requestDevice({namePrefix:"OSSM",optionalServices:[_.service]});_.deviceId=p.deviceId,_.name=p.name||"OSSM",console.log("Connected to device:",_.name),await Ye.connect(p.deviceId,g=>{console.log(`Device ${g} disconnected`),s(s().filter(B=>B.deviceId!==g)),_.deviceId=null,_.conn_status="Disconnected"}),_.conn_status="Connected";try{const g=new TextEncoder,B=g.encode("go:strokeEngine"),A=new DataView(B.buffer);await Ye.write(p.deviceId,_.service,_.tx,A);const C=g.encode("false"),I=new DataView(C.buffer);await Ye.write(p.deviceId,_.service,_.tx_knob,I),console.log("Sent startup sequence")}catch(g){console.error("Failed to send startup sequence:",g)}try{const g=await Ye.read(p.deviceId,_.service,_.rx_patterns),A=new TextDecoder().decode(g);JSON.parse(A).forEach(I=>{console.log("Pattern:",I),_.patterns.push(I.name)}),console.log("Read patterns:",_.patterns)}catch(g){console.error("Failed to read patterns:",g)}s().push(_)}catch(p){console.error("Bluetooth connection failed:",p),_.conn_status="Connection failed"}}var f=js(),o=z(f);{var h=_=>{var p=Xi(),g=Wt(p);jr(g,17,s,qr,(B,A,C)=>{var I=Us(),P=Wt(I),q=z(P),L=z(q);{var K=X=>{var x=Ts();x.__click=()=>{E(A).setControl("speed",0)},ue(X,x)},M=X=>{var x=ks();x.__click=()=>{E(A).setControl("speed",$t(E(A).unpause_speed))},ue(X,x)};tt(L,X=>{$t(E(A).controls).speed.value>0?X(K):X(M,!1)})}var k=Q(q,2),De=z(k);De.__click=async()=>{E(A).deviceId&&await Ye.disconnect(E(A).deviceId)};var Be=Q(P,2);jr(Be,17,()=>Object.entries(E(A).controls),qr,(X,x,Bt)=>{var Qe=Ms(),Oe=z(Qe),Ze=z(Oe),ft=z(Ze);{var At=R=>{var Y=Nr();Vt((ne,pe)=>ir(Y,`${ne??""}
                  Pattern: ${pe??""}`),[()=>console.log("Pattern control value:",E(x)[1].value,$t(E(A).patterns)),()=>$t(E(A).patterns)[E(x)[1].value]??E(x)[1].value]),ue(R,Y)},et=R=>{var Y=Os(),ne=Wt(Y),pe=Q(ne),Re=z(pe);Vt(ve=>{ir(ne,`${ve??""}: ${E(x)[1].value??""} `),ir(Re,`(Min: ${E(x)[1].limitMin??""}, Max: ${E(x)[1].limitMax??""})`)},[()=>E(x)[0].charAt(0).toUpperCase()+E(x)[0].slice(1)]),ue(R,Y)};tt(ft,R=>{E(x)[0]==="pattern"?R(At):R(et,!1)})}var H=Q(Ze,2);{var F=R=>{var Y=Rs(),ne=Wt(Y),pe=z(ne);pe.__change=async Pt=>{const Dt=Pt.target.value;console.log(`Setting mode for ${E(A).name} ${E(x)[0]} to ${Dt}`),E(x)[1].mode=Dt};var Re=z(pe);Re.value=Re.__value="manual";var ve=Q(Re);ve.value=ve.__value="pleasure";var Fe=Q(ve);Fe.value=Fe.__value="arousal";var dt=Q(Fe);dt.value=dt.__value="pressure";var It=Q(dt);It.value=It.__value="denied";var Ct=Q(ne,2),St=Q(z(Ct));St.__change=async Pt=>{E(x)[1].inverted=Pt.target.checked},Vt(()=>{_e(pe,"id",C+"-"+E(x)[0]+"-mode"),Lt(Re,E(x)[1].mode==="manual"),Lt(ve,E(x)[1].mode==="pleasure"),Lt(Fe,E(x)[1].mode==="arousal"),Lt(dt,E(x)[1].mode==="pressure"),Lt(It,E(x)[1].mode==="denied"),_e(St,"id",C+"-"+E(x)[0]+"-invert"),us(St,E(x)[1].inverted)}),ue(R,Y)};tt(H,R=>{a()&&R(F)})}var T=Q(Oe,2);T.__input=R=>{parseInt(R.target?.value??"0"),E(A).setControl(E(x)[0],parseInt(R.target?.value??"0"))},$n(T,(R,Y)=>Y[1].sliderElement=R,R=>R?.[1]?.sliderElement,()=>[E(x)]);var oe=Q(T,2),de=z(oe),te=Q(oe,2),le=z(te);le.__input=R=>{const Y=E(x)[1].limitMin??E(x)[1].min;E(x)[1].limitMin=parseInt(R.target?.value??"0");const ne=document.querySelector(`#control-${C}-${E(x)[0]}-range-slider`);ne.style.left=`${E(x)[1].limitMin/E(x)[1].max*100}%`;const pe=(E(x)[1].value-Y)/((E(x)[1].limitMax??E(x)[1].max)-Y)*((E(x)[1].limitMax??E(x)[1].max)-(E(x)[1].limitMin??E(x)[1].min))+(E(x)[1].limitMin??E(x)[1].min);E(A).setControl(E(x)[0],Math.round(pe))};var he=Q(le,2);he.__input=R=>{const Y=E(x)[1].limitMax??E(x)[1].max;E(x)[1].limitMax=parseInt(R.target?.value??"255");const ne=document.querySelector(`#control-${C}-${E(x)[0]}-range-slider`);ne&&(ne.style.right=`${(E(x)[1].max-(E(x)[1].limitMax??E(x)[1].max))/E(x)[1].max*100}%`);const pe=(E(x)[1].value-(E(x)[1].limitMin??E(x)[1].min))/((E(x)[1].limitMax??E(x)[1].max)-Y)*((E(x)[1].limitMax??E(x)[1].max)-(E(x)[1].limitMin??E(x)[1].min))+(E(x)[1].limitMin??E(x)[1].min);E(A).setControl(E(x)[0],Math.round(pe))},Vt(R=>{_e(T,"id",`control-${C}-${E(x)[0]}-slider`),_e(T,"min",E(x)[1].limitMin??E(x)[1].min),_e(T,"max",E(x)[1].limitMax??E(x)[1].max),sr(T,E(x)[1].value),as(T,`background: hsl(${R??""}, 30%, 50%);`),_e(de,"id",`control-${C}-${E(x)[0]}-range-slider`),_e(le,"id",`control-${C}-${E(x)[0]}-min`),_e(le,"min",E(x)[1].min),_e(le,"max",E(x)[1].max),sr(le,E(x)[1].limitMin),_e(he,"id",`control-${C}-${E(x)[0]}-max`),_e(he,"min",E(x)[1].min),_e(he,"max",E(x)[1].max),sr(he,E(x)[1].limitMax)},[()=>Bt*(360/Object.keys(E(A).controls).length)]),ue(X,Qe)}),ue(B,I)}),ue(_,p)},v=_=>{var p=qs(),g=Q(z(p),4);{var B=A=>{var C=Ns();ue(A,C)};tt(g,A=>{a()||A(B)})}ue(_,p)};tt(o,_=>{s().length?_(h):_(v,!1)})}var y=Q(o,2);{var b=_=>{var p=$s(),g=z(p);g.__click=()=>u();var B=Q(z(g));{var A=I=>{var P=Nr("other");ue(I,P)},C=I=>{};tt(B,I=>{s().length?I(A):I(C,!1)})}ue(_,p)};tt(y,_=>{(a()||s().length==0)&&_(b)})}ue(t,f),cn()}Ki(["click","change","input"]);var Vs=Pe('<div class="mainContainer" role="none"><div style="position: relative; padding: 0; width: 100%; max-width: 100%; box-sizing: border-box; display: flex; justify-content: center; align-items: center; flex-direction: column; overflow-x: hidden;"><div style="display: flex; justify-content: space-between; width: 100%; max-width: 100%; box-sizing: border-box; padding: 4px; flex-wrap: wrap; gap: 0.5rem;"><!></div></div></div>');function Hs(t){let e,n=ie(Te([]));var s=Vs(),a=z(s),u=z(a),f=z(u);$n(Ws(f,{get devices(){return E(n)},set devices(o){se(n,o,!0)}}),o=>e=o,()=>e),ue(t,s)}var ur={},Tt={},Qr;function Ys(){if(Qr)return Tt;Qr=1,Tt.byteLength=o,Tt.toByteArray=v,Tt.fromByteArray=_;for(var t=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)t[a]=s[a],e[s.charCodeAt(a)]=a;e[45]=62,e[95]=63;function f(p){var g=p.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var B=p.indexOf("=");B===-1&&(B=g);var A=B===g?0:4-B%4;return[B,A]}function o(p){var g=f(p),B=g[0],A=g[1];return(B+A)*3/4-A}function h(p,g,B){return(g+B)*3/4-B}function v(p){var g,B=f(p),A=B[0],C=B[1],I=new n(h(p,A,C)),P=0,q=C>0?A-4:A,L;for(L=0;L<q;L+=4)g=e[p.charCodeAt(L)]<<18|e[p.charCodeAt(L+1)]<<12|e[p.charCodeAt(L+2)]<<6|e[p.charCodeAt(L+3)],I[P++]=g>>16&255,I[P++]=g>>8&255,I[P++]=g&255;return C===2&&(g=e[p.charCodeAt(L)]<<2|e[p.charCodeAt(L+1)]>>4,I[P++]=g&255),C===1&&(g=e[p.charCodeAt(L)]<<10|e[p.charCodeAt(L+1)]<<4|e[p.charCodeAt(L+2)]>>2,I[P++]=g>>8&255,I[P++]=g&255),I}function y(p){return t[p>>18&63]+t[p>>12&63]+t[p>>6&63]+t[p&63]}function b(p,g,B){for(var A,C=[],I=g;I<B;I+=3)A=(p[I]<<16&16711680)+(p[I+1]<<8&65280)+(p[I+2]&255),C.push(y(A));return C.join("")}function _(p){for(var g,B=p.length,A=B%3,C=[],I=16383,P=0,q=B-A;P<q;P+=I)C.push(b(p,P,P+I>q?q:P+I));return A===1?(g=p[B-1],C.push(t[g>>2]+t[g<<4&63]+"==")):A===2&&(g=(p[B-2]<<8)+p[B-1],C.push(t[g>>10]+t[g>>4&63]+t[g<<2&63]+"=")),C.join("")}return Tt}var Gt={};var Zr;function Gs(){return Zr||(Zr=1,Gt.read=function(t,e,n,s,a){var u,f,o=a*8-s-1,h=(1<<o)-1,v=h>>1,y=-7,b=n?a-1:0,_=n?-1:1,p=t[e+b];for(b+=_,u=p&(1<<-y)-1,p>>=-y,y+=o;y>0;u=u*256+t[e+b],b+=_,y-=8);for(f=u&(1<<-y)-1,u>>=-y,y+=s;y>0;f=f*256+t[e+b],b+=_,y-=8);if(u===0)u=1-v;else{if(u===h)return f?NaN:(p?-1:1)*(1/0);f=f+Math.pow(2,s),u=u-v}return(p?-1:1)*f*Math.pow(2,u-s)},Gt.write=function(t,e,n,s,a,u){var f,o,h,v=u*8-a-1,y=(1<<v)-1,b=y>>1,_=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=s?0:u-1,g=s?1:-1,B=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,f=y):(f=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-f))<1&&(f--,h*=2),f+b>=1?e+=_/h:e+=_*Math.pow(2,1-b),e*h>=2&&(f++,h/=2),f+b>=y?(o=0,f=y):f+b>=1?(o=(e*h-1)*Math.pow(2,a),f=f+b):(o=e*Math.pow(2,b-1)*Math.pow(2,a),f=0));a>=8;t[n+p]=o&255,p+=g,o/=256,a-=8);for(f=f<<a|o,v+=a;v>0;t[n+p]=f&255,p+=g,f/=256,v-=8);t[n+p-g]|=B*128}),Gt}var en;function zs(){return en||(en=1,(function(t){const e=Ys(),n=Gs(),s=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=o,t.SlowBuffer=I,t.INSPECT_MAX_BYTES=50;const a=2147483647;t.kMaxLength=a,o.TYPED_ARRAY_SUPPORT=u(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function u(){try{const l=new Uint8Array(1),r={foo:function(){return 42}};return Object.setPrototypeOf(r,Uint8Array.prototype),Object.setPrototypeOf(l,r),l.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function f(l){if(l>a)throw new RangeError('The value "'+l+'" is invalid for option "size"');const r=new Uint8Array(l);return Object.setPrototypeOf(r,o.prototype),r}function o(l,r,i){if(typeof l=="number"){if(typeof r=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return b(l)}return h(l,r,i)}o.poolSize=8192;function h(l,r,i){if(typeof l=="string")return _(l,r);if(ArrayBuffer.isView(l))return g(l);if(l==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof l);if(Le(l,ArrayBuffer)||l&&Le(l.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Le(l,SharedArrayBuffer)||l&&Le(l.buffer,SharedArrayBuffer)))return B(l,r,i);if(typeof l=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const c=l.valueOf&&l.valueOf();if(c!=null&&c!==l)return o.from(c,r,i);const d=A(l);if(d)return d;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof l[Symbol.toPrimitive]=="function")return o.from(l[Symbol.toPrimitive]("string"),r,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof l)}o.from=function(l,r,i){return h(l,r,i)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function v(l){if(typeof l!="number")throw new TypeError('"size" argument must be of type number');if(l<0)throw new RangeError('The value "'+l+'" is invalid for option "size"')}function y(l,r,i){return v(l),l<=0?f(l):r!==void 0?typeof i=="string"?f(l).fill(r,i):f(l).fill(r):f(l)}o.alloc=function(l,r,i){return y(l,r,i)};function b(l){return v(l),f(l<0?0:C(l)|0)}o.allocUnsafe=function(l){return b(l)},o.allocUnsafeSlow=function(l){return b(l)};function _(l,r){if((typeof r!="string"||r==="")&&(r="utf8"),!o.isEncoding(r))throw new TypeError("Unknown encoding: "+r);const i=P(l,r)|0;let c=f(i);const d=c.write(l,r);return d!==i&&(c=c.slice(0,d)),c}function p(l){const r=l.length<0?0:C(l.length)|0,i=f(r);for(let c=0;c<r;c+=1)i[c]=l[c]&255;return i}function g(l){if(Le(l,Uint8Array)){const r=new Uint8Array(l);return B(r.buffer,r.byteOffset,r.byteLength)}return p(l)}function B(l,r,i){if(r<0||l.byteLength<r)throw new RangeError('"offset" is outside of buffer bounds');if(l.byteLength<r+(i||0))throw new RangeError('"length" is outside of buffer bounds');let c;return r===void 0&&i===void 0?c=new Uint8Array(l):i===void 0?c=new Uint8Array(l,r):c=new Uint8Array(l,r,i),Object.setPrototypeOf(c,o.prototype),c}function A(l){if(o.isBuffer(l)){const r=C(l.length)|0,i=f(r);return i.length===0||l.copy(i,0,0,r),i}if(l.length!==void 0)return typeof l.length!="number"||nr(l.length)?f(0):p(l);if(l.type==="Buffer"&&Array.isArray(l.data))return p(l.data)}function C(l){if(l>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return l|0}function I(l){return+l!=l&&(l=0),o.alloc(+l)}o.isBuffer=function(r){return r!=null&&r._isBuffer===!0&&r!==o.prototype},o.compare=function(r,i){if(Le(r,Uint8Array)&&(r=o.from(r,r.offset,r.byteLength)),Le(i,Uint8Array)&&(i=o.from(i,i.offset,i.byteLength)),!o.isBuffer(r)||!o.isBuffer(i))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(r===i)return 0;let c=r.length,d=i.length;for(let w=0,m=Math.min(c,d);w<m;++w)if(r[w]!==i[w]){c=r[w],d=i[w];break}return c<d?-1:d<c?1:0},o.isEncoding=function(r){switch(String(r).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(r,i){if(!Array.isArray(r))throw new TypeError('"list" argument must be an Array of Buffers');if(r.length===0)return o.alloc(0);let c;if(i===void 0)for(i=0,c=0;c<r.length;++c)i+=r[c].length;const d=o.allocUnsafe(i);let w=0;for(c=0;c<r.length;++c){let m=r[c];if(Le(m,Uint8Array))w+m.length>d.length?(o.isBuffer(m)||(m=o.from(m)),m.copy(d,w)):Uint8Array.prototype.set.call(d,m,w);else if(o.isBuffer(m))m.copy(d,w);else throw new TypeError('"list" argument must be an Array of Buffers');w+=m.length}return d};function P(l,r){if(o.isBuffer(l))return l.length;if(ArrayBuffer.isView(l)||Le(l,ArrayBuffer))return l.byteLength;if(typeof l!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof l);const i=l.length,c=arguments.length>2&&arguments[2]===!0;if(!c&&i===0)return 0;let d=!1;for(;;)switch(r){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return Ct(l).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return i*2;case"hex":return i>>>1;case"base64":return Dt(l).length;default:if(d)return c?-1:Ct(l).length;r=(""+r).toLowerCase(),d=!0}}o.byteLength=P;function q(l,r,i){let c=!1;if((r===void 0||r<0)&&(r=0),r>this.length||((i===void 0||i>this.length)&&(i=this.length),i<=0)||(i>>>=0,r>>>=0,i<=r))return"";for(l||(l="utf8");;)switch(l){case"hex":return et(this,r,i);case"utf8":case"utf-8":return Qe(this,r,i);case"ascii":return ft(this,r,i);case"latin1":case"binary":return At(this,r,i);case"base64":return Bt(this,r,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,r,i);default:if(c)throw new TypeError("Unknown encoding: "+l);l=(l+"").toLowerCase(),c=!0}}o.prototype._isBuffer=!0;function L(l,r,i){const c=l[r];l[r]=l[i],l[i]=c}o.prototype.swap16=function(){const r=this.length;if(r%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let i=0;i<r;i+=2)L(this,i,i+1);return this},o.prototype.swap32=function(){const r=this.length;if(r%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let i=0;i<r;i+=4)L(this,i,i+3),L(this,i+1,i+2);return this},o.prototype.swap64=function(){const r=this.length;if(r%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let i=0;i<r;i+=8)L(this,i,i+7),L(this,i+1,i+6),L(this,i+2,i+5),L(this,i+3,i+4);return this},o.prototype.toString=function(){const r=this.length;return r===0?"":arguments.length===0?Qe(this,0,r):q.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(r){if(!o.isBuffer(r))throw new TypeError("Argument must be a Buffer");return this===r?!0:o.compare(this,r)===0},o.prototype.inspect=function(){let r="";const i=t.INSPECT_MAX_BYTES;return r=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(r+=" ... "),"<Buffer "+r+">"},s&&(o.prototype[s]=o.prototype.inspect),o.prototype.compare=function(r,i,c,d,w){if(Le(r,Uint8Array)&&(r=o.from(r,r.offset,r.byteLength)),!o.isBuffer(r))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof r);if(i===void 0&&(i=0),c===void 0&&(c=r?r.length:0),d===void 0&&(d=0),w===void 0&&(w=this.length),i<0||c>r.length||d<0||w>this.length)throw new RangeError("out of range index");if(d>=w&&i>=c)return 0;if(d>=w)return-1;if(i>=c)return 1;if(i>>>=0,c>>>=0,d>>>=0,w>>>=0,this===r)return 0;let m=w-d,D=c-i;const j=Math.min(m,D),$=this.slice(d,w),W=r.slice(i,c);for(let U=0;U<j;++U)if($[U]!==W[U]){m=$[U],D=W[U];break}return m<D?-1:D<m?1:0};function K(l,r,i,c,d){if(l.length===0)return-1;if(typeof i=="string"?(c=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,nr(i)&&(i=d?0:l.length-1),i<0&&(i=l.length+i),i>=l.length){if(d)return-1;i=l.length-1}else if(i<0)if(d)i=0;else return-1;if(typeof r=="string"&&(r=o.from(r,c)),o.isBuffer(r))return r.length===0?-1:M(l,r,i,c,d);if(typeof r=="number")return r=r&255,typeof Uint8Array.prototype.indexOf=="function"?d?Uint8Array.prototype.indexOf.call(l,r,i):Uint8Array.prototype.lastIndexOf.call(l,r,i):M(l,[r],i,c,d);throw new TypeError("val must be string, number or Buffer")}function M(l,r,i,c,d){let w=1,m=l.length,D=r.length;if(c!==void 0&&(c=String(c).toLowerCase(),c==="ucs2"||c==="ucs-2"||c==="utf16le"||c==="utf-16le")){if(l.length<2||r.length<2)return-1;w=2,m/=2,D/=2,i/=2}function j(W,U){return w===1?W[U]:W.readUInt16BE(U*w)}let $;if(d){let W=-1;for($=i;$<m;$++)if(j(l,$)===j(r,W===-1?0:$-W)){if(W===-1&&(W=$),$-W+1===D)return W*w}else W!==-1&&($-=$-W),W=-1}else for(i+D>m&&(i=m-D),$=i;$>=0;$--){let W=!0;for(let U=0;U<D;U++)if(j(l,$+U)!==j(r,U)){W=!1;break}if(W)return $}return-1}o.prototype.includes=function(r,i,c){return this.indexOf(r,i,c)!==-1},o.prototype.indexOf=function(r,i,c){return K(this,r,i,c,!0)},o.prototype.lastIndexOf=function(r,i,c){return K(this,r,i,c,!1)};function k(l,r,i,c){i=Number(i)||0;const d=l.length-i;c?(c=Number(c),c>d&&(c=d)):c=d;const w=r.length;c>w/2&&(c=w/2);let m;for(m=0;m<c;++m){const D=parseInt(r.substr(m*2,2),16);if(nr(D))return m;l[i+m]=D}return m}function De(l,r,i,c){return qt(Ct(r,l.length-i),l,i,c)}function Be(l,r,i,c){return qt(St(r),l,i,c)}function X(l,r,i,c){return qt(Dt(r),l,i,c)}function x(l,r,i,c){return qt(Pt(r,l.length-i),l,i,c)}o.prototype.write=function(r,i,c,d){if(i===void 0)d="utf8",c=this.length,i=0;else if(c===void 0&&typeof i=="string")d=i,c=this.length,i=0;else if(isFinite(i))i=i>>>0,isFinite(c)?(c=c>>>0,d===void 0&&(d="utf8")):(d=c,c=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const w=this.length-i;if((c===void 0||c>w)&&(c=w),r.length>0&&(c<0||i<0)||i>this.length)throw new RangeError("Attempt to write outside buffer bounds");d||(d="utf8");let m=!1;for(;;)switch(d){case"hex":return k(this,r,i,c);case"utf8":case"utf-8":return De(this,r,i,c);case"ascii":case"latin1":case"binary":return Be(this,r,i,c);case"base64":return X(this,r,i,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,r,i,c);default:if(m)throw new TypeError("Unknown encoding: "+d);d=(""+d).toLowerCase(),m=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Bt(l,r,i){return r===0&&i===l.length?e.fromByteArray(l):e.fromByteArray(l.slice(r,i))}function Qe(l,r,i){i=Math.min(l.length,i);const c=[];let d=r;for(;d<i;){const w=l[d];let m=null,D=w>239?4:w>223?3:w>191?2:1;if(d+D<=i){let j,$,W,U;switch(D){case 1:w<128&&(m=w);break;case 2:j=l[d+1],(j&192)===128&&(U=(w&31)<<6|j&63,U>127&&(m=U));break;case 3:j=l[d+1],$=l[d+2],(j&192)===128&&($&192)===128&&(U=(w&15)<<12|(j&63)<<6|$&63,U>2047&&(U<55296||U>57343)&&(m=U));break;case 4:j=l[d+1],$=l[d+2],W=l[d+3],(j&192)===128&&($&192)===128&&(W&192)===128&&(U=(w&15)<<18|(j&63)<<12|($&63)<<6|W&63,U>65535&&U<1114112&&(m=U))}}m===null?(m=65533,D=1):m>65535&&(m-=65536,c.push(m>>>10&1023|55296),m=56320|m&1023),c.push(m),d+=D}return Ze(c)}const Oe=4096;function Ze(l){const r=l.length;if(r<=Oe)return String.fromCharCode.apply(String,l);let i="",c=0;for(;c<r;)i+=String.fromCharCode.apply(String,l.slice(c,c+=Oe));return i}function ft(l,r,i){let c="";i=Math.min(l.length,i);for(let d=r;d<i;++d)c+=String.fromCharCode(l[d]&127);return c}function At(l,r,i){let c="";i=Math.min(l.length,i);for(let d=r;d<i;++d)c+=String.fromCharCode(l[d]);return c}function et(l,r,i){const c=l.length;(!r||r<0)&&(r=0),(!i||i<0||i>c)&&(i=c);let d="";for(let w=r;w<i;++w)d+=Wn[l[w]];return d}function H(l,r,i){const c=l.slice(r,i);let d="";for(let w=0;w<c.length-1;w+=2)d+=String.fromCharCode(c[w]+c[w+1]*256);return d}o.prototype.slice=function(r,i){const c=this.length;r=~~r,i=i===void 0?c:~~i,r<0?(r+=c,r<0&&(r=0)):r>c&&(r=c),i<0?(i+=c,i<0&&(i=0)):i>c&&(i=c),i<r&&(i=r);const d=this.subarray(r,i);return Object.setPrototypeOf(d,o.prototype),d};function F(l,r,i){if(l%1!==0||l<0)throw new RangeError("offset is not uint");if(l+r>i)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(r,i,c){r=r>>>0,i=i>>>0,c||F(r,i,this.length);let d=this[r],w=1,m=0;for(;++m<i&&(w*=256);)d+=this[r+m]*w;return d},o.prototype.readUintBE=o.prototype.readUIntBE=function(r,i,c){r=r>>>0,i=i>>>0,c||F(r,i,this.length);let d=this[r+--i],w=1;for(;i>0&&(w*=256);)d+=this[r+--i]*w;return d},o.prototype.readUint8=o.prototype.readUInt8=function(r,i){return r=r>>>0,i||F(r,1,this.length),this[r]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(r,i){return r=r>>>0,i||F(r,2,this.length),this[r]|this[r+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(r,i){return r=r>>>0,i||F(r,2,this.length),this[r]<<8|this[r+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(r,i){return r=r>>>0,i||F(r,4,this.length),(this[r]|this[r+1]<<8|this[r+2]<<16)+this[r+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(r,i){return r=r>>>0,i||F(r,4,this.length),this[r]*16777216+(this[r+1]<<16|this[r+2]<<8|this[r+3])},o.prototype.readBigUInt64LE=Ve(function(r){r=r>>>0,ve(r,"offset");const i=this[r],c=this[r+7];(i===void 0||c===void 0)&&Fe(r,this.length-8);const d=i+this[++r]*2**8+this[++r]*2**16+this[++r]*2**24,w=this[++r]+this[++r]*2**8+this[++r]*2**16+c*2**24;return BigInt(d)+(BigInt(w)<<BigInt(32))}),o.prototype.readBigUInt64BE=Ve(function(r){r=r>>>0,ve(r,"offset");const i=this[r],c=this[r+7];(i===void 0||c===void 0)&&Fe(r,this.length-8);const d=i*2**24+this[++r]*2**16+this[++r]*2**8+this[++r],w=this[++r]*2**24+this[++r]*2**16+this[++r]*2**8+c;return(BigInt(d)<<BigInt(32))+BigInt(w)}),o.prototype.readIntLE=function(r,i,c){r=r>>>0,i=i>>>0,c||F(r,i,this.length);let d=this[r],w=1,m=0;for(;++m<i&&(w*=256);)d+=this[r+m]*w;return w*=128,d>=w&&(d-=Math.pow(2,8*i)),d},o.prototype.readIntBE=function(r,i,c){r=r>>>0,i=i>>>0,c||F(r,i,this.length);let d=i,w=1,m=this[r+--d];for(;d>0&&(w*=256);)m+=this[r+--d]*w;return w*=128,m>=w&&(m-=Math.pow(2,8*i)),m},o.prototype.readInt8=function(r,i){return r=r>>>0,i||F(r,1,this.length),this[r]&128?(255-this[r]+1)*-1:this[r]},o.prototype.readInt16LE=function(r,i){r=r>>>0,i||F(r,2,this.length);const c=this[r]|this[r+1]<<8;return c&32768?c|4294901760:c},o.prototype.readInt16BE=function(r,i){r=r>>>0,i||F(r,2,this.length);const c=this[r+1]|this[r]<<8;return c&32768?c|4294901760:c},o.prototype.readInt32LE=function(r,i){return r=r>>>0,i||F(r,4,this.length),this[r]|this[r+1]<<8|this[r+2]<<16|this[r+3]<<24},o.prototype.readInt32BE=function(r,i){return r=r>>>0,i||F(r,4,this.length),this[r]<<24|this[r+1]<<16|this[r+2]<<8|this[r+3]},o.prototype.readBigInt64LE=Ve(function(r){r=r>>>0,ve(r,"offset");const i=this[r],c=this[r+7];(i===void 0||c===void 0)&&Fe(r,this.length-8);const d=this[r+4]+this[r+5]*2**8+this[r+6]*2**16+(c<<24);return(BigInt(d)<<BigInt(32))+BigInt(i+this[++r]*2**8+this[++r]*2**16+this[++r]*2**24)}),o.prototype.readBigInt64BE=Ve(function(r){r=r>>>0,ve(r,"offset");const i=this[r],c=this[r+7];(i===void 0||c===void 0)&&Fe(r,this.length-8);const d=(i<<24)+this[++r]*2**16+this[++r]*2**8+this[++r];return(BigInt(d)<<BigInt(32))+BigInt(this[++r]*2**24+this[++r]*2**16+this[++r]*2**8+c)}),o.prototype.readFloatLE=function(r,i){return r=r>>>0,i||F(r,4,this.length),n.read(this,r,!0,23,4)},o.prototype.readFloatBE=function(r,i){return r=r>>>0,i||F(r,4,this.length),n.read(this,r,!1,23,4)},o.prototype.readDoubleLE=function(r,i){return r=r>>>0,i||F(r,8,this.length),n.read(this,r,!0,52,8)},o.prototype.readDoubleBE=function(r,i){return r=r>>>0,i||F(r,8,this.length),n.read(this,r,!1,52,8)};function T(l,r,i,c,d,w){if(!o.isBuffer(l))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>d||r<w)throw new RangeError('"value" argument is out of bounds');if(i+c>l.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(r,i,c,d){if(r=+r,i=i>>>0,c=c>>>0,!d){const D=Math.pow(2,8*c)-1;T(this,r,i,c,D,0)}let w=1,m=0;for(this[i]=r&255;++m<c&&(w*=256);)this[i+m]=r/w&255;return i+c},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(r,i,c,d){if(r=+r,i=i>>>0,c=c>>>0,!d){const D=Math.pow(2,8*c)-1;T(this,r,i,c,D,0)}let w=c-1,m=1;for(this[i+w]=r&255;--w>=0&&(m*=256);)this[i+w]=r/m&255;return i+c},o.prototype.writeUint8=o.prototype.writeUInt8=function(r,i,c){return r=+r,i=i>>>0,c||T(this,r,i,1,255,0),this[i]=r&255,i+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(r,i,c){return r=+r,i=i>>>0,c||T(this,r,i,2,65535,0),this[i]=r&255,this[i+1]=r>>>8,i+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(r,i,c){return r=+r,i=i>>>0,c||T(this,r,i,2,65535,0),this[i]=r>>>8,this[i+1]=r&255,i+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(r,i,c){return r=+r,i=i>>>0,c||T(this,r,i,4,4294967295,0),this[i+3]=r>>>24,this[i+2]=r>>>16,this[i+1]=r>>>8,this[i]=r&255,i+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(r,i,c){return r=+r,i=i>>>0,c||T(this,r,i,4,4294967295,0),this[i]=r>>>24,this[i+1]=r>>>16,this[i+2]=r>>>8,this[i+3]=r&255,i+4};function oe(l,r,i,c,d){Re(r,c,d,l,i,7);let w=Number(r&BigInt(4294967295));l[i++]=w,w=w>>8,l[i++]=w,w=w>>8,l[i++]=w,w=w>>8,l[i++]=w;let m=Number(r>>BigInt(32)&BigInt(4294967295));return l[i++]=m,m=m>>8,l[i++]=m,m=m>>8,l[i++]=m,m=m>>8,l[i++]=m,i}function de(l,r,i,c,d){Re(r,c,d,l,i,7);let w=Number(r&BigInt(4294967295));l[i+7]=w,w=w>>8,l[i+6]=w,w=w>>8,l[i+5]=w,w=w>>8,l[i+4]=w;let m=Number(r>>BigInt(32)&BigInt(4294967295));return l[i+3]=m,m=m>>8,l[i+2]=m,m=m>>8,l[i+1]=m,m=m>>8,l[i]=m,i+8}o.prototype.writeBigUInt64LE=Ve(function(r,i=0){return oe(this,r,i,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=Ve(function(r,i=0){return de(this,r,i,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(r,i,c,d){if(r=+r,i=i>>>0,!d){const j=Math.pow(2,8*c-1);T(this,r,i,c,j-1,-j)}let w=0,m=1,D=0;for(this[i]=r&255;++w<c&&(m*=256);)r<0&&D===0&&this[i+w-1]!==0&&(D=1),this[i+w]=(r/m>>0)-D&255;return i+c},o.prototype.writeIntBE=function(r,i,c,d){if(r=+r,i=i>>>0,!d){const j=Math.pow(2,8*c-1);T(this,r,i,c,j-1,-j)}let w=c-1,m=1,D=0;for(this[i+w]=r&255;--w>=0&&(m*=256);)r<0&&D===0&&this[i+w+1]!==0&&(D=1),this[i+w]=(r/m>>0)-D&255;return i+c},o.prototype.writeInt8=function(r,i,c){return r=+r,i=i>>>0,c||T(this,r,i,1,127,-128),r<0&&(r=255+r+1),this[i]=r&255,i+1},o.prototype.writeInt16LE=function(r,i,c){return r=+r,i=i>>>0,c||T(this,r,i,2,32767,-32768),this[i]=r&255,this[i+1]=r>>>8,i+2},o.prototype.writeInt16BE=function(r,i,c){return r=+r,i=i>>>0,c||T(this,r,i,2,32767,-32768),this[i]=r>>>8,this[i+1]=r&255,i+2},o.prototype.writeInt32LE=function(r,i,c){return r=+r,i=i>>>0,c||T(this,r,i,4,2147483647,-2147483648),this[i]=r&255,this[i+1]=r>>>8,this[i+2]=r>>>16,this[i+3]=r>>>24,i+4},o.prototype.writeInt32BE=function(r,i,c){return r=+r,i=i>>>0,c||T(this,r,i,4,2147483647,-2147483648),r<0&&(r=4294967295+r+1),this[i]=r>>>24,this[i+1]=r>>>16,this[i+2]=r>>>8,this[i+3]=r&255,i+4},o.prototype.writeBigInt64LE=Ve(function(r,i=0){return oe(this,r,i,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=Ve(function(r,i=0){return de(this,r,i,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function te(l,r,i,c,d,w){if(i+c>l.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function le(l,r,i,c,d){return r=+r,i=i>>>0,d||te(l,r,i,4),n.write(l,r,i,c,23,4),i+4}o.prototype.writeFloatLE=function(r,i,c){return le(this,r,i,!0,c)},o.prototype.writeFloatBE=function(r,i,c){return le(this,r,i,!1,c)};function he(l,r,i,c,d){return r=+r,i=i>>>0,d||te(l,r,i,8),n.write(l,r,i,c,52,8),i+8}o.prototype.writeDoubleLE=function(r,i,c){return he(this,r,i,!0,c)},o.prototype.writeDoubleBE=function(r,i,c){return he(this,r,i,!1,c)},o.prototype.copy=function(r,i,c,d){if(!o.isBuffer(r))throw new TypeError("argument should be a Buffer");if(c||(c=0),!d&&d!==0&&(d=this.length),i>=r.length&&(i=r.length),i||(i=0),d>0&&d<c&&(d=c),d===c||r.length===0||this.length===0)return 0;if(i<0)throw new RangeError("targetStart out of bounds");if(c<0||c>=this.length)throw new RangeError("Index out of range");if(d<0)throw new RangeError("sourceEnd out of bounds");d>this.length&&(d=this.length),r.length-i<d-c&&(d=r.length-i+c);const w=d-c;return this===r&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(i,c,d):Uint8Array.prototype.set.call(r,this.subarray(c,d),i),w},o.prototype.fill=function(r,i,c,d){if(typeof r=="string"){if(typeof i=="string"?(d=i,i=0,c=this.length):typeof c=="string"&&(d=c,c=this.length),d!==void 0&&typeof d!="string")throw new TypeError("encoding must be a string");if(typeof d=="string"&&!o.isEncoding(d))throw new TypeError("Unknown encoding: "+d);if(r.length===1){const m=r.charCodeAt(0);(d==="utf8"&&m<128||d==="latin1")&&(r=m)}}else typeof r=="number"?r=r&255:typeof r=="boolean"&&(r=Number(r));if(i<0||this.length<i||this.length<c)throw new RangeError("Out of range index");if(c<=i)return this;i=i>>>0,c=c===void 0?this.length:c>>>0,r||(r=0);let w;if(typeof r=="number")for(w=i;w<c;++w)this[w]=r;else{const m=o.isBuffer(r)?r:o.from(r,d),D=m.length;if(D===0)throw new TypeError('The value "'+r+'" is invalid for argument "value"');for(w=0;w<c-i;++w)this[w+i]=m[w%D]}return this};const R={};function Y(l,r,i){R[l]=class extends i{constructor(){super(),Object.defineProperty(this,"message",{value:r.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${l}]`,this.stack,delete this.name}get code(){return l}set code(d){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:d,writable:!0})}toString(){return`${this.name} [${l}]: ${this.message}`}}}Y("ERR_BUFFER_OUT_OF_BOUNDS",function(l){return l?`${l} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Y("ERR_INVALID_ARG_TYPE",function(l,r){return`The "${l}" argument must be of type number. Received type ${typeof r}`},TypeError),Y("ERR_OUT_OF_RANGE",function(l,r,i){let c=`The value of "${l}" is out of range.`,d=i;return Number.isInteger(i)&&Math.abs(i)>2**32?d=ne(String(i)):typeof i=="bigint"&&(d=String(i),(i>BigInt(2)**BigInt(32)||i<-(BigInt(2)**BigInt(32)))&&(d=ne(d)),d+="n"),c+=` It must be ${r}. Received ${d}`,c},RangeError);function ne(l){let r="",i=l.length;const c=l[0]==="-"?1:0;for(;i>=c+4;i-=3)r=`_${l.slice(i-3,i)}${r}`;return`${l.slice(0,i)}${r}`}function pe(l,r,i){ve(r,"offset"),(l[r]===void 0||l[r+i]===void 0)&&Fe(r,l.length-(i+1))}function Re(l,r,i,c,d,w){if(l>i||l<r){const m=typeof r=="bigint"?"n":"";let D;throw r===0||r===BigInt(0)?D=`>= 0${m} and < 2${m} ** ${(w+1)*8}${m}`:D=`>= -(2${m} ** ${(w+1)*8-1}${m}) and < 2 ** ${(w+1)*8-1}${m}`,new R.ERR_OUT_OF_RANGE("value",D,l)}pe(c,d,w)}function ve(l,r){if(typeof l!="number")throw new R.ERR_INVALID_ARG_TYPE(r,"number",l)}function Fe(l,r,i){throw Math.floor(l)!==l?(ve(l,i),new R.ERR_OUT_OF_RANGE("offset","an integer",l)):r<0?new R.ERR_BUFFER_OUT_OF_BOUNDS:new R.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${r}`,l)}const dt=/[^+/0-9A-Za-z-_]/g;function It(l){if(l=l.split("=")[0],l=l.trim().replace(dt,""),l.length<2)return"";for(;l.length%4!==0;)l=l+"=";return l}function Ct(l,r){r=r||1/0;let i;const c=l.length;let d=null;const w=[];for(let m=0;m<c;++m){if(i=l.charCodeAt(m),i>55295&&i<57344){if(!d){if(i>56319){(r-=3)>-1&&w.push(239,191,189);continue}else if(m+1===c){(r-=3)>-1&&w.push(239,191,189);continue}d=i;continue}if(i<56320){(r-=3)>-1&&w.push(239,191,189),d=i;continue}i=(d-55296<<10|i-56320)+65536}else d&&(r-=3)>-1&&w.push(239,191,189);if(d=null,i<128){if((r-=1)<0)break;w.push(i)}else if(i<2048){if((r-=2)<0)break;w.push(i>>6|192,i&63|128)}else if(i<65536){if((r-=3)<0)break;w.push(i>>12|224,i>>6&63|128,i&63|128)}else if(i<1114112){if((r-=4)<0)break;w.push(i>>18|240,i>>12&63|128,i>>6&63|128,i&63|128)}else throw new Error("Invalid code point")}return w}function St(l){const r=[];for(let i=0;i<l.length;++i)r.push(l.charCodeAt(i)&255);return r}function Pt(l,r){let i,c,d;const w=[];for(let m=0;m<l.length&&!((r-=2)<0);++m)i=l.charCodeAt(m),c=i>>8,d=i%256,w.push(d),w.push(c);return w}function Dt(l){return e.toByteArray(It(l))}function qt(l,r,i,c){let d;for(d=0;d<c&&!(d+i>=r.length||d>=l.length);++d)r[d+i]=l[d];return d}function Le(l,r){return l instanceof r||l!=null&&l.constructor!=null&&l.constructor.name!=null&&l.constructor.name===r.name}function nr(l){return l!==l}const Wn=(function(){const l="0123456789abcdef",r=new Array(256);for(let i=0;i<16;++i){const c=i*16;for(let d=0;d<16;++d)r[c+d]=l[i]+l[d]}return r})();function Ve(l){return typeof BigInt>"u"?Vn:l}function Vn(){throw new Error("BigInt not supported")}})(ur)),ur}var Ks=zs();globalThis.Buffer=Ks.Buffer;"serviceWorker"in navigator&&navigator.serviceWorker.register("sw.js");Qi(Hs,{target:document.getElementById("app")});async function Js(t,e,n){let s;return Promise.race([t,new Promise((a,u)=>{s=setTimeout(()=>u(n),e)})]).finally(()=>clearTimeout(s))}class Xs extends Fr{constructor(){super(...arguments),this.deviceMap=new Map,this.discoveredDevices=new Map,this.scan=null,this.DEFAULT_CONNECTION_TIMEOUT=1e4,this.onAdvertisementReceivedCallback=this.onAdvertisementReceived.bind(this),this.onDisconnectedCallback=this.onDisconnected.bind(this),this.onCharacteristicValueChangedCallback=this.onCharacteristicValueChanged.bind(this)}async initialize(){if(typeof navigator>"u"||!navigator.bluetooth)throw this.unavailable("Web Bluetooth API not available in this browser.");if(!await navigator.bluetooth.getAvailability())throw this.unavailable("No Bluetooth radio available.")}async isEnabled(){return{value:!0}}async requestEnable(){throw this.unavailable("requestEnable is not available on web.")}async enable(){throw this.unavailable("enable is not available on web.")}async disable(){throw this.unavailable("disable is not available on web.")}async startEnabledNotifications(){}async stopEnabledNotifications(){}async isLocationEnabled(){throw this.unavailable("isLocationEnabled is not available on web.")}async openLocationSettings(){throw this.unavailable("openLocationSettings is not available on web.")}async openBluetoothSettings(){throw this.unavailable("openBluetoothSettings is not available on web.")}async openAppSettings(){throw this.unavailable("openAppSettings is not available on web.")}async setDisplayStrings(){}async requestDevice(e){const n=this.getFilters(e),s=await navigator.bluetooth.requestDevice({filters:n.length?n:void 0,optionalServices:e?.optionalServices,acceptAllDevices:n.length===0});return this.deviceMap.set(s.id,s),this.getBleDevice(s)}async requestLEScan(e){this.requestBleDeviceOptions=e;const n=this.getFilters(e);await this.stopLEScan(),this.discoveredDevices=new Map,navigator.bluetooth.removeEventListener("advertisementreceived",this.onAdvertisementReceivedCallback),navigator.bluetooth.addEventListener("advertisementreceived",this.onAdvertisementReceivedCallback),this.scan=await navigator.bluetooth.requestLEScan({filters:n.length?n:void 0,acceptAllAdvertisements:n.length===0,keepRepeatedDevices:e?.allowDuplicates})}onAdvertisementReceived(e){var n,s;const a=e.device.id;if(this.deviceMap.set(a,e.device),!this.discoveredDevices.has(a)||!((n=this.requestBleDeviceOptions)===null||n===void 0)&&n.allowDuplicates){this.discoveredDevices.set(a,!0);const f=this.getBleDevice(e.device),o={device:f,localName:f.name,rssi:e.rssi,txPower:e.txPower,manufacturerData:Jr(e.manufacturerData),serviceData:Jr(e.serviceData),uuids:(s=e.uuids)===null||s===void 0?void 0:s.map(Cs)};this.notifyListeners("onScanResult",o)}}async stopLEScan(){var e;!((e=this.scan)===null||e===void 0)&&e.active&&this.scan.stop(),this.scan=null}async getDevices(e){return{devices:(await navigator.bluetooth.getDevices()).filter(a=>e.deviceIds.includes(a.id)).map(a=>(this.deviceMap.set(a.id,a),this.getBleDevice(a)))}}async getConnectedDevices(e){return{devices:(await navigator.bluetooth.getDevices()).filter(a=>{var u;return(u=a.gatt)===null||u===void 0?void 0:u.connected}).map(a=>(this.deviceMap.set(a.id,a),this.getBleDevice(a)))}}async getBondedDevices(){return{}}async connect(e){var n,s;const a=this.getDeviceFromMap(e.deviceId);a.removeEventListener("gattserverdisconnected",this.onDisconnectedCallback),a.addEventListener("gattserverdisconnected",this.onDisconnectedCallback);const u=Symbol();if(a.gatt===void 0)throw new Error("No gatt server available.");try{const f=(n=e.timeout)!==null&&n!==void 0?n:this.DEFAULT_CONNECTION_TIMEOUT;await Js(a.gatt.connect(),f,u)}catch(f){throw await((s=a.gatt)===null||s===void 0?void 0:s.disconnect()),f===u?new Error("Connection timeout"):f}}onDisconnected(e){const s=`disconnected|${e.target.id}`;this.notifyListeners(s,null)}async createBond(e){throw this.unavailable("createBond is not available on web.")}async isBonded(e){throw this.unavailable("isBonded is not available on web.")}async disconnect(e){var n;(n=this.getDeviceFromMap(e.deviceId).gatt)===null||n===void 0||n.disconnect()}async getServices(e){var n,s;const a=(s=await((n=this.getDeviceFromMap(e.deviceId).gatt)===null||n===void 0?void 0:n.getPrimaryServices()))!==null&&s!==void 0?s:[],u=[];for(const f of a){const o=await f.getCharacteristics(),h=[];for(const v of o)h.push({uuid:v.uuid,properties:this.getProperties(v),descriptors:await this.getDescriptors(v)});u.push({uuid:f.uuid,characteristics:h})}return{services:u}}async getDescriptors(e){try{return(await e.getDescriptors()).map(s=>({uuid:s.uuid}))}catch{return[]}}getProperties(e){return{broadcast:e.properties.broadcast,read:e.properties.read,writeWithoutResponse:e.properties.writeWithoutResponse,write:e.properties.write,notify:e.properties.notify,indicate:e.properties.indicate,authenticatedSignedWrites:e.properties.authenticatedSignedWrites,reliableWrite:e.properties.reliableWrite,writableAuxiliaries:e.properties.writableAuxiliaries}}async getCharacteristic(e){var n;const s=await((n=this.getDeviceFromMap(e.deviceId).gatt)===null||n===void 0?void 0:n.getPrimaryService(e?.service));return s?.getCharacteristic(e?.characteristic)}async getDescriptor(e){const n=await this.getCharacteristic(e);return n?.getDescriptor(e?.descriptor)}async discoverServices(e){throw this.unavailable("discoverServices is not available on web.")}async getMtu(e){throw this.unavailable("getMtu is not available on web.")}async requestConnectionPriority(e){throw this.unavailable("requestConnectionPriority is not available on web.")}async readRssi(e){throw this.unavailable("readRssi is not available on web.")}async read(e){const n=await this.getCharacteristic(e);return{value:await n?.readValue()}}async write(e){const n=await this.getCharacteristic(e);let s;typeof e.value=="string"?s=Jt(e.value):s=e.value,await n?.writeValueWithResponse(s)}async writeWithoutResponse(e){const n=await this.getCharacteristic(e);let s;typeof e.value=="string"?s=Jt(e.value):s=e.value,await n?.writeValueWithoutResponse(s)}async readDescriptor(e){const n=await this.getDescriptor(e);return{value:await n?.readValue()}}async writeDescriptor(e){const n=await this.getDescriptor(e);let s;typeof e.value=="string"?s=Jt(e.value):s=e.value,await n?.writeValue(s)}async startNotifications(e){const n=await this.getCharacteristic(e);n?.removeEventListener("characteristicvaluechanged",this.onCharacteristicValueChangedCallback),n?.addEventListener("characteristicvaluechanged",this.onCharacteristicValueChangedCallback),await n?.startNotifications()}onCharacteristicValueChanged(e){var n,s;const a=e.target,u=`notification|${(n=a.service)===null||n===void 0?void 0:n.device.id}|${(s=a.service)===null||s===void 0?void 0:s.uuid}|${a.uuid}`;this.notifyListeners(u,{value:a.value})}async stopNotifications(e){const n=await this.getCharacteristic(e);await n?.stopNotifications()}getFilters(e){var n;const s=[];for(const a of(n=e?.services)!==null&&n!==void 0?n:[])s.push({services:[a],name:e?.name,namePrefix:e?.namePrefix});return(e?.name||e?.namePrefix)&&s.length===0&&s.push({name:e.name,namePrefix:e.namePrefix}),s}getDeviceFromMap(e){const n=this.deviceMap.get(e);if(n===void 0)throw new Error('Device not found. Call "requestDevice", "requestLEScan" or "getDevices" first.');return n}getBleDevice(e){var n;return{deviceId:e.id,name:(n=e.name)!==null&&n!==void 0?n:void 0}}}const Qs=Object.freeze(Object.defineProperty({__proto__:null,BluetoothLeWeb:Xs},Symbol.toStringTag,{value:"Module"}));</script>
    <style rel="stylesheet" crossorigin>:root{font-family:system-ui,Avenir,Helvetica,Arial,sans-serif;line-height:1.5;font-weight:400;color-scheme:light dark;color:#ffffffde;background-color:#242424;font-synthesis:none;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}a{font-weight:500;color:#646cff;text-decoration:inherit}a:hover{color:#535bf2}html{overflow:hidden;touch-action:none;overscroll-behavior:none}body{margin:0;padding:0;display:flex;justify-content:center;align-items:flex-start;min-height:100vh;width:100%;max-width:100vw;overflow-x:hidden;box-sizing:border-box;overflow:hidden;touch-action:none;overscroll-behavior:none}h2{margin:0}button{padding:.5rem 1rem;border:1px solid #ccc;border-radius:4px;background:#fff;cursor:pointer;font-size:1rem;color:#000}button:hover{background:#f0f0f0}#app{width:100%;max-width:100%;overflow-x:hidden}.radioBoxes{margin-top:.25em;display:flex;justify-content:center;gap:1rem;width:100%;max-width:100%;box-sizing:border-box}.radioBox{border:1px solid gray;padding:.25em;margin-top:.5em;display:flex;align-items:center;justify-content:space-around;flex-wrap:wrap;text-wrap:nowrap;width:calc(50% - .5rem - 2px);max-width:calc(50% - .5rem - 2px);box-sizing:border-box}.radioBoxItem{display:flex;align-items:center;text-wrap:nowrap;color:#fff}.radioBoxItem input{margin:.25em .25em .25em .75em;cursor:pointer}.radioBoxItem label{cursor:pointer}.radioChosen{font-weight:700;color:#f44}.statBoxButton{cursor:pointer;border:1px solid gray;padding:.25em;display:inline-block;white-space:nowrap;border-radius:4px}.mainContainer{width:100%;max-width:1200px;margin:0 auto;display:flex;justify-content:center;align-items:flex-start;min-height:100vh;box-sizing:border-box;padding:0;overflow-x:hidden}.gauges{display:flex;justify-content:space-between;align-items:center;width:75vw}.gaugeRow{display:flex;justify-content:space-between;align-items:center;box-sizing:border-box}.statusText{margin-top:.5em;font-weight:700;font-size:1.2em;text-align:center;color:#f44}.settingsDialog{border:1px solid #eee;border-radius:8px;background-color:#333;max-width:1000px;position:absolute;top:15%;width:80%;margin:auto;padding:1em;vertical-align:top}.statBoxes{margin-top:.1em;display:flex;justify-content:space-evenly;width:100%}#auto_edging_duration_minutes{accent-color:red;background:linear-gradient(to right,red 0% 100%)}.settingSliders{margin-top:2em;width:100%;max-width:80vw;display:flex;flex-direction:column;gap:.5em;justify-content:center;box-sizing:border-box}.settingSliders #max_denied{accent-color:red;background:linear-gradient(to right,red 0% 100%)}.topButton{cursor:pointer;margin:.2%;padding-bottom:0;border-radius:5px}.circular-progress{display:flex;flex-direction:column;align-items:center;justify-content:center;max-width:280px}.circular-progress svg{width:20vw;height:20vw;max-width:240px;max-height:240px}.belowCircleButton{border-radius:8px;height:1.75rem;line-height:.75rem;color:#000;cursor:pointer;margin-top:.75rem;width:10em}.gaugesWrapper{display:flex;justify-content:center;align-items:center;width:100%;flex-direction:column;margin:0 auto}@media screen and (max-width:700px){.gaugesWrapper{width:100%}.belowCircleButton{width:2em}.radioBox{display:flex;margin-bottom:.3em;padding:0;max-width:100%;font-size:.8em}.statBoxButton{font-size:.5em}.gauges{flex-direction:column;gap:1.5rem}.gaugeRow{width:90vw;max-width:100%;gap:0;box-sizing:border-box;justify-content:space-evenly}.circular-progress{max-width:40vw;margin:0 1em}.circular-progress svg{width:30vw;height:30vw}.belowCircleButton{width:10em}}@media screen and (max-width:1000px){.radioBoxes{flex-direction:column;align-items:center}.radioBox{width:75vw;max-width:75vw}}@media screen and (max-width:1500px){.gaugeRow{justify-content:space-around}.gauges{justify-content:center}}@media screen and (max-width:460px){.radioBox{font-size:.6em}.circular-progress{max-width:30vw}}@keyframes flashRedPink{0%,to{stroke:red}50%{stroke:#f66}}@keyframes flashRedPinkText{0%,to{fill:red;color:red}50%{fill:#f66;color:#f66}}@keyframes flashOrangeYellow{0%,to{stroke:orange}50%{stroke:#ff0}}@keyframes flashOrangeYellowText{0%,to{fill:orange}50%{fill:#ff0}}@keyframes flashPinkWhite{0%,to{stroke:#ff7fff}50%{stroke:#ffb3ff}}@keyframes flashPinkWhiteText{0%,to{fill:#ff7fff}50%{fill:#ffb3ff}}.cooldown-flash-stroke{animation:flashRedPink .5s infinite}.cooldown-flash-text{animation:flashRedPinkText .5s infinite}.cooldown-flash-stroke-orange{animation:flashOrangeYellow .5s infinite}.cooldown-flash-text-orange{animation:flashOrangeYellowText .5s infinite}.cooldown-flash-stroke-pink{animation:flashPinkWhite .5s infinite}.cooldown-flash-text-pink{animation:flashPinkWhiteText .5s infinite}input[type=range][readonly]{-webkit-appearance:none;appearance:none}input[type=range][readonly]::-webkit-slider-track{width:50px;height:100%;background:linear-gradient(to bottom,orange 0% 100%);border-radius:25px;border:2px solid #ff8800}input[type=range][readonly]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:50px;height:20px;background:#fff;border:3px solid orange;border-radius:10px;cursor:default}input[type=range][readonly]::-moz-range-track{width:50px;height:100%;background:linear-gradient(to bottom,orange 0% 100%);border-radius:25px;border:2px solid #ff8800}input[type=range][readonly]::-moz-range-thumb{width:50px;height:20px;background:#fff;border:3px solid orange;border-radius:10px;cursor:default}.buttplug-connector{display:flex;flex-direction:column;gap:1rem;padding:1rem}.buttplug-connector ul{list-style:none;padding:0;margin:0;border-top:1px solid #eee}.buttplug-connector li{padding:.5rem;border-bottom:1px solid #eee}.buttplug-connector .device-sliders{display:flex;flex-direction:column;gap:.5rem}.buttplug-connector .device-sliders input::-webkit-outer-spin-button,.buttplug-connector .device-sliders input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.buttplug-connector .device-sliders .slider{width:100%;height:6px;position:relative;background:#444;border-radius:5px}.buttplug-connector .device-sliders .slider .range-slider{height:100%;left:0%;right:0%;position:absolute;border-radius:5px;background:#99c8ff}.buttplug-connector .device-sliders .range-input{position:relative}.buttplug-connector .device-sliders .range-input input{position:absolute;width:100%;height:5px;background:none;top:-15px;pointer-events:none;cursor:pointer;-webkit-appearance:none}.buttplug-connector .device-sliders input[type=range]::-webkit-slider-thumb{height:18px;width:40px;border-radius:4px;background:#555;pointer-events:auto;-webkit-appearance:none;position:relative}.buttplug-connector .device-sliders input[type=range]::-moz-range-thumb{height:18px;width:40px;border-radius:4px;background:#555;pointer-events:auto;border:none}.buttplug-connector .device-sliders input[type=range].min-range::-webkit-slider-thumb{background:#555 url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="40" height="18"><text x="50%" y="13" font-family="Arial" font-size="10" fill="white" text-anchor="middle">min</text></svg>') center/contain no-repeat}.buttplug-connector .device-sliders input[type=range].min-range::-moz-range-thumb{background:#555 url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="40" height="18"><text x="50%" y="13" font-family="Arial" font-size="10" fill="white" text-anchor="middle">min</text></svg>') center/contain no-repeat}.buttplug-connector .device-sliders input[type=range].max-range::-webkit-slider-thumb{background:#555 url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="40" height="18"><text x="50%" y="13" font-family="Arial" font-size="10" fill="white" text-anchor="middle">max</text></svg>') center/contain no-repeat}.buttplug-connector .device-sliders input[type=range].max-range::-moz-range-thumb{background:#555 url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="40" height="18"><text x="50%" y="13" font-family="Arial" font-size="10" fill="white" text-anchor="middle">max</text></svg>') center/contain no-repeat}.bluetooth-ossm-control.svelte-kxsqrl{margin:37px auto 5%;width:90%;align-items:center;gap:1rem;padding:1rem;border:1px solid #ccc;position:relative}.bluetooth-ossm-control.svelte-kxsqrl:before{content:"";position:absolute;top:-46px;left:40%;transform:translate(-50%);width:30%;height:50px;background-image:url(./possum_head.svg);background-size:contain;background-repeat:no-repeat;background-position:center}.bluetooth-ossm-control.svelte-kxsqrl:after{content:"";position:absolute;bottom:-39px;left:65%;transform:translate(-50%);width:40%;height:60px;background-image:url(./possum_tail.svg);background-size:100% 60px;background-repeat:no-repeat;background-position:center}@media screen and (max-width:800px){.bluetooth-ossm-control.svelte-kxsqrl:after{bottom:-36px}}@media screen and (max-width:600px){.bluetooth-ossm-control.svelte-kxsqrl:after{bottom:-34px}.bluetooth-ossm-control.svelte-kxsqrl .minMaxText:where(.svelte-kxsqrl){display:none}.bluetooth-ossm-control.svelte-kxsqrl .invertedText:where(.svelte-kxsqrl){white-space:nowrap;font-size:xx-small}}.bluetooth-ossm-control.svelte-kxsqrl .minMaxText:where(.svelte-kxsqrl){font-size:small;color:#ccc}.bluetooth-ossm-control.svelte-kxsqrl .invertedText:where(.svelte-kxsqrl){white-space:nowrap;font-size:small}.bluetooth-ossm-control.svelte-kxsqrl .device-disconnect:where(.svelte-kxsqrl){color:#900;font-weight:700;float:right;width:4.8rem;text-align:center}.bluetooth-ossm-control.svelte-kxsqrl .device-pause:where(.svelte-kxsqrl){color:#900;background-color:#f8bcbc;width:4rem}.bluetooth-ossm-control.svelte-kxsqrl .device-resume:where(.svelte-kxsqrl){color:#07ba48;background-color:#e4f8bc;width:4rem}.bluetooth-ossm-control.svelte-kxsqrl .device-sliders:where(.svelte-kxsqrl){display:flex;flex-direction:column;margin-bottom:20px;gap:.5rem}.bluetooth-ossm-control.svelte-kxsqrl .device-sliders:where(.svelte-kxsqrl) input:where(.svelte-kxsqrl)::-webkit-outer-spin-button,.bluetooth-ossm-control.svelte-kxsqrl .device-sliders:where(.svelte-kxsqrl) input:where(.svelte-kxsqrl)::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.bluetooth-ossm-control.svelte-kxsqrl .device-sliders:where(.svelte-kxsqrl) input[type=range].main-slider:where(.svelte-kxsqrl){-webkit-appearance:none;appearance:none;background:#3a6dc1;cursor:pointer;height:40px;border-radius:20px;outline:none}.bluetooth-ossm-control.svelte-kxsqrl .device-sliders:where(.svelte-kxsqrl) input[type=range].main-slider:where(.svelte-kxsqrl)::-webkit-slider-track{background:#3a6dc1;height:40px;border-radius:20px;border:none}.bluetooth-ossm-control.svelte-kxsqrl .device-sliders:where(.svelte-kxsqrl) input[type=range].main-slider:where(.svelte-kxsqrl)::-moz-range-track{background:#3a6dc1;height:40px;border-radius:20px}.bluetooth-ossm-control.svelte-kxsqrl .device-sliders:where(.svelte-kxsqrl) input[type=range].main-slider:where(.svelte-kxsqrl)::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;height:40px;width:40px;border-radius:20px;background:#acf;cursor:pointer;margin-top:0}.bluetooth-ossm-control.svelte-kxsqrl .device-sliders:where(.svelte-kxsqrl) input[type=range].main-slider:where(.svelte-kxsqrl)::-moz-range-thumb{height:40px;width:40px;border-radius:20px;background:#acf;cursor:pointer;border:none}.bluetooth-ossm-control.svelte-kxsqrl .device-sliders:where(.svelte-kxsqrl) .slider:where(.svelte-kxsqrl){width:100%;height:6px;position:relative;background:#444;border-radius:5px}.bluetooth-ossm-control.svelte-kxsqrl .device-sliders:where(.svelte-kxsqrl) .slider:where(.svelte-kxsqrl) .range-slider:where(.svelte-kxsqrl){height:100%;left:0%;right:0%;position:absolute;border-radius:20px;background:#99c8ff}.bluetooth-ossm-control.svelte-kxsqrl .device-sliders:where(.svelte-kxsqrl) .range-input:where(.svelte-kxsqrl){position:relative}.bluetooth-ossm-control.svelte-kxsqrl .device-sliders:where(.svelte-kxsqrl) .range-input:where(.svelte-kxsqrl) input:where(.svelte-kxsqrl){position:absolute;width:100%;height:5px;background:none;top:-15px;pointer-events:none;cursor:pointer;-webkit-appearance:none}.bluetooth-ossm-control.svelte-kxsqrl .device-sliders:where(.svelte-kxsqrl) input[type=range]:where(.svelte-kxsqrl)::-webkit-slider-thumb{height:40px;width:40px;border-radius:20px;background:#555;pointer-events:auto;-webkit-appearance:none;position:relative}.bluetooth-ossm-control.svelte-kxsqrl .device-sliders:where(.svelte-kxsqrl) input[type=range]:where(.svelte-kxsqrl)::-moz-range-thumb{height:40px;width:40px;border-radius:20px;background:#555;pointer-events:auto;border:none}.bluetooth-ossm-control.svelte-kxsqrl .device-sliders:where(.svelte-kxsqrl) input[type=range].min-range:where(.svelte-kxsqrl)::-webkit-slider-thumb{height:18px;background:#555 url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="40" height="18"><text x="50%" y="13" font-family="Arial" font-size="10" fill="white" text-anchor="middle">min</text></svg>') center/contain no-repeat}.bluetooth-ossm-control.svelte-kxsqrl .device-sliders:where(.svelte-kxsqrl) input[type=range].min-range:where(.svelte-kxsqrl)::-moz-range-thumb{height:18px;background:#555 url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="40" height="18"><text x="50%" y="13" font-family="Arial" font-size="10" fill="white" text-anchor="middle">min</text></svg>') center/contain no-repeat}.bluetooth-ossm-control.svelte-kxsqrl .device-sliders:where(.svelte-kxsqrl) input[type=range].max-range:where(.svelte-kxsqrl)::-webkit-slider-thumb{height:18px;background:#555 url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="40" height="18"><text x="50%" y="13" font-family="Arial" font-size="10" fill="white" text-anchor="middle">max</text></svg>') center/contain no-repeat}.bluetooth-ossm-control.svelte-kxsqrl .device-sliders:where(.svelte-kxsqrl) input[type=range].max-range:where(.svelte-kxsqrl)::-moz-range-thumb{height:18px;background:#555 url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="40" height="18"><text x="50%" y="13" font-family="Arial" font-size="10" fill="white" text-anchor="middle">max</text></svg>') center/contain no-repeat}</style>
  </head>
  <body>
    <div id="app"></div>
  </body>
</html>
